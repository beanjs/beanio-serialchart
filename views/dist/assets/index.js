(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function makeMap(r,t){const n=Object.create(null),i=r.split(",");for(let a=0;a<i.length;a++)n[i[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=r=>onRE.test(r),isModelListener=r=>r.startsWith("onUpdate:"),extend$1=Object.assign,remove=(r,t)=>{const n=r.indexOf(t);n>-1&&r.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$1=(r,t)=>hasOwnProperty$1.call(r,t),isArray$1=Array.isArray,isMap=r=>toTypeString(r)==="[object Map]",isSet=r=>toTypeString(r)==="[object Set]",isDate=r=>toTypeString(r)==="[object Date]",isFunction$1=r=>typeof r=="function",isString$1=r=>typeof r=="string",isSymbol=r=>typeof r=="symbol",isObject$3=r=>r!==null&&typeof r=="object",isPromise=r=>isObject$3(r)&&isFunction$1(r.then)&&isFunction$1(r.catch),objectToString=Object.prototype.toString,toTypeString=r=>objectToString.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isPlainObject=r=>toTypeString(r)==="[object Object]",isIntegerKey=r=>isString$1(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=r=>{const t=Object.create(null);return n=>t[n]||(t[n]=r(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(r=>r.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(r=>r.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(r=>r.charAt(0).toUpperCase()+r.slice(1)),toHandlerKey=cacheStringFunction(r=>r?`on${capitalize(r)}`:""),hasChanged=(r,t)=>!Object.is(r,t),invokeArrayFns=(r,t)=>{for(let n=0;n<r.length;n++)r[n](t)},def=(r,t,n)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:n})},looseToNumber=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle$1(r){if(isArray$1(r)){const t={};for(let n=0;n<r.length;n++){const i=r[n],a=isString$1(i)?parseStringStyle(i):normalizeStyle$1(i);if(a)for(const o in a)t[o]=a[o]}return t}else{if(isString$1(r))return r;if(isObject$3(r))return r}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(r){const t={};return r.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const i=n.split(propertyDelimiterRE);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function normalizeClass(r){let t="";if(isString$1(r))t=r;else if(isArray$1(r))for(let n=0;n<r.length;n++){const i=normalizeClass(r[n]);i&&(t+=i+" ")}else if(isObject$3(r))for(const n in r)r[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(r){return!!r||r===""}function looseCompareArrays(r,t){if(r.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<r.length;i++)n=looseEqual(r[i],t[i]);return n}function looseEqual(r,t){if(r===t)return!0;let n=isDate(r),i=isDate(t);if(n||i)return n&&i?r.getTime()===t.getTime():!1;if(n=isSymbol(r),i=isSymbol(t),n||i)return r===t;if(n=isArray$1(r),i=isArray$1(t),n||i)return n&&i?looseCompareArrays(r,t):!1;if(n=isObject$3(r),i=isObject$3(t),n||i){if(!n||!i)return!1;const a=Object.keys(r).length,o=Object.keys(t).length;if(a!==o)return!1;for(const s in r){const l=r.hasOwnProperty(s),u=t.hasOwnProperty(s);if(l&&!u||!l&&u||!looseEqual(r[s],t[s]))return!1}}return String(r)===String(t)}function looseIndexOf(r,t){return r.findIndex(n=>looseEqual(n,t))}const toDisplayString=r=>isString$1(r)?r:r==null?"":isArray$1(r)||isObject$3(r)&&(r.toString===objectToString||!isFunction$1(r.toString))?JSON.stringify(r,replacer,2):String(r),replacer=(r,t)=>t&&t.__v_isRef?replacer(r,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,a])=>(n[`${i} =>`]=a,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$3(t)&&!isArray$1(t)&&!isPlainObject(t)?String(t):t;let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(r,t=activeEffectScope){t&&t.active&&t.effects.push(r)}function getCurrentScope(){return activeEffectScope}const createDep=r=>{const t=new Set(r);return t.w=0,t.n=0,t},wasTracked=r=>(r.w&trackOpBit)>0,newTracked=r=>(r.n&trackOpBit)>0,initDepMarkers=({deps:r})=>{if(r.length)for(let t=0;t<r.length;t++)r[t].w|=trackOpBit},finalizeDepMarkers=r=>{const{deps:t}=r;if(t.length){let n=0;for(let i=0;i<t.length;i++){const a=t[i];wasTracked(a)&&!newTracked(a)?a.delete(r):t[n++]=a,a.w&=~trackOpBit,a.n&=~trackOpBit}t.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,i)}run(){if(!this.active)return this.fn();let t=activeEffect,n=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(r){const{deps:t}=r;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(r);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const r=trackStack.pop();shouldTrack=r===void 0?!0:r}function track(r,t,n){if(shouldTrack&&activeEffect){let i=targetMap.get(r);i||targetMap.set(r,i=new Map);let a=i.get(n);a||i.set(n,a=createDep()),trackEffects(a)}}function trackEffects(r,t){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(r)||(r.n|=trackOpBit,n=!wasTracked(r)):n=!r.has(activeEffect),n&&(r.add(activeEffect),activeEffect.deps.push(r))}function trigger$1(r,t,n,i,a,o){const s=targetMap.get(r);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(n==="length"&&isArray$1(r)){const u=Number(i);s.forEach((c,f)=>{(f==="length"||f>=u)&&l.push(c)})}else switch(n!==void 0&&l.push(s.get(n)),t){case"add":isArray$1(r)?isIntegerKey(n)&&l.push(s.get("length")):(l.push(s.get(ITERATE_KEY)),isMap(r)&&l.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(r)||(l.push(s.get(ITERATE_KEY)),isMap(r)&&l.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(r)&&l.push(s.get(ITERATE_KEY));break}if(l.length===1)l[0]&&triggerEffects(l[0]);else{const u=[];for(const c of l)c&&u.push(...c);triggerEffects(createDep(u))}}function triggerEffects(r,t){const n=isArray$1(r)?r:[...r];for(const i of n)i.computed&&triggerEffect(i);for(const i of n)i.computed||triggerEffect(i)}function triggerEffect(r,t){(r!==activeEffect||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}function getDepFromReactive(r,t){var n;return(n=targetMap.get(r))==null?void 0:n.get(t)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const r={};return["includes","indexOf","lastIndexOf"].forEach(t=>{r[t]=function(...n){const i=toRaw(this);for(let o=0,s=this.length;o<s;o++)track(i,"get",o+"");const a=i[t](...n);return a===-1||a===!1?i[t](...n.map(toRaw)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{r[t]=function(...n){pauseTracking();const i=toRaw(this)[t].apply(this,n);return resetTracking(),i}}),r}function hasOwnProperty(r){const t=toRaw(this);return track(t,"has",r),t.hasOwnProperty(r)}function createGetter(r=!1,t=!1){return function(i,a,o){if(a==="__v_isReactive")return!r;if(a==="__v_isReadonly")return r;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&o===(r?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(i))return i;const s=isArray$1(i);if(!r){if(s&&hasOwn$1(arrayInstrumentations,a))return Reflect.get(arrayInstrumentations,a,o);if(a==="hasOwnProperty")return hasOwnProperty}const l=Reflect.get(i,a,o);return(isSymbol(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(r||track(i,"get",a),t)?l:isRef(l)?s&&isIntegerKey(a)?l:l.value:isObject$3(l)?r?readonly(l):reactive(l):l}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(r=!1){return function(n,i,a,o){let s=n[i];if(isReadonly(s)&&isRef(s)&&!isRef(a))return!1;if(!r&&(!isShallow(a)&&!isReadonly(a)&&(s=toRaw(s),a=toRaw(a)),!isArray$1(n)&&isRef(s)&&!isRef(a)))return s.value=a,!0;const l=isArray$1(n)&&isIntegerKey(i)?Number(i)<n.length:hasOwn$1(n,i),u=Reflect.set(n,i,a,o);return n===toRaw(o)&&(l?hasChanged(a,s)&&trigger$1(n,"set",i,a):trigger$1(n,"add",i,a)),u}}function deleteProperty(r,t){const n=hasOwn$1(r,t);r[t];const i=Reflect.deleteProperty(r,t);return i&&n&&trigger$1(r,"delete",t,void 0),i}function has$1(r,t){const n=Reflect.has(r,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(r,"has",t),n}function ownKeys(r){return track(r,"iterate",isArray$1(r)?"length":ITERATE_KEY),Reflect.ownKeys(r)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(r,t){return!0},deleteProperty(r,t){return!0}},shallowReactiveHandlers=extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=r=>r,getProto=r=>Reflect.getPrototypeOf(r);function get$2(r,t,n=!1,i=!1){r=r.__v_raw;const a=toRaw(r),o=toRaw(t);n||(t!==o&&track(a,"get",t),track(a,"get",o));const{has:s}=getProto(a),l=i?toShallow:n?toReadonly:toReactive;if(s.call(a,t))return l(r.get(t));if(s.call(a,o))return l(r.get(o));r!==a&&r.get(t)}function has(r,t=!1){const n=this.__v_raw,i=toRaw(n),a=toRaw(r);return t||(r!==a&&track(i,"has",r),track(i,"has",a)),r===a?n.has(r):n.has(r)||n.has(a)}function size(r,t=!1){return r=r.__v_raw,!t&&track(toRaw(r),"iterate",ITERATE_KEY),Reflect.get(r,"size",r)}function add$1(r){r=toRaw(r);const t=toRaw(this);return getProto(t).has.call(t,r)||(t.add(r),trigger$1(t,"add",r,r)),this}function set$2(r,t){t=toRaw(t);const n=toRaw(this),{has:i,get:a}=getProto(n);let o=i.call(n,r);o||(r=toRaw(r),o=i.call(n,r));const s=a.call(n,r);return n.set(r,t),o?hasChanged(t,s)&&trigger$1(n,"set",r,t):trigger$1(n,"add",r,t),this}function deleteEntry(r){const t=toRaw(this),{has:n,get:i}=getProto(t);let a=n.call(t,r);a||(r=toRaw(r),a=n.call(t,r)),i&&i.call(t,r);const o=t.delete(r);return a&&trigger$1(t,"delete",r,void 0),o}function clear$1(){const r=toRaw(this),t=r.size!==0,n=r.clear();return t&&trigger$1(r,"clear",void 0,void 0),n}function createForEach(r,t){return function(i,a){const o=this,s=o.__v_raw,l=toRaw(s),u=t?toShallow:r?toReadonly:toReactive;return!r&&track(l,"iterate",ITERATE_KEY),s.forEach((c,f)=>i.call(a,u(c),u(f),o))}}function createIterableMethod(r,t,n){return function(...i){const a=this.__v_raw,o=toRaw(a),s=isMap(o),l=r==="entries"||r===Symbol.iterator&&s,u=r==="keys"&&s,c=a[r](...i),f=n?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:g}=c.next();return g?{value:d,done:g}:{value:l?[f(d[0]),f(d[1])]:f(d),done:g}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(r){return function(...t){return r==="delete"?!1:this}}function createInstrumentations(){const r={get(o){return get$2(this,o)},get size(){return size(this)},has,add:add$1,set:set$2,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!1)},t={get(o){return get$2(this,o,!1,!0)},get size(){return size(this)},has,add:add$1,set:set$2,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!0)},n={get(o){return get$2(this,o,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},i={get(o){return get$2(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{r[o]=createIterableMethod(o,!1,!1),n[o]=createIterableMethod(o,!0,!1),t[o]=createIterableMethod(o,!1,!0),i[o]=createIterableMethod(o,!0,!0)}),[r,n,t,i]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(r,t){const n=t?r?shallowReadonlyInstrumentations:shallowInstrumentations:r?readonlyInstrumentations:mutableInstrumentations;return(i,a,o)=>a==="__v_isReactive"?!r:a==="__v_isReadonly"?r:a==="__v_raw"?i:Reflect.get(hasOwn$1(n,a)&&a in i?n:i,a,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(r){return r.__v_skip||!Object.isExtensible(r)?0:targetTypeMap(toRawType(r))}function reactive(r){return isReadonly(r)?r:createReactiveObject(r,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(r){return createReactiveObject(r,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(r){return createReactiveObject(r,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(r,t,n,i,a){if(!isObject$3(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const o=a.get(r);if(o)return o;const s=getTargetType(r);if(s===0)return r;const l=new Proxy(r,s===2?i:n);return a.set(r,l),l}function isReactive(r){return isReadonly(r)?isReactive(r.__v_raw):!!(r&&r.__v_isReactive)}function isReadonly(r){return!!(r&&r.__v_isReadonly)}function isShallow(r){return!!(r&&r.__v_isShallow)}function isProxy(r){return isReactive(r)||isReadonly(r)}function toRaw(r){const t=r&&r.__v_raw;return t?toRaw(t):r}function markRaw(r){return def(r,"__v_skip",!0),r}const toReactive=r=>isObject$3(r)?reactive(r):r,toReadonly=r=>isObject$3(r)?readonly(r):r;function trackRefValue(r){shouldTrack&&activeEffect&&(r=toRaw(r),trackEffects(r.dep||(r.dep=createDep())))}function triggerRefValue(r,t){r=toRaw(r);const n=r.dep;n&&triggerEffects(n)}function isRef(r){return!!(r&&r.__v_isRef===!0)}function ref(r){return createRef(r,!1)}function shallowRef(r){return createRef(r,!0)}function createRef(r,t){return isRef(r)?r:new RefImpl(r,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:toReactive(t),triggerRefValue(this))}}function unref(r){return isRef(r)?r.value:r}const shallowUnwrapHandlers={get:(r,t,n)=>unref(Reflect.get(r,t,n)),set:(r,t,n,i)=>{const a=r[t];return isRef(a)&&!isRef(n)?(a.value=n,!0):Reflect.set(r,t,n,i)}};function proxyRefs(r){return isReactive(r)?r:new Proxy(r,shallowUnwrapHandlers)}function toRefs(r){const t=isArray$1(r)?new Array(r.length):{};for(const n in r)t[n]=propertyToRef(r,n);return t}class ObjectRefImpl{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(r,t,n){const i=r[t];return isRef(i)?i:new ObjectRefImpl(r,t,n)}class ComputedRefImpl{constructor(t,n,i,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=i}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(r,t,n=!1){let i,a;const o=isFunction$1(r);return o?(i=r,a=NOOP):(i=r.get,a=r.set),new ComputedRefImpl(i,a,o||!a,n)}function warn(r,...t){}function callWithErrorHandling(r,t,n,i){let a;try{a=i?r(...i):r()}catch(o){handleError(o,t,n)}return a}function callWithAsyncErrorHandling(r,t,n,i){if(isFunction$1(r)){const o=callWithErrorHandling(r,t,n,i);return o&&isPromise(o)&&o.catch(s=>{handleError(s,t,n)}),o}const a=[];for(let o=0;o<r.length;o++)a.push(callWithAsyncErrorHandling(r[o],t,n,i));return a}function handleError(r,t,n,i=!0){const a=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,l=n;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](r,s,l)===!1)return}o=o.parent}const u=t.appContext.config.errorHandler;if(u){callWithErrorHandling(u,null,10,[r,s,l]);return}}logError$1(r,n,a,i)}function logError$1(r,t,n,i=!0){console.error(r)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(r){const t=currentFlushPromise||resolvedPromise;return r?t.then(this?r.bind(this):r):t}function findInsertionIndex(r){let t=flushIndex+1,n=queue.length;for(;t<n;){const i=t+n>>>1;getId$1(queue[i])<r?t=i+1:n=i}return t}function queueJob(r){(!queue.length||!queue.includes(r,isFlushing&&r.allowRecurse?flushIndex+1:flushIndex))&&(r.id==null?queue.push(r):queue.splice(findInsertionIndex(r.id),0,r),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(r){const t=queue.indexOf(r);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(r){isArray$1(r)?pendingPostFlushCbs.push(...r):(!activePostFlushCbs||!activePostFlushCbs.includes(r,r.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(r),queueFlush()}function flushPreFlushCbs(r,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const n=queue[t];n&&n.pre&&(queue.splice(t,1),t--,n())}}function flushPostFlushCbs(r){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((n,i)=>getId$1(n)-getId$1(i)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=r=>r.id==null?1/0:r.id,comparator=(r,t)=>{const n=getId$1(r)-getId$1(t);if(n===0){if(r.pre&&!t.pre)return-1;if(t.pre&&!r.pre)return 1}return n};function flushJobs(r){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(r,t,...n){if(r.isUnmounted)return;const i=r.vnode.props||EMPTY_OBJ$1;let a=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in i){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:g}=i[f]||EMPTY_OBJ$1;g&&(a=n.map(v=>isString$1(v)?v.trim():v)),d&&(a=n.map(looseToNumber))}let l,u=i[l=toHandlerKey(t)]||i[l=toHandlerKey(camelize(t))];!u&&o&&(u=i[l=toHandlerKey(hyphenate(t))]),u&&callWithAsyncErrorHandling(u,r,6,a);const c=i[l+"Once"];if(c){if(!r.emitted)r.emitted={};else if(r.emitted[l])return;r.emitted[l]=!0,callWithAsyncErrorHandling(c,r,6,a)}}function normalizeEmitsOptions(r,t,n=!1){const i=t.emitsCache,a=i.get(r);if(a!==void 0)return a;const o=r.emits;let s={},l=!1;if(!isFunction$1(r)){const u=c=>{const f=normalizeEmitsOptions(c,t,!0);f&&(l=!0,extend$1(s,f))};!n&&t.mixins.length&&t.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}return!o&&!l?(isObject$3(r)&&i.set(r,null),null):(isArray$1(o)?o.forEach(u=>s[u]=null):extend$1(s,o),isObject$3(r)&&i.set(r,s),s)}function isEmitListener(r,t){return!r||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn$1(r,t[0].toLowerCase()+t.slice(1))||hasOwn$1(r,hyphenate(t))||hasOwn$1(r,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(r){const t=currentRenderingInstance;return currentRenderingInstance=r,currentScopeId=r&&r.type.__scopeId||null,t}function pushScopeId(r){currentScopeId=r}function popScopeId(){currentScopeId=null}function withCtx(r,t=currentRenderingInstance,n){if(!t||r._n)return r;const i=(...a)=>{i._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let s;try{s=r(...a)}finally{setCurrentRenderingInstance(o),i._d&&setBlockTracking(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function markAttrsAccessed(){}function renderComponentRoot(r){const{type:t,vnode:n,proxy:i,withProxy:a,props:o,propsOptions:[s],slots:l,attrs:u,emit:c,render:f,renderCache:d,data:g,setupState:v,ctx:M,inheritAttrs:P}=r;let R,I;const $=setCurrentRenderingInstance(r);try{if(n.shapeFlag&4){const F=a||i;R=normalizeVNode(f.call(F,F,d,o,v,g,M)),I=u}else{const F=t;R=normalizeVNode(F.length>1?F(o,{attrs:u,slots:l,emit:c}):F(o,null)),I=t.props?u:getFunctionalFallthrough(u)}}catch(F){blockStack.length=0,handleError(F,r,1),R=createVNode(Comment)}let N=R;if(I&&P!==!1){const F=Object.keys(I),{shapeFlag:V}=N;F.length&&V&7&&(s&&F.some(isModelListener)&&(I=filterModelListeners(I,s)),N=cloneVNode(N,I))}return n.dirs&&(N=cloneVNode(N),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),R=N,setCurrentRenderingInstance($),R}const getFunctionalFallthrough=r=>{let t;for(const n in r)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=r[n]);return t},filterModelListeners=(r,t)=>{const n={};for(const i in r)(!isModelListener(i)||!(i.slice(9)in t))&&(n[i]=r[i]);return n};function shouldUpdateComponent(r,t,n){const{props:i,children:a,component:o}=r,{props:s,children:l,patchFlag:u}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?hasPropsChanged(i,s,c):!!s;if(u&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const g=f[d];if(s[g]!==i[g]&&!isEmitListener(c,g))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:i===s?!1:i?s?hasPropsChanged(i,s,c):!0:!!s;return!1}function hasPropsChanged(r,t,n){const i=Object.keys(t);if(i.length!==Object.keys(r).length)return!0;for(let a=0;a<i.length;a++){const o=i[a];if(t[o]!==r[o]&&!isEmitListener(n,o))return!0}return!1}function updateHOCHostEl({vnode:r,parent:t},n){for(;t&&t.subTree===r;)(r=t.vnode).el=n,t=t.parent}const isSuspense=r=>r.__isSuspense;function queueEffectWithSuspense(r,t){t&&t.pendingBranch?isArray$1(r)?t.effects.push(...r):t.effects.push(r):queuePostFlushCb(r)}function watchEffect(r,t){return doWatch(r,null,t)}const INITIAL_WATCHER_VALUE={};function watch(r,t,n){return doWatch(r,t,n)}function doWatch(r,t,{immediate:n,deep:i,flush:a,onTrack:o,onTrigger:s}=EMPTY_OBJ$1){var l;const u=getCurrentScope()===((l=currentInstance)==null?void 0:l.scope)?currentInstance:null;let c,f=!1,d=!1;if(isRef(r)?(c=()=>r.value,f=isShallow(r)):isReactive(r)?(c=()=>r,i=!0):isArray$1(r)?(d=!0,f=r.some(F=>isReactive(F)||isShallow(F)),c=()=>r.map(F=>{if(isRef(F))return F.value;if(isReactive(F))return traverse(F);if(isFunction$1(F))return callWithErrorHandling(F,u,2)})):isFunction$1(r)?t?c=()=>callWithErrorHandling(r,u,2):c=()=>{if(!(u&&u.isUnmounted))return g&&g(),callWithAsyncErrorHandling(r,u,3,[v])}:c=NOOP,t&&i){const F=c;c=()=>traverse(F())}let g,v=F=>{g=$.onStop=()=>{callWithErrorHandling(F,u,4)}},M;if(isInSSRComponentSetup)if(v=NOOP,t?n&&callWithAsyncErrorHandling(t,u,3,[c(),d?[]:void 0,v]):c(),a==="sync"){const F=useSSRContext();M=F.__watcherHandles||(F.__watcherHandles=[])}else return NOOP;let P=d?new Array(r.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const R=()=>{if($.active)if(t){const F=$.run();(i||f||(d?F.some((V,H)=>hasChanged(V,P[H])):hasChanged(F,P)))&&(g&&g(),callWithAsyncErrorHandling(t,u,3,[F,P===INITIAL_WATCHER_VALUE?void 0:d&&P[0]===INITIAL_WATCHER_VALUE?[]:P,v]),P=F)}else $.run()};R.allowRecurse=!!t;let I;a==="sync"?I=R:a==="post"?I=()=>queuePostRenderEffect(R,u&&u.suspense):(R.pre=!0,u&&(R.id=u.uid),I=()=>queueJob(R));const $=new ReactiveEffect(c,I);t?n?R():P=$.run():a==="post"?queuePostRenderEffect($.run.bind($),u&&u.suspense):$.run();const N=()=>{$.stop(),u&&u.scope&&remove(u.scope.effects,$)};return M&&M.push(N),N}function instanceWatch(r,t,n){const i=this.proxy,a=isString$1(r)?r.includes(".")?createPathGetter(i,r):()=>i[r]:r.bind(i,i);let o;isFunction$1(t)?o=t:(o=t.handler,n=t);const s=currentInstance;setCurrentInstance(this);const l=doWatch(a,o.bind(i),n);return s?setCurrentInstance(s):unsetCurrentInstance(),l}function createPathGetter(r,t){const n=t.split(".");return()=>{let i=r;for(let a=0;a<n.length&&i;a++)i=i[n[a]];return i}}function traverse(r,t){if(!isObject$3(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),isRef(r))traverse(r.value,t);else if(isArray$1(r))for(let n=0;n<r.length;n++)traverse(r[n],t);else if(isSet(r)||isMap(r))r.forEach(n=>{traverse(n,t)});else if(isPlainObject(r))for(const n in r)traverse(r[n],t);return r}function withDirectives(r,t){const n=currentRenderingInstance;if(n===null)return r;const i=getExposeProxy(n)||n.proxy,a=r.dirs||(r.dirs=[]);for(let o=0;o<t.length;o++){let[s,l,u,c=EMPTY_OBJ$1]=t[o];s&&(isFunction$1(s)&&(s={mounted:s,updated:s}),s.deep&&traverse(l),a.push({dir:s,instance:i,value:l,oldValue:void 0,arg:u,modifiers:c}))}return r}function invokeDirectiveHook(r,t,n,i){const a=r.dirs,o=t&&t.dirs;for(let s=0;s<a.length;s++){const l=a[s];o&&(l.oldValue=o[s].value);let u=l.dir[i];u&&(pauseTracking(),callWithAsyncErrorHandling(u,n,8,[r.el,l,r,t]),resetTracking())}}function defineComponent(r,t){return isFunction$1(r)?(()=>extend$1({name:r.name},t,{setup:r}))():r}const isAsyncWrapper=r=>!!r.type.__asyncLoader,isKeepAlive=r=>r.type.__isKeepAlive;function onActivated(r,t){registerKeepAliveHook(r,"a",t)}function onDeactivated(r,t){registerKeepAliveHook(r,"da",t)}function registerKeepAliveHook(r,t,n=currentInstance){const i=r.__wdc||(r.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return r()});if(injectHook(t,i,n),n){let a=n.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(i,t,n,a),a=a.parent}}function injectToKeepAliveRoot(r,t,n,i){const a=injectHook(t,r,i,!0);onUnmounted(()=>{remove(i[t],a)},n)}function injectHook(r,t,n=currentInstance,i=!1){if(n){const a=n[r]||(n[r]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const l=callWithAsyncErrorHandling(t,n,r,s);return unsetCurrentInstance(),resetTracking(),l});return i?a.unshift(o):a.push(o),o}}const createHook=r=>(t,n=currentInstance)=>(!isInSSRComponentSetup||r==="sp")&&injectHook(r,(...i)=>t(...i),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(r,t=currentInstance){injectHook("ec",r,t)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(r,t,n,i){let a;const o=n&&n[i];if(isArray$1(r)||isString$1(r)){a=new Array(r.length);for(let s=0,l=r.length;s<l;s++)a[s]=t(r[s],s,void 0,o&&o[s])}else if(typeof r=="number"){a=new Array(r);for(let s=0;s<r;s++)a[s]=t(s+1,s,void 0,o&&o[s])}else if(isObject$3(r))if(r[Symbol.iterator])a=Array.from(r,(s,l)=>t(s,l,void 0,o&&o[l]));else{const s=Object.keys(r);a=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];a[l]=t(r[c],c,l,o&&o[l])}}else a=[];return n&&(n[i]=a),a}const getPublicInstance=r=>r?isStatefulComponent(r)?getExposeProxy(r)||r.proxy:getPublicInstance(r.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>getPublicInstance(r.parent),$root:r=>getPublicInstance(r.root),$emit:r=>r.emit,$options:r=>resolveMergedOptions(r),$forceUpdate:r=>r.f||(r.f=()=>queueJob(r.update)),$nextTick:r=>r.n||(r.n=nextTick.bind(r.proxy)),$watch:r=>instanceWatch.bind(r)}),hasSetupBinding=(r,t)=>r!==EMPTY_OBJ$1&&!r.__isScriptSetup&&hasOwn$1(r,t),PublicInstanceProxyHandlers={get({_:r},t){const{ctx:n,setupState:i,data:a,props:o,accessCache:s,type:l,appContext:u}=r;let c;if(t[0]!=="$"){const v=s[t];if(v!==void 0)switch(v){case 1:return i[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(hasSetupBinding(i,t))return s[t]=1,i[t];if(a!==EMPTY_OBJ$1&&hasOwn$1(a,t))return s[t]=2,a[t];if((c=r.propsOptions[0])&&hasOwn$1(c,t))return s[t]=3,o[t];if(n!==EMPTY_OBJ$1&&hasOwn$1(n,t))return s[t]=4,n[t];shouldCacheAccess&&(s[t]=0)}}const f=publicPropertiesMap[t];let d,g;if(f)return t==="$attrs"&&track(r,"get",t),f(r);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==EMPTY_OBJ$1&&hasOwn$1(n,t))return s[t]=4,n[t];if(g=u.config.globalProperties,hasOwn$1(g,t))return g[t]},set({_:r},t,n){const{data:i,setupState:a,ctx:o}=r;return hasSetupBinding(a,t)?(a[t]=n,!0):i!==EMPTY_OBJ$1&&hasOwn$1(i,t)?(i[t]=n,!0):hasOwn$1(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(o[t]=n,!0)},has({_:{data:r,setupState:t,accessCache:n,ctx:i,appContext:a,propsOptions:o}},s){let l;return!!n[s]||r!==EMPTY_OBJ$1&&hasOwn$1(r,s)||hasSetupBinding(t,s)||(l=o[0])&&hasOwn$1(l,s)||hasOwn$1(i,s)||hasOwn$1(publicPropertiesMap,s)||hasOwn$1(a.config.globalProperties,s)},defineProperty(r,t,n){return n.get!=null?r._.accessCache[t]=0:hasOwn$1(n,"value")&&this.set(r,t,n.value,null),Reflect.defineProperty(r,t,n)}};function normalizePropsOrEmits(r){return isArray$1(r)?r.reduce((t,n)=>(t[n]=null,t),{}):r}let shouldCacheAccess=!0;function applyOptions(r){const t=resolveMergedOptions(r),n=r.proxy,i=r.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,r,"bc");const{data:a,computed:o,methods:s,watch:l,provide:u,inject:c,created:f,beforeMount:d,mounted:g,beforeUpdate:v,updated:M,activated:P,deactivated:R,beforeDestroy:I,beforeUnmount:$,destroyed:N,unmounted:F,render:V,renderTracked:H,renderTriggered:G,errorCaptured:Y,serverPrefetch:W,expose:q,inheritAttrs:X,components:K,directives:Q,filters:te}=t;if(c&&resolveInjections(c,i,null),s)for(const de in s){const se=s[de];isFunction$1(se)&&(i[de]=se.bind(n))}if(a){const de=a.call(n,n);isObject$3(de)&&(r.data=reactive(de))}if(shouldCacheAccess=!0,o)for(const de in o){const se=o[de],ce=isFunction$1(se)?se.bind(n,n):isFunction$1(se.get)?se.get.bind(n,n):NOOP,ye=!isFunction$1(se)&&isFunction$1(se.set)?se.set.bind(n):NOOP,Te=computed({get:ce,set:ye});Object.defineProperty(i,de,{enumerable:!0,configurable:!0,get:()=>Te.value,set:me=>Te.value=me})}if(l)for(const de in l)createWatcher(l[de],i,n,de);if(u){const de=isFunction$1(u)?u.call(n):u;Reflect.ownKeys(de).forEach(se=>{provide(se,de[se])})}f&&callHook(f,r,"c");function re(de,se){isArray$1(se)?se.forEach(ce=>de(ce.bind(n))):se&&de(se.bind(n))}if(re(onBeforeMount,d),re(onMounted,g),re(onBeforeUpdate,v),re(onUpdated,M),re(onActivated,P),re(onDeactivated,R),re(onErrorCaptured,Y),re(onRenderTracked,H),re(onRenderTriggered,G),re(onBeforeUnmount,$),re(onUnmounted,F),re(onServerPrefetch,W),isArray$1(q))if(q.length){const de=r.exposed||(r.exposed={});q.forEach(se=>{Object.defineProperty(de,se,{get:()=>n[se],set:ce=>n[se]=ce})})}else r.exposed||(r.exposed={});V&&r.render===NOOP&&(r.render=V),X!=null&&(r.inheritAttrs=X),K&&(r.components=K),Q&&(r.directives=Q)}function resolveInjections(r,t,n=NOOP){isArray$1(r)&&(r=normalizeInject(r));for(const i in r){const a=r[i];let o;isObject$3(a)?"default"in a?o=inject(a.from||i,a.default,!0):o=inject(a.from||i):o=inject(a),isRef(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[i]=o}}function callHook(r,t,n){callWithAsyncErrorHandling(isArray$1(r)?r.map(i=>i.bind(t.proxy)):r.bind(t.proxy),t,n)}function createWatcher(r,t,n,i){const a=i.includes(".")?createPathGetter(n,i):()=>n[i];if(isString$1(r)){const o=t[r];isFunction$1(o)&&watch(a,o)}else if(isFunction$1(r))watch(a,r.bind(n));else if(isObject$3(r))if(isArray$1(r))r.forEach(o=>createWatcher(o,t,n,i));else{const o=isFunction$1(r.handler)?r.handler.bind(n):t[r.handler];isFunction$1(o)&&watch(a,o,r)}}function resolveMergedOptions(r){const t=r.type,{mixins:n,extends:i}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=r.appContext,l=o.get(t);let u;return l?u=l:!a.length&&!n&&!i?u=t:(u={},a.length&&a.forEach(c=>mergeOptions(u,c,s,!0)),mergeOptions(u,t,s)),isObject$3(t)&&o.set(t,u),u}function mergeOptions(r,t,n,i=!1){const{mixins:a,extends:o}=t;o&&mergeOptions(r,o,n,!0),a&&a.forEach(s=>mergeOptions(r,s,n,!0));for(const s in t)if(!(i&&s==="expose")){const l=internalOptionMergeStrats[s]||n&&n[s];r[s]=l?l(r[s],t[s]):t[s]}return r}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(r,t){return t?r?function(){return extend$1(isFunction$1(r)?r.call(this,this):r,isFunction$1(t)?t.call(this,this):t)}:t:r}function mergeInject(r,t){return mergeObjectOptions(normalizeInject(r),normalizeInject(t))}function normalizeInject(r){if(isArray$1(r)){const t={};for(let n=0;n<r.length;n++)t[r[n]]=r[n];return t}return r}function mergeAsArray(r,t){return r?[...new Set([].concat(r,t))]:t}function mergeObjectOptions(r,t){return r?extend$1(Object.create(null),r,t):t}function mergeEmitsOrPropsOptions(r,t){return r?isArray$1(r)&&isArray$1(t)?[...new Set([...r,...t])]:extend$1(Object.create(null),normalizePropsOrEmits(r),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(r,t){if(!r)return t;if(!t)return r;const n=extend$1(Object.create(null),r);for(const i in t)n[i]=mergeAsArray(r[i],t[i]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(r,t){return function(i,a=null){isFunction$1(i)||(i=extend$1({},i)),a!=null&&!isObject$3(a)&&(a=null);const o=createAppContext(),s=new Set;let l=!1;const u=o.app={_uid:uid$1++,_component:i,_props:a,_container:null,_context:o,_instance:null,version,get config(){return o.config},set config(c){},use(c,...f){return s.has(c)||(c&&isFunction$1(c.install)?(s.add(c),c.install(u,...f)):isFunction$1(c)&&(s.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,d){if(!l){const g=createVNode(i,a);return g.appContext=o,f&&t?t(g,c):r(g,c,d),l=!0,u._container=c,c.__vue_app__=u,getExposeProxy(g.component)||g.component.proxy}},unmount(){l&&(r(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u},runWithContext(c){currentApp=u;try{return c()}finally{currentApp=null}}};return u}}let currentApp=null;function provide(r,t){if(currentInstance){let n=currentInstance.provides;const i=currentInstance.parent&&currentInstance.parent.provides;i===n&&(n=currentInstance.provides=Object.create(i)),n[r]=t}}function inject(r,t,n=!1){const i=currentInstance||currentRenderingInstance;if(i||currentApp){const a=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:currentApp._context.provides;if(a&&r in a)return a[r];if(arguments.length>1)return n&&isFunction$1(t)?t.call(i&&i.proxy):t}}function initProps$1(r,t,n,i=!1){const a={},o={};def(o,InternalObjectKey,1),r.propsDefaults=Object.create(null),setFullProps(r,t,a,o);for(const s in r.propsOptions[0])s in a||(a[s]=void 0);n?r.props=i?a:shallowReactive(a):r.type.props?r.props=a:r.props=o,r.attrs=o}function updateProps$2(r,t,n,i){const{props:a,attrs:o,vnode:{patchFlag:s}}=r,l=toRaw(a),[u]=r.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const f=r.vnode.dynamicProps;for(let d=0;d<f.length;d++){let g=f[d];if(isEmitListener(r.emitsOptions,g))continue;const v=t[g];if(u)if(hasOwn$1(o,g))v!==o[g]&&(o[g]=v,c=!0);else{const M=camelize(g);a[M]=resolvePropValue(u,l,M,v,r,!1)}else v!==o[g]&&(o[g]=v,c=!0)}}}else{setFullProps(r,t,a,o)&&(c=!0);let f;for(const d in l)(!t||!hasOwn$1(t,d)&&((f=hyphenate(d))===d||!hasOwn$1(t,f)))&&(u?n&&(n[d]!==void 0||n[f]!==void 0)&&(a[d]=resolvePropValue(u,l,d,void 0,r,!0)):delete a[d]);if(o!==l)for(const d in o)(!t||!hasOwn$1(t,d))&&(delete o[d],c=!0)}c&&trigger$1(r,"set","$attrs")}function setFullProps(r,t,n,i){const[a,o]=r.propsOptions;let s=!1,l;if(t)for(let u in t){if(isReservedProp(u))continue;const c=t[u];let f;a&&hasOwn$1(a,f=camelize(u))?!o||!o.includes(f)?n[f]=c:(l||(l={}))[f]=c:isEmitListener(r.emitsOptions,u)||(!(u in i)||c!==i[u])&&(i[u]=c,s=!0)}if(o){const u=toRaw(n),c=l||EMPTY_OBJ$1;for(let f=0;f<o.length;f++){const d=o[f];n[d]=resolvePropValue(a,u,d,c[d],r,!hasOwn$1(c,d))}}return s}function resolvePropValue(r,t,n,i,a,o){const s=r[n];if(s!=null){const l=hasOwn$1(s,"default");if(l&&i===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&isFunction$1(u)){const{propsDefaults:c}=a;n in c?i=c[n]:(setCurrentInstance(a),i=c[n]=u.call(null,t),unsetCurrentInstance())}else i=u}s[0]&&(o&&!l?i=!1:s[1]&&(i===""||i===hyphenate(n))&&(i=!0))}return i}function normalizePropsOptions(r,t,n=!1){const i=t.propsCache,a=i.get(r);if(a)return a;const o=r.props,s={},l=[];let u=!1;if(!isFunction$1(r)){const f=d=>{u=!0;const[g,v]=normalizePropsOptions(d,t,!0);extend$1(s,g),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(f),r.extends&&f(r.extends),r.mixins&&r.mixins.forEach(f)}if(!o&&!u)return isObject$3(r)&&i.set(r,EMPTY_ARR),EMPTY_ARR;if(isArray$1(o))for(let f=0;f<o.length;f++){const d=camelize(o[f]);validatePropName(d)&&(s[d]=EMPTY_OBJ$1)}else if(o)for(const f in o){const d=camelize(f);if(validatePropName(d)){const g=o[f],v=s[d]=isArray$1(g)||isFunction$1(g)?{type:g}:extend$1({},g);if(v){const M=getTypeIndex(Boolean,v.type),P=getTypeIndex(String,v.type);v[0]=M>-1,v[1]=P<0||M<P,(M>-1||hasOwn$1(v,"default"))&&l.push(d)}}}const c=[s,l];return isObject$3(r)&&i.set(r,c),c}function validatePropName(r){return r[0]!=="$"}function getType(r){const t=r&&r.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:r===null?"null":""}function isSameType(r,t){return getType(r)===getType(t)}function getTypeIndex(r,t){return isArray$1(t)?t.findIndex(n=>isSameType(n,r)):isFunction$1(t)&&isSameType(t,r)?0:-1}const isInternalKey=r=>r[0]==="_"||r==="$stable",normalizeSlotValue=r=>isArray$1(r)?r.map(normalizeVNode):[normalizeVNode(r)],normalizeSlot=(r,t,n)=>{if(t._n)return t;const i=withCtx((...a)=>normalizeSlotValue(t(...a)),n);return i._c=!1,i},normalizeObjectSlots=(r,t,n)=>{const i=r._ctx;for(const a in r){if(isInternalKey(a))continue;const o=r[a];if(isFunction$1(o))t[a]=normalizeSlot(a,o,i);else if(o!=null){const s=normalizeSlotValue(o);t[a]=()=>s}}},normalizeVNodeSlots=(r,t)=>{const n=normalizeSlotValue(t);r.slots.default=()=>n},initSlots=(r,t)=>{if(r.vnode.shapeFlag&32){const n=t._;n?(r.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,r.slots={})}else r.slots={},t&&normalizeVNodeSlots(r,t);def(r.slots,InternalObjectKey,1)},updateSlots=(r,t,n)=>{const{vnode:i,slots:a}=r;let o=!0,s=EMPTY_OBJ$1;if(i.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(extend$1(a,t),!n&&l===1&&delete a._):(o=!t.$stable,normalizeObjectSlots(t,a)),s=t}else t&&(normalizeVNodeSlots(r,t),s={default:1});if(o)for(const l in a)!isInternalKey(l)&&!(l in s)&&delete a[l]};function setRef(r,t,n,i,a=!1){if(isArray$1(r)){r.forEach((g,v)=>setRef(g,t&&(isArray$1(t)?t[v]:t),n,i,a));return}if(isAsyncWrapper(i)&&!a)return;const o=i.shapeFlag&4?getExposeProxy(i.component)||i.component.proxy:i.el,s=a?null:o,{i:l,r:u}=r,c=t&&t.r,f=l.refs===EMPTY_OBJ$1?l.refs={}:l.refs,d=l.setupState;if(c!=null&&c!==u&&(isString$1(c)?(f[c]=null,hasOwn$1(d,c)&&(d[c]=null)):isRef(c)&&(c.value=null)),isFunction$1(u))callWithErrorHandling(u,l,12,[s,f]);else{const g=isString$1(u),v=isRef(u);if(g||v){const M=()=>{if(r.f){const P=g?hasOwn$1(d,u)?d[u]:f[u]:u.value;a?isArray$1(P)&&remove(P,o):isArray$1(P)?P.includes(o)||P.push(o):g?(f[u]=[o],hasOwn$1(d,u)&&(d[u]=f[u])):(u.value=[o],r.k&&(f[r.k]=u.value))}else g?(f[u]=s,hasOwn$1(d,u)&&(d[u]=s)):v&&(u.value=s,r.k&&(f[r.k]=s))};s?(M.id=-1,queuePostRenderEffect(M,n)):M()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(r){return baseCreateRenderer(r)}function baseCreateRenderer(r,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:i,remove:a,patchProp:o,createElement:s,createText:l,createComment:u,setText:c,setElementText:f,parentNode:d,nextSibling:g,setScopeId:v=NOOP,insertStaticContent:M}=r,P=(Z,J,ee,ie=null,ne=null,ue=null,he=!1,le=null,fe=!!J.dynamicChildren)=>{if(Z===J)return;Z&&!isSameVNodeType(Z,J)&&(ie=De(Z),me(Z,ne,ue,!0),Z=null),J.patchFlag===-2&&(fe=!1,J.dynamicChildren=null);const{type:oe,ref:pe,shapeFlag:ve}=J;switch(oe){case Text:R(Z,J,ee,ie);break;case Comment:I(Z,J,ee,ie);break;case Static:Z==null&&$(J,ee,ie,he);break;case Fragment:K(Z,J,ee,ie,ne,ue,he,le,fe);break;default:ve&1?V(Z,J,ee,ie,ne,ue,he,le,fe):ve&6?Q(Z,J,ee,ie,ne,ue,he,le,fe):(ve&64||ve&128)&&oe.process(Z,J,ee,ie,ne,ue,he,le,fe,Re)}pe!=null&&ne&&setRef(pe,Z&&Z.ref,ue,J||Z,!J)},R=(Z,J,ee,ie)=>{if(Z==null)i(J.el=l(J.children),ee,ie);else{const ne=J.el=Z.el;J.children!==Z.children&&c(ne,J.children)}},I=(Z,J,ee,ie)=>{Z==null?i(J.el=u(J.children||""),ee,ie):J.el=Z.el},$=(Z,J,ee,ie)=>{[Z.el,Z.anchor]=M(Z.children,J,ee,ie,Z.el,Z.anchor)},N=({el:Z,anchor:J},ee,ie)=>{let ne;for(;Z&&Z!==J;)ne=g(Z),i(Z,ee,ie),Z=ne;i(J,ee,ie)},F=({el:Z,anchor:J})=>{let ee;for(;Z&&Z!==J;)ee=g(Z),a(Z),Z=ee;a(J)},V=(Z,J,ee,ie,ne,ue,he,le,fe)=>{he=he||J.type==="svg",Z==null?H(J,ee,ie,ne,ue,he,le,fe):W(Z,J,ne,ue,he,le,fe)},H=(Z,J,ee,ie,ne,ue,he,le)=>{let fe,oe;const{type:pe,props:ve,shapeFlag:ge,transition:Se,dirs:be}=Z;if(fe=Z.el=s(Z.type,ue,ve&&ve.is,ve),ge&8?f(fe,Z.children):ge&16&&Y(Z.children,fe,null,ie,ne,ue&&pe!=="foreignObject",he,le),be&&invokeDirectiveHook(Z,null,ie,"created"),G(fe,Z,Z.scopeId,he,ie),ve){for(const Me in ve)Me!=="value"&&!isReservedProp(Me)&&o(fe,Me,null,ve[Me],ue,Z.children,ie,ne,Ae);"value"in ve&&o(fe,"value",null,ve.value),(oe=ve.onVnodeBeforeMount)&&invokeVNodeHook(oe,ie,Z)}be&&invokeDirectiveHook(Z,null,ie,"beforeMount");const Ee=(!ne||ne&&!ne.pendingBranch)&&Se&&!Se.persisted;Ee&&Se.beforeEnter(fe),i(fe,J,ee),((oe=ve&&ve.onVnodeMounted)||Ee||be)&&queuePostRenderEffect(()=>{oe&&invokeVNodeHook(oe,ie,Z),Ee&&Se.enter(fe),be&&invokeDirectiveHook(Z,null,ie,"mounted")},ne)},G=(Z,J,ee,ie,ne)=>{if(ee&&v(Z,ee),ie)for(let ue=0;ue<ie.length;ue++)v(Z,ie[ue]);if(ne){let ue=ne.subTree;if(J===ue){const he=ne.vnode;G(Z,he,he.scopeId,he.slotScopeIds,ne.parent)}}},Y=(Z,J,ee,ie,ne,ue,he,le,fe=0)=>{for(let oe=fe;oe<Z.length;oe++){const pe=Z[oe]=le?cloneIfMounted(Z[oe]):normalizeVNode(Z[oe]);P(null,pe,J,ee,ie,ne,ue,he,le)}},W=(Z,J,ee,ie,ne,ue,he)=>{const le=J.el=Z.el;let{patchFlag:fe,dynamicChildren:oe,dirs:pe}=J;fe|=Z.patchFlag&16;const ve=Z.props||EMPTY_OBJ$1,ge=J.props||EMPTY_OBJ$1;let Se;ee&&toggleRecurse(ee,!1),(Se=ge.onVnodeBeforeUpdate)&&invokeVNodeHook(Se,ee,J,Z),pe&&invokeDirectiveHook(J,Z,ee,"beforeUpdate"),ee&&toggleRecurse(ee,!0);const be=ne&&J.type!=="foreignObject";if(oe?q(Z.dynamicChildren,oe,le,ee,ie,be,ue):he||se(Z,J,le,null,ee,ie,be,ue,!1),fe>0){if(fe&16)X(le,J,ve,ge,ee,ie,ne);else if(fe&2&&ve.class!==ge.class&&o(le,"class",null,ge.class,ne),fe&4&&o(le,"style",ve.style,ge.style,ne),fe&8){const Ee=J.dynamicProps;for(let Me=0;Me<Ee.length;Me++){const Ie=Ee[Me],$e=ve[Ie],ke=ge[Ie];(ke!==$e||Ie==="value")&&o(le,Ie,$e,ke,ne,Z.children,ee,ie,Ae)}}fe&1&&Z.children!==J.children&&f(le,J.children)}else!he&&oe==null&&X(le,J,ve,ge,ee,ie,ne);((Se=ge.onVnodeUpdated)||pe)&&queuePostRenderEffect(()=>{Se&&invokeVNodeHook(Se,ee,J,Z),pe&&invokeDirectiveHook(J,Z,ee,"updated")},ie)},q=(Z,J,ee,ie,ne,ue,he)=>{for(let le=0;le<J.length;le++){const fe=Z[le],oe=J[le],pe=fe.el&&(fe.type===Fragment||!isSameVNodeType(fe,oe)||fe.shapeFlag&70)?d(fe.el):ee;P(fe,oe,pe,null,ie,ne,ue,he,!0)}},X=(Z,J,ee,ie,ne,ue,he)=>{if(ee!==ie){if(ee!==EMPTY_OBJ$1)for(const le in ee)!isReservedProp(le)&&!(le in ie)&&o(Z,le,ee[le],null,he,J.children,ne,ue,Ae);for(const le in ie){if(isReservedProp(le))continue;const fe=ie[le],oe=ee[le];fe!==oe&&le!=="value"&&o(Z,le,oe,fe,he,J.children,ne,ue,Ae)}"value"in ie&&o(Z,"value",ee.value,ie.value)}},K=(Z,J,ee,ie,ne,ue,he,le,fe)=>{const oe=J.el=Z?Z.el:l(""),pe=J.anchor=Z?Z.anchor:l("");let{patchFlag:ve,dynamicChildren:ge,slotScopeIds:Se}=J;Se&&(le=le?le.concat(Se):Se),Z==null?(i(oe,ee,ie),i(pe,ee,ie),Y(J.children,ee,pe,ne,ue,he,le,fe)):ve>0&&ve&64&&ge&&Z.dynamicChildren?(q(Z.dynamicChildren,ge,ee,ne,ue,he,le),(J.key!=null||ne&&J===ne.subTree)&&traverseStaticChildren(Z,J,!0)):se(Z,J,ee,pe,ne,ue,he,le,fe)},Q=(Z,J,ee,ie,ne,ue,he,le,fe)=>{J.slotScopeIds=le,Z==null?J.shapeFlag&512?ne.ctx.activate(J,ee,ie,he,fe):te(J,ee,ie,ne,ue,he,fe):ae(Z,J,fe)},te=(Z,J,ee,ie,ne,ue,he)=>{const le=Z.component=createComponentInstance(Z,ie,ne);if(isKeepAlive(Z)&&(le.ctx.renderer=Re),setupComponent(le),le.asyncDep){if(ne&&ne.registerDep(le,re),!Z.el){const fe=le.subTree=createVNode(Comment);I(null,fe,J,ee)}return}re(le,Z,J,ee,ne,ue,he)},ae=(Z,J,ee)=>{const ie=J.component=Z.component;if(shouldUpdateComponent(Z,J,ee))if(ie.asyncDep&&!ie.asyncResolved){de(ie,J,ee);return}else ie.next=J,invalidateJob(ie.update),ie.update();else J.el=Z.el,ie.vnode=J},re=(Z,J,ee,ie,ne,ue,he)=>{const le=()=>{if(Z.isMounted){let{next:pe,bu:ve,u:ge,parent:Se,vnode:be}=Z,Ee=pe,Me;toggleRecurse(Z,!1),pe?(pe.el=be.el,de(Z,pe,he)):pe=be,ve&&invokeArrayFns(ve),(Me=pe.props&&pe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Me,Se,pe,be),toggleRecurse(Z,!0);const Ie=renderComponentRoot(Z),$e=Z.subTree;Z.subTree=Ie,P($e,Ie,d($e.el),De($e),Z,ne,ue),pe.el=Ie.el,Ee===null&&updateHOCHostEl(Z,Ie.el),ge&&queuePostRenderEffect(ge,ne),(Me=pe.props&&pe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Me,Se,pe,be),ne)}else{let pe;const{el:ve,props:ge}=J,{bm:Se,m:be,parent:Ee}=Z,Me=isAsyncWrapper(J);if(toggleRecurse(Z,!1),Se&&invokeArrayFns(Se),!Me&&(pe=ge&&ge.onVnodeBeforeMount)&&invokeVNodeHook(pe,Ee,J),toggleRecurse(Z,!0),ve&&_e){const Ie=()=>{Z.subTree=renderComponentRoot(Z),_e(ve,Z.subTree,Z,ne,null)};Me?J.type.__asyncLoader().then(()=>!Z.isUnmounted&&Ie()):Ie()}else{const Ie=Z.subTree=renderComponentRoot(Z);P(null,Ie,ee,ie,Z,ne,ue),J.el=Ie.el}if(be&&queuePostRenderEffect(be,ne),!Me&&(pe=ge&&ge.onVnodeMounted)){const Ie=J;queuePostRenderEffect(()=>invokeVNodeHook(pe,Ee,Ie),ne)}(J.shapeFlag&256||Ee&&isAsyncWrapper(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&Z.a&&queuePostRenderEffect(Z.a,ne),Z.isMounted=!0,J=ee=ie=null}},fe=Z.effect=new ReactiveEffect(le,()=>queueJob(oe),Z.scope),oe=Z.update=()=>fe.run();oe.id=Z.uid,toggleRecurse(Z,!0),oe()},de=(Z,J,ee)=>{J.component=Z;const ie=Z.vnode.props;Z.vnode=J,Z.next=null,updateProps$2(Z,J.props,ie,ee),updateSlots(Z,J.children,ee),pauseTracking(),flushPreFlushCbs(),resetTracking()},se=(Z,J,ee,ie,ne,ue,he,le,fe=!1)=>{const oe=Z&&Z.children,pe=Z?Z.shapeFlag:0,ve=J.children,{patchFlag:ge,shapeFlag:Se}=J;if(ge>0){if(ge&128){ye(oe,ve,ee,ie,ne,ue,he,le,fe);return}else if(ge&256){ce(oe,ve,ee,ie,ne,ue,he,le,fe);return}}Se&8?(pe&16&&Ae(oe,ne,ue),ve!==oe&&f(ee,ve)):pe&16?Se&16?ye(oe,ve,ee,ie,ne,ue,he,le,fe):Ae(oe,ne,ue,!0):(pe&8&&f(ee,""),Se&16&&Y(ve,ee,ie,ne,ue,he,le,fe))},ce=(Z,J,ee,ie,ne,ue,he,le,fe)=>{Z=Z||EMPTY_ARR,J=J||EMPTY_ARR;const oe=Z.length,pe=J.length,ve=Math.min(oe,pe);let ge;for(ge=0;ge<ve;ge++){const Se=J[ge]=fe?cloneIfMounted(J[ge]):normalizeVNode(J[ge]);P(Z[ge],Se,ee,null,ne,ue,he,le,fe)}oe>pe?Ae(Z,ne,ue,!0,!1,ve):Y(J,ee,ie,ne,ue,he,le,fe,ve)},ye=(Z,J,ee,ie,ne,ue,he,le,fe)=>{let oe=0;const pe=J.length;let ve=Z.length-1,ge=pe-1;for(;oe<=ve&&oe<=ge;){const Se=Z[oe],be=J[oe]=fe?cloneIfMounted(J[oe]):normalizeVNode(J[oe]);if(isSameVNodeType(Se,be))P(Se,be,ee,null,ne,ue,he,le,fe);else break;oe++}for(;oe<=ve&&oe<=ge;){const Se=Z[ve],be=J[ge]=fe?cloneIfMounted(J[ge]):normalizeVNode(J[ge]);if(isSameVNodeType(Se,be))P(Se,be,ee,null,ne,ue,he,le,fe);else break;ve--,ge--}if(oe>ve){if(oe<=ge){const Se=ge+1,be=Se<pe?J[Se].el:ie;for(;oe<=ge;)P(null,J[oe]=fe?cloneIfMounted(J[oe]):normalizeVNode(J[oe]),ee,be,ne,ue,he,le,fe),oe++}}else if(oe>ge)for(;oe<=ve;)me(Z[oe],ne,ue,!0),oe++;else{const Se=oe,be=oe,Ee=new Map;for(oe=be;oe<=ge;oe++){const Le=J[oe]=fe?cloneIfMounted(J[oe]):normalizeVNode(J[oe]);Le.key!=null&&Ee.set(Le.key,oe)}let Me,Ie=0;const $e=ge-be+1;let ke=!1,Be=0;const Fe=new Array($e);for(oe=0;oe<$e;oe++)Fe[oe]=0;for(oe=Se;oe<=ve;oe++){const Le=Z[oe];if(Ie>=$e){me(Le,ne,ue,!0);continue}let Ne;if(Le.key!=null)Ne=Ee.get(Le.key);else for(Me=be;Me<=ge;Me++)if(Fe[Me-be]===0&&isSameVNodeType(Le,J[Me])){Ne=Me;break}Ne===void 0?me(Le,ne,ue,!0):(Fe[Ne-be]=oe+1,Ne>=Be?Be=Ne:ke=!0,P(Le,J[Ne],ee,null,ne,ue,he,le,fe),Ie++)}const He=ke?getSequence(Fe):EMPTY_ARR;for(Me=He.length-1,oe=$e-1;oe>=0;oe--){const Le=be+oe,Ne=J[Le],ze=Le+1<pe?J[Le+1].el:ie;Fe[oe]===0?P(null,Ne,ee,ze,ne,ue,he,le,fe):ke&&(Me<0||oe!==He[Me]?Te(Ne,ee,ze,2):Me--)}}},Te=(Z,J,ee,ie,ne=null)=>{const{el:ue,type:he,transition:le,children:fe,shapeFlag:oe}=Z;if(oe&6){Te(Z.component.subTree,J,ee,ie);return}if(oe&128){Z.suspense.move(J,ee,ie);return}if(oe&64){he.move(Z,J,ee,Re);return}if(he===Fragment){i(ue,J,ee);for(let ve=0;ve<fe.length;ve++)Te(fe[ve],J,ee,ie);i(Z.anchor,J,ee);return}if(he===Static){N(Z,J,ee);return}if(ie!==2&&oe&1&&le)if(ie===0)le.beforeEnter(ue),i(ue,J,ee),queuePostRenderEffect(()=>le.enter(ue),ne);else{const{leave:ve,delayLeave:ge,afterLeave:Se}=le,be=()=>i(ue,J,ee),Ee=()=>{ve(ue,()=>{be(),Se&&Se()})};ge?ge(ue,be,Ee):Ee()}else i(ue,J,ee)},me=(Z,J,ee,ie=!1,ne=!1)=>{const{type:ue,props:he,ref:le,children:fe,dynamicChildren:oe,shapeFlag:pe,patchFlag:ve,dirs:ge}=Z;if(le!=null&&setRef(le,null,ee,Z,!0),pe&256){J.ctx.deactivate(Z);return}const Se=pe&1&&ge,be=!isAsyncWrapper(Z);let Ee;if(be&&(Ee=he&&he.onVnodeBeforeUnmount)&&invokeVNodeHook(Ee,J,Z),pe&6)Pe(Z.component,ee,ie);else{if(pe&128){Z.suspense.unmount(ee,ie);return}Se&&invokeDirectiveHook(Z,null,J,"beforeUnmount"),pe&64?Z.type.remove(Z,J,ee,ne,Re,ie):oe&&(ue!==Fragment||ve>0&&ve&64)?Ae(oe,J,ee,!1,!0):(ue===Fragment&&ve&384||!ne&&pe&16)&&Ae(fe,J,ee),ie&&xe(Z)}(be&&(Ee=he&&he.onVnodeUnmounted)||Se)&&queuePostRenderEffect(()=>{Ee&&invokeVNodeHook(Ee,J,Z),Se&&invokeDirectiveHook(Z,null,J,"unmounted")},ee)},xe=Z=>{const{type:J,el:ee,anchor:ie,transition:ne}=Z;if(J===Fragment){Ce(ee,ie);return}if(J===Static){F(Z);return}const ue=()=>{a(ee),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(Z.shapeFlag&1&&ne&&!ne.persisted){const{leave:he,delayLeave:le}=ne,fe=()=>he(ee,ue);le?le(Z.el,ue,fe):fe()}else ue()},Ce=(Z,J)=>{let ee;for(;Z!==J;)ee=g(Z),a(Z),Z=ee;a(J)},Pe=(Z,J,ee)=>{const{bum:ie,scope:ne,update:ue,subTree:he,um:le}=Z;ie&&invokeArrayFns(ie),ne.stop(),ue&&(ue.active=!1,me(he,Z,J,ee)),le&&queuePostRenderEffect(le,J),queuePostRenderEffect(()=>{Z.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&Z.asyncDep&&!Z.asyncResolved&&Z.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},Ae=(Z,J,ee,ie=!1,ne=!1,ue=0)=>{for(let he=ue;he<Z.length;he++)me(Z[he],J,ee,ie,ne)},De=Z=>Z.shapeFlag&6?De(Z.component.subTree):Z.shapeFlag&128?Z.suspense.next():g(Z.anchor||Z.el),Oe=(Z,J,ee)=>{Z==null?J._vnode&&me(J._vnode,null,null,!0):P(J._vnode||null,Z,J,null,null,null,ee),flushPreFlushCbs(),flushPostFlushCbs(),J._vnode=Z},Re={p:P,um:me,m:Te,r:xe,mt:te,mc:Y,pc:se,pbc:q,n:De,o:r};let we,_e;return t&&([we,_e]=t(Re)),{render:Oe,hydrate:we,createApp:createAppAPI(Oe,we)}}function toggleRecurse({effect:r,update:t},n){r.allowRecurse=t.allowRecurse=n}function traverseStaticChildren(r,t,n=!1){const i=r.children,a=t.children;if(isArray$1(i)&&isArray$1(a))for(let o=0;o<i.length;o++){const s=i[o];let l=a[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[o]=cloneIfMounted(a[o]),l.el=s.el),n||traverseStaticChildren(s,l)),l.type===Text&&(l.el=s.el)}}function getSequence(r){const t=r.slice(),n=[0];let i,a,o,s,l;const u=r.length;for(i=0;i<u;i++){const c=r[i];if(c!==0){if(a=n[n.length-1],r[a]<c){t[i]=a,n.push(i);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,r[n[l]]<c?o=l+1:s=l;c<r[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const isTeleport=r=>r.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(r=!1){blockStack.push(currentBlock=r?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(r){isBlockTreeEnabled+=r}function setupBlock(r){return r.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(r),r}function createElementBlock(r,t,n,i,a,o){return setupBlock(createBaseVNode(r,t,n,i,a,o,!0))}function isVNode(r){return r?r.__v_isVNode===!0:!1}function isSameVNodeType(r,t){return r.type===t.type&&r.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:r})=>r??null,normalizeRef=({ref:r,ref_key:t,ref_for:n})=>(typeof r=="number"&&(r=""+r),r!=null?isString$1(r)||isRef(r)||isFunction$1(r)?{i:currentRenderingInstance,r,k:t,f:!!n}:r:null);function createBaseVNode(r,t=null,n=null,i=0,a=null,o=r===Fragment?0:1,s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return l?(normalizeChildren(u,n),o&128&&r.normalize(u)):n&&(u.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(r,t=null,n=null,i=0,a=null,o=!1){if((!r||r===NULL_DYNAMIC_COMPONENT)&&(r=Comment),isVNode(r)){const l=cloneVNode(r,t,!0);return n&&normalizeChildren(l,n),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.shapeFlag&6?currentBlock[currentBlock.indexOf(r)]=l:currentBlock.push(l)),l.patchFlag|=-2,l}if(isClassComponent(r)&&(r=r.__vccOpts),t){t=guardReactiveProps(t);let{class:l,style:u}=t;l&&!isString$1(l)&&(t.class=normalizeClass(l)),isObject$3(u)&&(isProxy(u)&&!isArray$1(u)&&(u=extend$1({},u)),t.style=normalizeStyle$1(u))}const s=isString$1(r)?1:isSuspense(r)?128:isTeleport(r)?64:isObject$3(r)?4:isFunction$1(r)?2:0;return createBaseVNode(r,t,n,i,a,s,o,!0)}function guardReactiveProps(r){return r?isProxy(r)||InternalObjectKey in r?extend$1({},r):r:null}function cloneVNode(r,t,n=!1){const{props:i,ref:a,patchFlag:o,children:s}=r,l=t?mergeProps(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:l,key:l&&normalizeKey(l),ref:t&&t.ref?n&&a?isArray$1(a)?a.concat(normalizeRef(t)):[a,normalizeRef(t)]:normalizeRef(t):a,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==Fragment?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&cloneVNode(r.ssContent),ssFallback:r.ssFallback&&cloneVNode(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function createTextVNode(r=" ",t=0){return createVNode(Text,null,r,t)}function normalizeVNode(r){return r==null||typeof r=="boolean"?createVNode(Comment):isArray$1(r)?createVNode(Fragment,null,r.slice()):typeof r=="object"?cloneIfMounted(r):createVNode(Text,null,String(r))}function cloneIfMounted(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:cloneVNode(r)}function normalizeChildren(r,t){let n=0;const{shapeFlag:i}=r;if(t==null)t=null;else if(isArray$1(t))n=16;else if(typeof t=="object")if(i&65){const a=t.default;a&&(a._c&&(a._d=!1),normalizeChildren(r,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),i&64?(n=16,t=[createTextVNode(t)]):n=8);r.children=t,r.shapeFlag|=n}function mergeProps(...r){const t={};for(let n=0;n<r.length;n++){const i=r[n];for(const a in i)if(a==="class")t.class!==i.class&&(t.class=normalizeClass([t.class,i.class]));else if(a==="style")t.style=normalizeStyle$1([t.style,i.style]);else if(isOn(a)){const o=t[a],s=i[a];s&&o!==s&&!(isArray$1(o)&&o.includes(s))&&(t[a]=o?[].concat(o,s):s)}else a!==""&&(t[a]=i[a])}return t}function invokeVNodeHook(r,t,n,i=null){callWithAsyncErrorHandling(r,t,7,[n,i])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(r,t,n){const i=r.type,a=(t?t.appContext:r.appContext)||emptyAppContext,o={uid:uid++,vnode:r,type:i,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(i,a),emitsOptions:normalizeEmitsOptions(i,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:i.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit.bind(null,o),r.ce&&r.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(r=>currentInstance=r),internalSetCurrentInstance=r=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(t=>t(r)):globalCurrentInstanceSetters[0](r)};const setCurrentInstance=r=>{internalSetCurrentInstance(r),r.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(r){return r.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(r,t=!1){isInSSRComponentSetup=t;const{props:n,children:i}=r.vnode,a=isStatefulComponent(r);initProps$1(r,n,a,t),initSlots(r,i);const o=a?setupStatefulComponent(r,t):void 0;return isInSSRComponentSetup=!1,o}function setupStatefulComponent(r,t){const n=r.type;r.accessCache=Object.create(null),r.proxy=markRaw(new Proxy(r.ctx,PublicInstanceProxyHandlers));const{setup:i}=n;if(i){const a=r.setupContext=i.length>1?createSetupContext(r):null;setCurrentInstance(r),pauseTracking();const o=callWithErrorHandling(i,r,0,[r.props,a]);if(resetTracking(),unsetCurrentInstance(),isPromise(o)){if(o.then(unsetCurrentInstance,unsetCurrentInstance),t)return o.then(s=>{handleSetupResult(r,s,t)}).catch(s=>{handleError(s,r,0)});r.asyncDep=o}else handleSetupResult(r,o,t)}else finishComponentSetup(r,t)}function handleSetupResult(r,t,n){isFunction$1(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:isObject$3(t)&&(r.setupState=proxyRefs(t)),finishComponentSetup(r,n)}let compile;function finishComponentSetup(r,t,n){const i=r.type;if(!r.render){if(!t&&compile&&!i.render){const a=i.template||resolveMergedOptions(r).template;if(a){const{isCustomElement:o,compilerOptions:s}=r.appContext.config,{delimiters:l,compilerOptions:u}=i,c=extend$1(extend$1({isCustomElement:o,delimiters:l},s),u);i.render=compile(a,c)}}r.render=i.render||NOOP}setCurrentInstance(r),pauseTracking(),applyOptions(r),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(r){return r.attrsProxy||(r.attrsProxy=new Proxy(r.attrs,{get(t,n){return track(r,"get","$attrs"),t[n]}}))}function createSetupContext(r){const t=n=>{r.exposed=n||{}};return{get attrs(){return getAttrsProxy(r)},slots:r.slots,emit:r.emit,expose:t}}function getExposeProxy(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(proxyRefs(markRaw(r.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](r)},has(t,n){return n in t||n in publicPropertiesMap}}))}function isClassComponent(r){return isFunction$1(r)&&"__vccOpts"in r}const computed=(r,t)=>computed$1(r,t,isInSSRComponentSetup);function h(r,t,n){const i=arguments.length;return i===2?isObject$3(t)&&!isArray$1(t)?isVNode(t)?createVNode(r,null,[t]):createVNode(r,t):createVNode(r,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&isVNode(n)&&(n=[n]),createVNode(r,t,n))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(r,t,n)=>{t.insertBefore(r,n||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,n,i)=>{const a=t?doc.createElementNS(svgNS,r):doc.createElement(r,n?{is:n}:void 0);return r==="select"&&i&&i.multiple!=null&&a.setAttribute("multiple",i.multiple),a},createText:r=>doc.createTextNode(r),createComment:r=>doc.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>doc.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},insertStaticContent(r,t,n,i,a,o){const s=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===o||!(a=a.nextSibling)););else{templateContainer.innerHTML=i?`<svg>${r}</svg>`:r;const l=templateContainer.content;if(i){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function patchClass(r,t,n){const i=r._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?r.removeAttribute("class"):n?r.setAttribute("class",t):r.className=t}function patchStyle(r,t,n){const i=r.style,a=isString$1(n);if(n&&!a){if(t&&!isString$1(t))for(const o in t)n[o]==null&&setStyle(i,o,"");for(const o in n)setStyle(i,o,n[o])}else{const o=i.display;a?t!==n&&(i.cssText=n):t&&r.removeAttribute("style"),"_vod"in r&&(i.display=o)}}const importantRE=/\s*!important$/;function setStyle(r,t,n){if(isArray$1(n))n.forEach(i=>setStyle(r,t,i));else if(n==null&&(n=""),t.startsWith("--"))r.setProperty(t,n);else{const i=autoPrefix(r,t);importantRE.test(n)?r.setProperty(hyphenate(i),n.replace(importantRE,""),"important"):r[i]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(r,t){const n=prefixCache[t];if(n)return n;let i=camelize(t);if(i!=="filter"&&i in r)return prefixCache[t]=i;i=capitalize(i);for(let a=0;a<prefixes.length;a++){const o=prefixes[a]+i;if(o in r)return prefixCache[t]=o}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(r,t,n,i,a){if(i&&t.startsWith("xlink:"))n==null?r.removeAttributeNS(xlinkNS,t.slice(6,t.length)):r.setAttributeNS(xlinkNS,t,n);else{const o=isSpecialBooleanAttr(t);n==null||o&&!includeBooleanAttr(n)?r.removeAttribute(t):r.setAttribute(t,o?"":n)}}function patchDOMProp(r,t,n,i,a,o,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,a,o),r[t]=n??"";return}const l=r.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){r._value=n;const c=l==="OPTION"?r.getAttribute("value"):r.value,f=n??"";c!==f&&(r.value=f),n==null&&r.removeAttribute(t);return}let u=!1;if(n===""||n==null){const c=typeof r[t];c==="boolean"?n=includeBooleanAttr(n):n==null&&c==="string"?(n="",u=!0):c==="number"&&(n=0,u=!0)}try{r[t]=n}catch{}u&&r.removeAttribute(t)}function addEventListener$1(r,t,n,i){r.addEventListener(t,n,i)}function removeEventListener$1(r,t,n,i){r.removeEventListener(t,n,i)}function patchEvent(r,t,n,i,a=null){const o=r._vei||(r._vei={}),s=o[t];if(i&&s)s.value=i;else{const[l,u]=parseName(t);if(i){const c=o[t]=createInvoker(i,a);addEventListener$1(r,l,c,u)}else s&&(removeEventListener$1(r,l,s,u),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(r){let t;if(optionsModifierRE.test(r)){t={};let i;for(;i=r.match(optionsModifierRE);)r=r.slice(0,r.length-i[0].length),t[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):hyphenate(r.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(r,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(i,n.value),t,5,[i])};return n.value=r,n.attached=getNow(),n}function patchStopImmediatePropagation(r,t){if(isArray$1(t)){const n=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{n.call(r),r._stopped=!0},t.map(i=>a=>!a._stopped&&i&&i(a))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(r,t,n,i,a=!1,o,s,l,u)=>{t==="class"?patchClass(r,i,a):t==="style"?patchStyle(r,n,i):isOn(t)?isModelListener(t)||patchEvent(r,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(r,t,i,a))?patchDOMProp(r,t,i,o,s,l,u):(t==="true-value"?r._trueValue=i:t==="false-value"&&(r._falseValue=i),patchAttr(r,t,i,a))};function shouldSetAsProp(r,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in r&&nativeOnRE.test(t)&&isFunction$1(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$1(n)?!1:t in r}const getModelAssigner=r=>{const t=r.props["onUpdate:modelValue"]||!1;return isArray$1(t)?n=>invokeArrayFns(t,n):t},vModelCheckbox={deep:!0,created(r,t,n){r._assign=getModelAssigner(n),addEventListener$1(r,"change",()=>{const i=r._modelValue,a=getValue(r),o=r.checked,s=r._assign;if(isArray$1(i)){const l=looseIndexOf(i,a),u=l!==-1;if(o&&!u)s(i.concat(a));else if(!o&&u){const c=[...i];c.splice(l,1),s(c)}}else if(isSet(i)){const l=new Set(i);o?l.add(a):l.delete(a),s(l)}else s(getCheckboxValue(r,o))})},mounted:setChecked,beforeUpdate(r,t,n){r._assign=getModelAssigner(n),setChecked(r,t,n)}};function setChecked(r,{value:t,oldValue:n},i){r._modelValue=t,isArray$1(t)?r.checked=looseIndexOf(t,i.props.value)>-1:isSet(t)?r.checked=t.has(i.props.value):t!==n&&(r.checked=looseEqual(t,getCheckboxValue(r,!0)))}const vModelSelect={deep:!0,created(r,{value:t,modifiers:{number:n}},i){const a=isSet(t);addEventListener$1(r,"change",()=>{const o=Array.prototype.filter.call(r.options,s=>s.selected).map(s=>n?looseToNumber(getValue(s)):getValue(s));r._assign(r.multiple?a?new Set(o):o:o[0])}),r._assign=getModelAssigner(i)},mounted(r,{value:t}){setSelected(r,t)},beforeUpdate(r,t,n){r._assign=getModelAssigner(n)},updated(r,{value:t}){setSelected(r,t)}};function setSelected(r,t){const n=r.multiple;if(!(n&&!isArray$1(t)&&!isSet(t))){for(let i=0,a=r.options.length;i<a;i++){const o=r.options[i],s=getValue(o);if(n)isArray$1(t)?o.selected=looseIndexOf(t,s)>-1:o.selected=t.has(s);else if(looseEqual(getValue(o),t)){r.selectedIndex!==i&&(r.selectedIndex=i);return}}!n&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function getValue(r){return"_value"in r?r._value:r.value}function getCheckboxValue(r,t){const n=t?"_trueValue":"_falseValue";return n in r?r[n]:t}const rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...r)=>{const t=ensureRenderer().createApp(...r),{mount:n}=t;return t.mount=i=>{const a=normalizeContainer(i);if(!a)return;const o=t._component;!isFunction$1(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.innerHTML="";const s=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},t};function normalizeContainer(r){return isString$1(r)?document.querySelector(r):r}const global$1="";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},extendStatics(r,t)};function __extends(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Browser=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),Env=function(){function r(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(r,t){var n=t.browser,i=r.match(/Firefox\/([\d.]+)/),a=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),o=r.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(r);i&&(n.firefox=!0,n.version=i[1]),a&&(n.ie=!0,n.version=a[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),s&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document<"u";var l=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in l||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(r){var t={};if(typeof JSON>"u")return t;for(var n=0;n<r.length;n++){var i=String.fromCharCode(n+32),a=(r.charCodeAt(n)-OFFSET)/SCALE;t[i]=a}return t}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,t;return function(n,i){if(!r){var a=platformApi.createCanvas();r=a&&a.getContext("2d")}if(r)return t!==i&&(t=r.font=i||DEFAULT_FONT),r.measureText(n);n=n||"",i=i||DEFAULT_FONT;var o=/(\d+)px/.exec(i),s=o&&+o[1]||DEFAULT_FONT_SIZE,l=0;if(i.indexOf("mono")>=0)l=s*n.length;else for(var u=0;u<n.length;u++){var c=DEFAULT_TEXT_WIDTH_MAP[n[u]];l+=c==null?s:c*s}return{width:l}}}(),loadImage:function(r,t,n){var i=new Image;return i.onload=t,i.onerror=n,i.src=r,i}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,t){return r["[object "+t+"]"]=!0,r},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,t){return r["[object "+t+"Array]"]=!0,r},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];typeof console<"u"&&console.error.apply(console,r)}function clone$2(r){if(r==null||typeof r!="object")return r;var t=r,n=objToString.call(r);if(n==="[object Array]"){if(!isPrimitive(r)){t=[];for(var i=0,a=r.length;i<a;i++)t[i]=clone$2(r[i])}}else if(TYPED_ARRAY[n]){if(!isPrimitive(r)){var o=r.constructor;if(o.from)t=o.from(r);else{t=new o(r.length);for(var i=0,a=r.length;i<a;i++)t[i]=r[i]}}}else if(!BUILTIN_OBJECT[n]&&!isPrimitive(r)&&!isDom(r)){t={};for(var s in r)r.hasOwnProperty(s)&&s!==protoKey&&(t[s]=clone$2(r[s]))}return t}function merge(r,t,n){if(!isObject$2(t)||!isObject$2(r))return n?clone$2(t):r;for(var i in t)if(t.hasOwnProperty(i)&&i!==protoKey){var a=r[i],o=t[i];isObject$2(o)&&isObject$2(a)&&!isArray(o)&&!isArray(a)&&!isDom(o)&&!isDom(a)&&!isBuiltInObject(o)&&!isBuiltInObject(a)&&!isPrimitive(o)&&!isPrimitive(a)?merge(a,o,n):(n||!(i in r))&&(r[i]=clone$2(t[i]))}return r}function extend(r,t){if(Object.assign)Object.assign(r,t);else for(var n in t)t.hasOwnProperty(n)&&n!==protoKey&&(r[n]=t[n]);return r}function defaults(r,t,n){for(var i=keys(t),a=0;a<i.length;a++){var o=i[a];(n?t[o]!=null:r[o]==null)&&(r[o]=t[o])}return r}function indexOf(r,t){if(r){if(r.indexOf)return r.indexOf(t);for(var n=0,i=r.length;n<i;n++)if(r[n]===t)return n}return-1}function inherits(r,t){var n=r.prototype;function i(){}i.prototype=t.prototype,r.prototype=new i;for(var a in n)n.hasOwnProperty(a)&&(r.prototype[a]=n[a]);r.prototype.constructor=r,r.superClass=t}function mixin(r,t,n){if(r="prototype"in r?r.prototype:r,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var o=i[a];o!=="constructor"&&(n?t[o]!=null:r[o]==null)&&(r[o]=t[o])}else defaults(r,t,n)}function isArrayLike(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function each$5(r,t,n){if(r&&t)if(r.forEach&&r.forEach===nativeForEach)r.forEach(t,n);else if(r.length===+r.length)for(var i=0,a=r.length;i<a;i++)t.call(n,r[i],i,r);else for(var o in r)r.hasOwnProperty(o)&&t.call(n,r[o],o,r)}function map$1(r,t,n){if(!r)return[];if(!t)return slice(r);if(r.map&&r.map===nativeMap)return r.map(t,n);for(var i=[],a=0,o=r.length;a<o;a++)i.push(t.call(n,r[a],a,r));return i}function reduce(r,t,n,i){if(r&&t){for(var a=0,o=r.length;a<o;a++)n=t.call(i,n,r[a],a,r);return n}}function filter(r,t,n){if(!r)return[];if(!t)return slice(r);if(r.filter&&r.filter===nativeFilter)return r.filter(t,n);for(var i=[],a=0,o=r.length;a<o;a++)t.call(n,r[a],a,r)&&i.push(r[a]);return i}function keys(r){if(!r)return[];if(Object.keys)return Object.keys(r);var t=[];for(var n in r)r.hasOwnProperty(n)&&t.push(n);return t}function bindPolyfill(r,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return r.apply(t,n.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return r.apply(this,t.concat(nativeSlice.call(arguments)))}}function isArray(r){return Array.isArray?Array.isArray(r):objToString.call(r)==="[object Array]"}function isFunction(r){return typeof r=="function"}function isString(r){return typeof r=="string"}function isStringSafe(r){return objToString.call(r)==="[object String]"}function isNumber(r){return typeof r=="number"}function isObject$2(r){var t=typeof r;return t==="function"||!!r&&t==="object"}function isBuiltInObject(r){return!!BUILTIN_OBJECT[objToString.call(r)]}function isTypedArray(r){return!!TYPED_ARRAY[objToString.call(r)]}function isDom(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function isGradientObject(r){return r.colorStops!=null}function isImagePatternObject(r){return r.image!=null}function eqNaN(r){return r!==r}function retrieve(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var n=0,i=r.length;n<i;n++)if(r[n]!=null)return r[n]}function retrieve2(r,t){return r??t}function retrieve3(r,t,n){return r??t??n}function slice(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return nativeSlice.apply(r,t)}function normalizeCssArray$1(r){if(typeof r=="number")return[r,r,r,r];var t=r.length;return t===2?[r[0],r[1],r[0],r[1]]:t===3?[r[0],r[1],r[2],r[1]]:r}function assert(r,t){if(!r)throw new Error(t)}function trim(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(r){r[primitiveKey]=!0}function isPrimitive(r){return r[primitiveKey]}var MapPolyfill=function(){function r(){this.data={}}return r.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},r.prototype.has=function(t){return this.data.hasOwnProperty(t)},r.prototype.get=function(t){return this.data[t]},r.prototype.set=function(t,n){return this.data[t]=n,this},r.prototype.keys=function(){return keys(this.data)},r.prototype.forEach=function(t){var n=this.data;for(var i in n)n.hasOwnProperty(i)&&t(n[i],i)},r}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function r(t){var n=isArray(t);this.data=maybeNativeMap();var i=this;t instanceof r?t.each(a):t&&each$5(t,a);function a(o,s){n?i.set(o,s):i.set(s,o)}}return r.prototype.hasKey=function(t){return this.data.has(t)},r.prototype.get=function(t){return this.data.get(t)},r.prototype.set=function(t,n){return this.data.set(t,n),n},r.prototype.each=function(t,n){this.data.forEach(function(i,a){t.call(n,i,a)})},r.prototype.keys=function(){var t=this.data.keys();return isNativeMapSupported?Array.from(t):t},r.prototype.removeKey=function(t){this.data.delete(t)},r}();function createHashMap(r){return new HashMap(r)}function concatArray(r,t){for(var n=new r.constructor(r.length+t.length),i=0;i<r.length;i++)n[i]=r[i];for(var a=r.length,i=0;i<t.length;i++)n[i+a]=t[i];return n}function createObject(r,t){var n;if(Object.create)n=Object.create(r);else{var i=function(){};i.prototype=r,n=new i}return t&&extend(n,t),n}function disableUserSelect(r){var t=r.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function hasOwn(r,t){return r.hasOwnProperty(t)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$1(r,t){return r==null&&(r=0),t==null&&(t=0),[r,t]}function clone$1(r){return[r[0],r[1]]}function add(r,t,n){return r[0]=t[0]+n[0],r[1]=t[1]+n[1],r}function sub(r,t,n){return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r}function len(r){return Math.sqrt(lenSquare(r))}function lenSquare(r){return r[0]*r[0]+r[1]*r[1]}function scale$2(r,t,n){return r[0]=t[0]*n,r[1]=t[1]*n,r}function normalize$1(r,t){var n=len(t);return n===0?(r[0]=0,r[1]=0):(r[0]=t[0]/n,r[1]=t[1]/n),r}function distance(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var dist$1=distance;function distanceSquare(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var distSquare=distanceSquare;function lerp$1(r,t,n,i){return r[0]=t[0]+i*(n[0]-t[0]),r[1]=t[1]+i*(n[1]-t[1]),r}function applyTransform$1(r,t,n){var i=t[0],a=t[1];return r[0]=n[0]*i+n[2]*a+n[4],r[1]=n[1]*i+n[3]*a+n[5],r}function min$1(r,t,n){return r[0]=Math.min(t[0],n[0]),r[1]=Math.min(t[1],n[1]),r}function max$1(r,t,n){return r[0]=Math.max(t[0],n[0]),r[1]=Math.max(t[1],n[1]),r}var Param=function(){function r(t,n){this.target=t,this.topTarget=n&&n.topTarget}return r}(),Draggable=function(){function r(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Param(n,t),"dragstart",t.event))},r.prototype._drag=function(t){var n=this._draggingTarget;if(n){var i=t.offsetX,a=t.offsetY,o=i-this._x,s=a-this._y;this._x=i,this._y=a,n.drift(o,s,t),this.handler.dispatchToElement(new Param(n,t),"drag",t.event);var l=this.handler.findHover(i,a,n).target,u=this._dropTarget;this._dropTarget=l,n!==l&&(u&&l!==u&&this.handler.dispatchToElement(new Param(u,t),"dragleave",t.event),l&&l!==u&&this.handler.dispatchToElement(new Param(l,t),"dragenter",t.event))}},r.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Param(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},r}();const Draggable$1=Draggable;var Eventful=function(){function r(t){t&&(this._$eventProcessor=t)}return r.prototype.on=function(t,n,i,a){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof n=="function"&&(a=i,i=n,n=null),!i||!t)return this;var s=this._$eventProcessor;n!=null&&s&&s.normalizeQuery&&(n=s.normalizeQuery(n)),o[t]||(o[t]=[]);for(var l=0;l<o[t].length;l++)if(o[t][l].h===i)return this;var u={h:i,query:n,ctx:a||this,callAtLast:i.zrEventfulCallAtLast},c=o[t].length-1,f=o[t][c];return f&&f.callAtLast?o[t].splice(c,0,u):o[t].push(u),this},r.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},r.prototype.off=function(t,n){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(n){if(i[t]){for(var a=[],o=0,s=i[t].length;o<s;o++)i[t][o].h!==n&&a.push(i[t][o]);i[t]=a}i[t]&&i[t].length===0&&delete i[t]}else delete i[t];return this},r.prototype.trigger=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this._$handlers)return this;var a=this._$handlers[t],o=this._$eventProcessor;if(a)for(var s=n.length,l=a.length,u=0;u<l;u++){var c=a[u];if(!(o&&o.filter&&c.query!=null&&!o.filter(t,c.query)))switch(s){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,n[0]);break;case 2:c.h.call(c.ctx,n[0],n[1]);break;default:c.h.apply(c.ctx,n);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},r.prototype.triggerWithContext=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this._$handlers)return this;var a=this._$handlers[t],o=this._$eventProcessor;if(a)for(var s=n.length,l=n[s-1],u=a.length,c=0;c<u;c++){var f=a[c];if(!(o&&o.filter&&f.query!=null&&!o.filter(t,f.query)))switch(s){case 0:f.h.call(l);break;case 1:f.h.call(l,n[0]);break;case 2:f.h.call(l,n[0],n[1]);break;default:f.h.apply(l,n.slice(1,s-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},r}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(r,t,n,i,a,o){var s=i+"-"+a,l=r.length;if(o.hasOwnProperty(s))return o[s];if(t===1){var u=Math.round(Math.log((1<<l)-1&~a)/LN2);return r[n][u]}for(var c=i|1<<n,f=n+1;i&1<<f;)f++;for(var d=0,g=0,v=0;g<l;g++){var M=1<<g;M&a||(d+=(v%2?-1:1)*r[n][g]*determinant(r,t-1,f,c,a|M,o),v++)}return o[s]=d,d}function buildTransformer(r,t){var n=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]],i={},a=determinant(n,8,0,0,0,i);if(a!==0){for(var o=[],s=0;s<8;s++)for(var l=0;l<8;l++)o[l]==null&&(o[l]=0),o[l]+=((s+l)%2?-1:1)*determinant(n,7,s===0?1:0,1<<s,1<<l,i)/a*t[s];return function(u,c,f){var d=c*o[6]+f*o[7]+1;u[0]=(c*o[0]+f*o[1]+o[2])/d,u[1]=(c*o[3]+f*o[4]+o[5])/d}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(r,t,n,i,a){return transformCoordWithViewport(_calcOut$1,t,i,a,!0)&&transformCoordWithViewport(r,n,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(r,t,n,i,a){if(t.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(t)){var o=t[EVENT_SAVED_PROP]||(t[EVENT_SAVED_PROP]={}),s=prepareCoordMarkers(t,o),l=preparePointerTransformer(s,o,a);if(l)return l(r,n,i),!0}return!1}function prepareCoordMarkers(r,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var i=["left","right"],a=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),l=s.style,u=o%2,c=(o>>1)%2;l.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[u]+":0",a[c]+":0",i[1-u]+":auto",a[1-c]+":auto",""].join("!important;"),r.appendChild(s),n.push(s)}return n}function preparePointerTransformer(r,t,n){for(var i=n?"invTrans":"trans",a=t[i],o=t.srcCoords,s=[],l=[],u=!0,c=0;c<4;c++){var f=r[c].getBoundingClientRect(),d=2*c,g=f.left,v=f.top;s.push(g,v),u=u&&o&&g===o[d]&&v===o[d+1],l.push(r[c].offsetLeft,r[c].offsetTop)}return u&&a?a:(t.srcCoords=s,t[i]=n?buildTransformer(l,s):buildTransformer(s,l))}function isCanvasEl(r){return r.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(r){return r==null?"":(r+"").replace(replaceReg,function(t,n){return replaceMap[n]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(r,t,n,i){return n=n||{},i?calculateZrXY(r,t,n):firefoxNotSupportOffsetXY&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):calculateZrXY(r,t,n),n}function calculateZrXY(r,t,n){if(env$1.domSupported&&r.getBoundingClientRect){var i=t.clientX,a=t.clientY;if(isCanvasEl(r)){var o=r.getBoundingClientRect();n.zrX=i-o.left,n.zrY=a-o.top;return}else if(transformCoordWithViewport(_calcOut,r,i,a)){n.zrX=_calcOut[0],n.zrY=_calcOut[1];return}}n.zrX=n.zrY=0}function getNativeEvent(r){return r||window.event}function normalizeEvent(r,t,n){if(t=getNativeEvent(t),t.zrX!=null)return t;var i=t.type,a=i&&i.indexOf("touch")>=0;if(a){var s=i!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&clientToLocal(r,s,t,n)}else{clientToLocal(r,t,t,n);var o=getWheelDeltaMayPolyfill(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var l=t.button;return t.which==null&&l!==void 0&&MOUSE_EVENT_REG.test(t.type)&&(t.which=l&1?1:l&2?3:l&4?2:0),t}function getWheelDeltaMayPolyfill(r){var t=r.wheelDelta;if(t)return t;var n=r.deltaX,i=r.deltaY;if(n==null||i==null)return t;var a=Math.abs(i!==0?i:n),o=i>0?-1:i<0?1:n>0?-1:1;return 3*a*o}function addEventListener(r,t,n,i){r.addEventListener(t,n,i)}function removeEventListener(r,t,n,i){r.removeEventListener(t,n,i)}var stop=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(r){return r.which===2||r.which===3}var GestureMgr=function(){function r(){this._track=[]}return r.prototype.recognize=function(t,n,i){return this._doTrack(t,n,i),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,n,i){var a=t.touches;if(a){for(var o={points:[],touches:[],target:n,event:t},s=0,l=a.length;s<l;s++){var u=a[s],c=clientToLocal(i,u,{});o.points.push([c.zrX,c.zrY]),o.touches.push(u)}this._track.push(o)}},r.prototype._recognize=function(t){for(var n in recognizers)if(recognizers.hasOwnProperty(n)){var i=recognizers[n](this._track,t);if(i)return i}},r}();function dist(r){var t=r[1][0]-r[0][0],n=r[1][1]-r[0][1];return Math.sqrt(t*t+n*n)}function center(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var recognizers={pinch:function(r,t){var n=r.length;if(n){var i=(r[n-1]||{}).points,a=(r[n-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var o=dist(i)/dist(a);!isFinite(o)&&(o=1),t.pinchScale=o;var s=center(i);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:r[0].target,event:t}}}}};function create(){return[1,0,0,1,0,0]}function identity(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function copy(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function mul(r,t,n){var i=t[0]*n[0]+t[2]*n[1],a=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],s=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return r[0]=i,r[1]=a,r[2]=o,r[3]=s,r[4]=l,r[5]=u,r}function translate(r,t,n){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+n[0],r[5]=t[5]+n[1],r}function rotate(r,t,n){var i=t[0],a=t[2],o=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(n),f=Math.cos(n);return r[0]=i*f+s*c,r[1]=-i*c+s*f,r[2]=a*f+l*c,r[3]=-a*c+f*l,r[4]=f*o+c*u,r[5]=f*u-c*o,r}function scale$1(r,t,n){var i=n[0],a=n[1];return r[0]=t[0]*i,r[1]=t[1]*a,r[2]=t[2]*i,r[3]=t[3]*a,r[4]=t[4]*i,r[5]=t[5]*a,r}function invert(r,t){var n=t[0],i=t[2],a=t[4],o=t[1],s=t[3],l=t[5],u=n*s-o*i;return u?(u=1/u,r[0]=s*u,r[1]=-o*u,r[2]=-i*u,r[3]=n*u,r[4]=(i*l-s*a)*u,r[5]=(o*a-n*l)*u,r):null}var Point=function(){function r(t,n){this.x=t||0,this.y=n||0}return r.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(t,n){return this.x=t,this.y=n,this},r.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.scale=function(t){this.x*=t,this.y*=t},r.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},r.prototype.distance=function(t){var n=this.x-t.x,i=this.y-t.y;return Math.sqrt(n*n+i*i)},r.prototype.distanceSquare=function(t){var n=this.x-t.x,i=this.y-t.y;return n*n+i*i},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(t){if(t){var n=this.x,i=this.y;return this.x=t[0]*n+t[2]*i+t[4],this.y=t[1]*n+t[3]*i+t[5],this}},r.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},r.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},r.set=function(t,n,i){t.x=n,t.y=i},r.copy=function(t,n){t.x=n.x,t.y=n.y},r.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.lenSquare=function(t){return t.x*t.x+t.y*t.y},r.dot=function(t,n){return t.x*n.x+t.y*n.y},r.add=function(t,n,i){t.x=n.x+i.x,t.y=n.y+i.y},r.sub=function(t,n,i){t.x=n.x-i.x,t.y=n.y-i.y},r.scale=function(t,n,i){t.x=n.x*i,t.y=n.y*i},r.scaleAndAdd=function(t,n,i,a){t.x=n.x+i.x*a,t.y=n.y+i.y*a},r.lerp=function(t,n,i,a){var o=1-a;t.x=o*n.x+a*i.x,t.y=o*n.y+a*i.y},r}();const Point$1=Point;var mathMin$5=Math.min,mathMax$5=Math.max,lt=new Point$1,rb=new Point$1,lb=new Point$1,rt=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function r(t,n,i,a){i<0&&(t=t+i,i=-i),a<0&&(n=n+a,a=-a),this.x=t,this.y=n,this.width=i,this.height=a}return r.prototype.union=function(t){var n=mathMin$5(t.x,this.x),i=mathMin$5(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$5(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$5(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=n,this.y=i},r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)},r.prototype.calculateTransform=function(t){var n=this,i=t.width/n.width,a=t.height/n.height,o=create();return translate(o,o,[-n.x,-n.y]),scale$1(o,o,[i,a]),translate(o,o,[t.x,t.y]),o},r.prototype.intersect=function(t,n){if(!t)return!1;t instanceof r||(t=r.create(t));var i=this,a=i.x,o=i.x+i.width,s=i.y,l=i.y+i.height,u=t.x,c=t.x+t.width,f=t.y,d=t.y+t.height,g=!(o<u||c<a||l<f||d<s);if(n){var v=1/0,M=0,P=Math.abs(o-u),R=Math.abs(c-a),I=Math.abs(l-f),$=Math.abs(d-s),N=Math.min(P,R),F=Math.min(I,$);o<u||c<a?N>M&&(M=N,P<R?Point$1.set(maxTv$1,-P,0):Point$1.set(maxTv$1,R,0)):N<v&&(v=N,P<R?Point$1.set(minTv$1,P,0):Point$1.set(minTv$1,-R,0)),l<f||d<s?F>M&&(M=F,I<$?Point$1.set(maxTv$1,0,-I):Point$1.set(maxTv$1,0,$)):N<v&&(v=N,I<$?Point$1.set(minTv$1,0,I):Point$1.set(minTv$1,0,-$))}return n&&Point$1.copy(n,g?minTv$1:maxTv$1),g},r.prototype.contain=function(t,n){var i=this;return t>=i.x&&t<=i.x+i.width&&n>=i.y&&n<=i.y+i.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(t){r.copy(this,t)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(t){return new r(t.x,t.y,t.width,t.height)},r.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},r.applyTransform=function(t,n,i){if(!i){t!==n&&r.copy(t,n);return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var a=i[0],o=i[3],s=i[4],l=i[5];t.x=n.x*a+s,t.y=n.y*o+l,t.width=n.width*a,t.height=n.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}lt.x=lb.x=n.x,lt.y=rt.y=n.y,rb.x=rt.x=n.x+n.width,rb.y=lb.y=n.y+n.height,lt.transform(i),rt.transform(i),rb.transform(i),lb.transform(i),t.x=mathMin$5(lt.x,rb.x,lb.x,rt.x),t.y=mathMin$5(lt.y,rb.y,lb.y,rt.y);var u=mathMax$5(lt.x,rb.x,lb.x,rt.x),c=mathMax$5(lt.y,rb.y,lb.y,rt.y);t.width=u-t.x,t.height=c-t.y},r}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(r,t,n){return{type:r,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Eventful$1),HoveredResult=function(){function r(t,n){this.x=t,this.y=n}return r}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(r){__extends(t,r);function t(n,i,a,o,s){var l=r.call(this)||this;return l._hovered=new HoveredResult(0,0),l.storage=n,l.painter=i,l.painterRoot=o,l._pointerSize=s,a=a||new EmptyProxy,l.proxy=null,l.setHandlerProxy(a),l._draggingMgr=new Draggable$1(l),l}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(each$5(handlerNames,function(i){n.on&&n.on(i,this[i],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var i=n.zrX,a=n.zrY,o=isOutsideBoundary(this,i,a),s=this._hovered,l=s.target;l&&!l.__zr&&(s=this.findHover(s.x,s.y),l=s.target);var u=this._hovered=o?new HoveredResult(i,a):this.findHover(i,a),c=u.target,f=this.proxy;f.setCursor&&f.setCursor(c?c.cursor:"default"),l&&c!==l&&this.dispatchToElement(s,"mouseout",n),this.dispatchToElement(u,"mousemove",n),c&&c!==l&&this.dispatchToElement(u,"mouseover",n)},t.prototype.mouseout=function(n){var i=n.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},t.prototype.dispatch=function(n,i){var a=this[n];a&&a.call(this,i)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var i=this.proxy;i.setCursor&&i.setCursor(n)},t.prototype.dispatchToElement=function(n,i,a){n=n||{};var o=n.target;if(!(o&&o.silent)){for(var s="on"+i,l=makeEventPacket(i,n,a);o&&(o[s]&&(l.cancelBubble=!!o[s].call(o,l)),o.trigger(i,l),o=o.__hostTarget?o.__hostTarget:o.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(i,l),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[s]=="function"&&u[s].call(u,l),u.trigger&&u.trigger(i,l)}))}},t.prototype.findHover=function(n,i,a){var o=this.storage.getDisplayList(),s=new HoveredResult(n,i);if(setHoverTarget(o,s,n,i,a),this._pointerSize&&!s.target){for(var l=[],u=this._pointerSize,c=u/2,f=new BoundingRect$1(n-c,i-c,u,u),d=o.length-1;d>=0;d--){var g=o[d];g!==a&&!g.ignore&&!g.ignoreCoarsePointer&&(!g.parent||!g.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(g.getBoundingRect()),g.transform&&tmpRect$1.applyTransform(g.transform),tmpRect$1.intersect(f)&&l.push(g))}if(l.length)for(var v=4,M=Math.PI/12,P=Math.PI*2,R=0;R<c;R+=v)for(var I=0;I<P;I+=M){var $=n+R*Math.cos(I),N=i+R*Math.sin(I);if(setHoverTarget(l,s,$,N,a),s.target)return s}}return s},t.prototype.processGesture=function(n,i){this._gestureMgr||(this._gestureMgr=new GestureMgr);var a=this._gestureMgr;i==="start"&&a.clear();var o=a.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(i==="end"&&a.clear(),o){var s=o.type;n.gestureEvent=s;var l=new HoveredResult;l.target=o.target,this.dispatchToElement(l,s,o.event)}},t}(Eventful$1);each$5(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Handler.prototype[r]=function(t){var n=t.zrX,i=t.zrY,a=isOutsideBoundary(this,n,i),o,s;if((r!=="mouseup"||!a)&&(o=this.findHover(n,i),s=o.target),r==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(r==="mouseup")this._upEl=s;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,r,t)}});function isHover(r,t,n){if(r[r.rectHover?"rectContain":"contain"](t,n)){for(var i=r,a=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var s=i.getClipPath();if(s&&!s.contain(t,n))return!1;i.silent&&(a=!0)}var l=i.__hostTarget;i=l||i.parent}return a?SILENT:!0}return!1}function setHoverTarget(r,t,n,i,a){for(var o=r.length-1;o>=0;o--){var s=r[o],l=void 0;if(s!==a&&!s.ignore&&(l=isHover(s,n,i))&&(!t.topTarget&&(t.topTarget=s),l!==SILENT)){t.target=s;break}}}function isOutsideBoundary(r,t,n){var i=r.painter;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(r){for(var t=0;r>=DEFAULT_MIN_MERGE;)t|=r&1,r>>=1;return r+t}function makeAscendingRun(r,t,n,i){var a=t+1;if(a===n)return 1;if(i(r[a++],r[t])<0){for(;a<n&&i(r[a],r[a-1])<0;)a++;reverseRun(r,t,a)}else for(;a<n&&i(r[a],r[a-1])>=0;)a++;return a-t}function reverseRun(r,t,n){for(n--;t<n;){var i=r[t];r[t++]=r[n],r[n--]=i}}function binaryInsertionSort(r,t,n,i,a){for(i===t&&i++;i<n;i++){for(var o=r[i],s=t,l=i,u;s<l;)u=s+l>>>1,a(o,r[u])<0?l=u:s=u+1;var c=i-s;switch(c){case 3:r[s+3]=r[s+2];case 2:r[s+2]=r[s+1];case 1:r[s+1]=r[s];break;default:for(;c>0;)r[s+c]=r[s+c-1],c--}r[s]=o}}function gallopLeft(r,t,n,i,a,o){var s=0,l=0,u=1;if(o(r,t[n+a])>0){for(l=i-a;u<l&&o(r,t[n+a+u])>0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l),s+=a,u+=a}else{for(l=a+1;u<l&&o(r,t[n+a-u])<=0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l);var c=s;s=a-u,u=a-c}for(s++;s<u;){var f=s+(u-s>>>1);o(r,t[n+f])>0?s=f+1:u=f}return u}function gallopRight(r,t,n,i,a,o){var s=0,l=0,u=1;if(o(r,t[n+a])<0){for(l=a+1;u<l&&o(r,t[n+a-u])<0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l);var c=s;s=a-u,u=a-c}else{for(l=i-a;u<l&&o(r,t[n+a+u])>=0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l),s+=a,u+=a}for(s++;s<u;){var f=s+(u-s>>>1);o(r,t[n+f])<0?u=f:s=f+1}return u}function TimSort(r,t){var n=DEFAULT_MIN_GALLOPING,i,a,o=0;r.length;var s=[];i=[],a=[];function l(v,M){i[o]=v,a[o]=M,o+=1}function u(){for(;o>1;){var v=o-2;if(v>=1&&a[v-1]<=a[v]+a[v+1]||v>=2&&a[v-2]<=a[v]+a[v-1])a[v-1]<a[v+1]&&v--;else if(a[v]>a[v+1])break;f(v)}}function c(){for(;o>1;){var v=o-2;v>0&&a[v-1]<a[v+1]&&v--,f(v)}}function f(v){var M=i[v],P=a[v],R=i[v+1],I=a[v+1];a[v]=P+I,v===o-3&&(i[v+1]=i[v+2],a[v+1]=a[v+2]),o--;var $=gallopRight(r[R],r,M,P,0,t);M+=$,P-=$,P!==0&&(I=gallopLeft(r[M+P-1],r,R,I,I-1,t),I!==0&&(P<=I?d(M,P,R,I):g(M,P,R,I)))}function d(v,M,P,R){var I=0;for(I=0;I<M;I++)s[I]=r[v+I];var $=0,N=P,F=v;if(r[F++]=r[N++],--R===0){for(I=0;I<M;I++)r[F+I]=s[$+I];return}if(M===1){for(I=0;I<R;I++)r[F+I]=r[N+I];r[F+R]=s[$];return}for(var V=n,H,G,Y;;){H=0,G=0,Y=!1;do if(t(r[N],s[$])<0){if(r[F++]=r[N++],G++,H=0,--R===0){Y=!0;break}}else if(r[F++]=s[$++],H++,G=0,--M===1){Y=!0;break}while((H|G)<V);if(Y)break;do{if(H=gallopRight(r[N],s,$,M,0,t),H!==0){for(I=0;I<H;I++)r[F+I]=s[$+I];if(F+=H,$+=H,M-=H,M<=1){Y=!0;break}}if(r[F++]=r[N++],--R===0){Y=!0;break}if(G=gallopLeft(s[$],r,N,R,0,t),G!==0){for(I=0;I<G;I++)r[F+I]=r[N+I];if(F+=G,N+=G,R-=G,R===0){Y=!0;break}}if(r[F++]=s[$++],--M===1){Y=!0;break}V--}while(H>=DEFAULT_MIN_GALLOPING||G>=DEFAULT_MIN_GALLOPING);if(Y)break;V<0&&(V=0),V+=2}if(n=V,n<1&&(n=1),M===1){for(I=0;I<R;I++)r[F+I]=r[N+I];r[F+R]=s[$]}else{if(M===0)throw new Error;for(I=0;I<M;I++)r[F+I]=s[$+I]}}function g(v,M,P,R){var I=0;for(I=0;I<R;I++)s[I]=r[P+I];var $=v+M-1,N=R-1,F=P+R-1,V=0,H=0;if(r[F--]=r[$--],--M===0){for(V=F-(R-1),I=0;I<R;I++)r[V+I]=s[I];return}if(R===1){for(F-=M,$-=M,H=F+1,V=$+1,I=M-1;I>=0;I--)r[H+I]=r[V+I];r[F]=s[N];return}for(var G=n;;){var Y=0,W=0,q=!1;do if(t(s[N],r[$])<0){if(r[F--]=r[$--],Y++,W=0,--M===0){q=!0;break}}else if(r[F--]=s[N--],W++,Y=0,--R===1){q=!0;break}while((Y|W)<G);if(q)break;do{if(Y=M-gallopRight(s[N],r,v,M,M-1,t),Y!==0){for(F-=Y,$-=Y,M-=Y,H=F+1,V=$+1,I=Y-1;I>=0;I--)r[H+I]=r[V+I];if(M===0){q=!0;break}}if(r[F--]=s[N--],--R===1){q=!0;break}if(W=R-gallopLeft(r[$],s,0,R,R-1,t),W!==0){for(F-=W,N-=W,R-=W,H=F+1,V=N+1,I=0;I<W;I++)r[H+I]=s[V+I];if(R<=1){q=!0;break}}if(r[F--]=r[$--],--M===0){q=!0;break}G--}while(Y>=DEFAULT_MIN_GALLOPING||W>=DEFAULT_MIN_GALLOPING);if(q)break;G<0&&(G=0),G+=2}if(n=G,n<1&&(n=1),R===1){for(F-=M,$-=M,H=F+1,V=$+1,I=M-1;I>=0;I--)r[H+I]=r[V+I];r[F]=s[N]}else{if(R===0)throw new Error;for(V=F-(R-1),I=0;I<R;I++)r[V+I]=s[I]}}return{mergeRuns:u,forceMergeRuns:c,pushRun:l}}function sort(r,t,n,i){n||(n=0),i||(i=r.length);var a=i-n;if(!(a<2)){var o=0;if(a<DEFAULT_MIN_MERGE){o=makeAscendingRun(r,n,i,t),binaryInsertionSort(r,n,i,n+o,t);return}var s=TimSort(r,t),l=minRunLength(a);do{if(o=makeAscendingRun(r,n,i,t),o<l){var u=a;u>l&&(u=l),binaryInsertionSort(r,n,n+u,n+o,t),o=u}s.pushRun(n,o),s.mergeRuns(),a-=o,n+=o}while(a!==0);s.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(r,t){return r.zlevel===t.zlevel?r.z===t.z?r.z2-t.z2:r.z-t.z:r.zlevel-t.zlevel}var Storage=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return r.prototype.traverse=function(t,n){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,n)},r.prototype.getDisplayList=function(t,n){n=n||!1;var i=this._displayList;return(t||!i.length)&&this.updateDisplayList(n),i},r.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,i=this._displayList,a=0,o=n.length;a<o;a++)this._updateAndAddDisplayable(n[a],null,t);i.length=this._displayListLen,sort(i,shapeCompareFunc)},r.prototype._updateAndAddDisplayable=function(t,n,i){if(!(t.ignore&&!i)){t.beforeUpdate(),t.update(),t.afterUpdate();var a=t.getClipPath();if(t.ignoreClip)n=null;else if(a){n?n=n.slice():n=[];for(var o=a,s=t;o;)o.parent=s,o.updateTransform(),n.push(o),s=o,o=o.getClipPath()}if(t.childrenRef){for(var l=t.childrenRef(),u=0;u<l.length;u++){var c=l[u];t.__dirty&&(c.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(c,n,i)}t.__dirty=0}else{var f=t;n&&n.length?f.__clipPaths=n:f.__clipPaths&&f.__clipPaths.length>0&&(f.__clipPaths=[]),isNaN(f.z)&&(logInvalidZError(),f.z=0),isNaN(f.z2)&&(logInvalidZError(),f.z2=0),isNaN(f.zlevel)&&(logInvalidZError(),f.zlevel=0),this._displayList[this._displayListLen++]=f}var d=t.getDecalElement&&t.getDecalElement();d&&this._updateAndAddDisplayable(d,n,i);var g=t.getTextGuideLine();g&&this._updateAndAddDisplayable(g,n,i);var v=t.getTextContent();v&&this._updateAndAddDisplayable(v,n,i)}},r.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},r.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,i=t.length;n<i;n++)this.delRoot(t[n]);return}var a=indexOf(this._roots,t);a>=0&&this._roots.splice(a,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}();const Storage$1=Storage;var requestAnimationFrame$1;requestAnimationFrame$1=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};const requestAnimationFrame$2=requestAnimationFrame$1;var easingFuncs={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t,n=.1,i=.4;return r===0?0:r===1?1:(!n||n<1?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/i)))},elasticOut:function(r){var t,n=.1,i=.4;return r===0?0:r===1?1:(!n||n<1?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/i)+1)},elasticInOut:function(r){var t,n=.1,i=.4;return r===0?0:r===1?1:(!n||n<1?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),(r*=2)<1?-.5*(n*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/i)):n*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/i)*.5+1)},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=2.5949095;return(r*=2)<1?.5*(r*r*((t+1)*r-t)):.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-easingFuncs.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?easingFuncs.bounceIn(r*2)*.5:easingFuncs.bounceOut(r*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow$1=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$2=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$1(),_v1=create$1(),_v2=create$1();function isAroundZero(r){return r>-EPSILON$2&&r<EPSILON$2}function isNotAroundZero$1(r){return r>EPSILON$2||r<-EPSILON$2}function cubicAt(r,t,n,i,a){var o=1-a;return o*o*(o*r+3*a*t)+a*a*(a*i+3*o*n)}function cubicDerivativeAt(r,t,n,i,a){var o=1-a;return 3*(((t-r)*o+2*(n-t)*a)*o+(i-n)*a*a)}function cubicRootAt(r,t,n,i,a,o){var s=i+3*(t-n)-r,l=3*(n-t*2+r),u=3*(t-r),c=r-a,f=l*l-3*s*u,d=l*u-9*s*c,g=u*u-3*l*c,v=0;if(isAroundZero(f)&&isAroundZero(d))if(isAroundZero(l))o[0]=0;else{var M=-u/l;M>=0&&M<=1&&(o[v++]=M)}else{var P=d*d-4*f*g;if(isAroundZero(P)){var R=d/f,M=-l/s+R,I=-R/2;M>=0&&M<=1&&(o[v++]=M),I>=0&&I<=1&&(o[v++]=I)}else if(P>0){var $=mathSqrt$3(P),N=f*l+1.5*s*(-d+$),F=f*l+1.5*s*(-d-$);N<0?N=-mathPow$1(-N,ONE_THIRD):N=mathPow$1(N,ONE_THIRD),F<0?F=-mathPow$1(-F,ONE_THIRD):F=mathPow$1(F,ONE_THIRD);var M=(-l-(N+F))/(3*s);M>=0&&M<=1&&(o[v++]=M)}else{var V=(2*f*l-3*s*d)/(2*mathSqrt$3(f*f*f)),H=Math.acos(V)/3,G=mathSqrt$3(f),Y=Math.cos(H),M=(-l-2*G*Y)/(3*s),I=(-l+G*(Y+THREE_SQRT*Math.sin(H)))/(3*s),W=(-l+G*(Y-THREE_SQRT*Math.sin(H)))/(3*s);M>=0&&M<=1&&(o[v++]=M),I>=0&&I<=1&&(o[v++]=I),W>=0&&W<=1&&(o[v++]=W)}}return v}function cubicExtrema(r,t,n,i,a){var o=6*n-12*t+6*r,s=9*t+3*i-3*r-9*n,l=3*t-3*r,u=0;if(isAroundZero(s)){if(isNotAroundZero$1(o)){var c=-l/o;c>=0&&c<=1&&(a[u++]=c)}}else{var f=o*o-4*s*l;if(isAroundZero(f))a[0]=-o/(2*s);else if(f>0){var d=mathSqrt$3(f),c=(-o+d)/(2*s),g=(-o-d)/(2*s);c>=0&&c<=1&&(a[u++]=c),g>=0&&g<=1&&(a[u++]=g)}}return u}function cubicSubdivide(r,t,n,i,a,o){var s=(t-r)*a+r,l=(n-t)*a+t,u=(i-n)*a+n,c=(l-s)*a+s,f=(u-l)*a+l,d=(f-c)*a+c;o[0]=r,o[1]=s,o[2]=c,o[3]=d,o[4]=d,o[5]=f,o[6]=u,o[7]=i}function cubicProjectPoint(r,t,n,i,a,o,s,l,u,c,f){var d,g=.005,v=1/0,M,P,R,I;_v0[0]=u,_v0[1]=c;for(var $=0;$<1;$+=.05)_v1[0]=cubicAt(r,n,a,s,$),_v1[1]=cubicAt(t,i,o,l,$),R=distSquare(_v0,_v1),R<v&&(d=$,v=R);v=1/0;for(var N=0;N<32&&!(g<EPSILON_NUMERIC);N++)M=d-g,P=d+g,_v1[0]=cubicAt(r,n,a,s,M),_v1[1]=cubicAt(t,i,o,l,M),R=distSquare(_v1,_v0),M>=0&&R<v?(d=M,v=R):(_v2[0]=cubicAt(r,n,a,s,P),_v2[1]=cubicAt(t,i,o,l,P),I=distSquare(_v2,_v0),P<=1&&I<v?(d=P,v=I):g*=.5);return f&&(f[0]=cubicAt(r,n,a,s,d),f[1]=cubicAt(t,i,o,l,d)),mathSqrt$3(v)}function cubicLength(r,t,n,i,a,o,s,l,u){for(var c=r,f=t,d=0,g=1/u,v=1;v<=u;v++){var M=v*g,P=cubicAt(r,n,a,s,M),R=cubicAt(t,i,o,l,M),I=P-c,$=R-f;d+=Math.sqrt(I*I+$*$),c=P,f=R}return d}function quadraticAt(r,t,n,i){var a=1-i;return a*(a*r+2*i*t)+i*i*n}function quadraticDerivativeAt(r,t,n,i){return 2*((1-i)*(t-r)+i*(n-t))}function quadraticRootAt(r,t,n,i,a){var o=r-2*t+n,s=2*(t-r),l=r-i,u=0;if(isAroundZero(o)){if(isNotAroundZero$1(s)){var c=-l/s;c>=0&&c<=1&&(a[u++]=c)}}else{var f=s*s-4*o*l;if(isAroundZero(f)){var c=-s/(2*o);c>=0&&c<=1&&(a[u++]=c)}else if(f>0){var d=mathSqrt$3(f),c=(-s+d)/(2*o),g=(-s-d)/(2*o);c>=0&&c<=1&&(a[u++]=c),g>=0&&g<=1&&(a[u++]=g)}}return u}function quadraticExtremum(r,t,n){var i=r+n-2*t;return i===0?.5:(r-t)/i}function quadraticSubdivide(r,t,n,i,a){var o=(t-r)*i+r,s=(n-t)*i+t,l=(s-o)*i+o;a[0]=r,a[1]=o,a[2]=l,a[3]=l,a[4]=s,a[5]=n}function quadraticProjectPoint(r,t,n,i,a,o,s,l,u){var c,f=.005,d=1/0;_v0[0]=s,_v0[1]=l;for(var g=0;g<1;g+=.05){_v1[0]=quadraticAt(r,n,a,g),_v1[1]=quadraticAt(t,i,o,g);var v=distSquare(_v0,_v1);v<d&&(c=g,d=v)}d=1/0;for(var M=0;M<32&&!(f<EPSILON_NUMERIC);M++){var P=c-f,R=c+f;_v1[0]=quadraticAt(r,n,a,P),_v1[1]=quadraticAt(t,i,o,P);var v=distSquare(_v1,_v0);if(P>=0&&v<d)c=P,d=v;else{_v2[0]=quadraticAt(r,n,a,R),_v2[1]=quadraticAt(t,i,o,R);var I=distSquare(_v2,_v0);R<=1&&I<d?(c=R,d=I):f*=.5}}return u&&(u[0]=quadraticAt(r,n,a,c),u[1]=quadraticAt(t,i,o,c)),mathSqrt$3(d)}function quadraticLength(r,t,n,i,a,o,s){for(var l=r,u=t,c=0,f=1/s,d=1;d<=s;d++){var g=d*f,v=quadraticAt(r,n,a,g),M=quadraticAt(t,i,o,g),P=v-l,R=M-u;c+=Math.sqrt(P*P+R*R),l=v,u=M}return c}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(r){var t=r&&regexp.exec(r);if(t){var n=t[1].split(","),i=+trim(n[0]),a=+trim(n[1]),o=+trim(n[2]),s=+trim(n[3]);if(isNaN(i+a+o+s))return;var l=[];return function(u){return u<=0?0:u>=1?1:cubicRootAt(0,i,o,1,u,l)&&cubicAt(0,a,s,1,l[0])}}}var Clip=function(){function r(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||noop,this.ondestroy=t.ondestroy||noop,this.onrestart=t.onrestart||noop,t.easing&&this.setEasing(t.easing)}return r.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var i=this._life,a=t-this._startTime-this._pausedTime,o=a/i;o<0&&(o=0),o=Math.min(o,1);var s=this.easingFunc,l=s?s(o):o;if(this.onframe(l),o===1)if(this.loop){var u=a%i;this._startTime=t-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(t){this.easing=t,this.easingFunc=isFunction(t)?t:easingFuncs$1[t]||createCubicEasingFunc(t)},r}();const Clip$1=Clip;var Entry=function(){function r(t){this.value=t}return r}(),LinkedList=function(){function r(){this._len=0}return r.prototype.insert=function(t){var n=new Entry(t);return this.insertEntry(n),n},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.prototype.remove=function(t){var n=t.prev,i=t.next;n?n.next=i:this.head=i,i?i.prev=n:this.tail=n,t.next=t.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),LRU=function(){function r(t){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=t}return r.prototype.put=function(t,n){var i=this._list,a=this._map,o=null;if(a[t]==null){var s=i.len(),l=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var u=i.head;i.remove(u),delete a[u.key],o=u.value,this._lastRemovedEntry=u}l?l.value=n:l=new Entry(n),l.key=t,i.insertEntry(l),a[t]=l}return o},r.prototype.get=function(t){var n=this._map[t],i=this._list;if(n!=null)return n!==i.tail&&(i.remove(n),i.insertEntry(n)),n.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(r){return r=Math.round(r),r<0?0:r>255?255:r}function clampCssFloat(r){return r<0?0:r>1?1:r}function parseCssInt(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?clampCssByte(parseFloat(t)/100*255):clampCssByte(parseInt(t,10))}function parseCssFloat(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?clampCssFloat(parseFloat(t)/100):clampCssFloat(parseFloat(t))}function cssHueToRgb(r,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?r+(t-r)*n*6:n*2<1?t:n*3<2?r+(t-r)*(2/3-n)*6:r}function lerpNumber(r,t,n){return r+(t-r)*n}function setRgba(r,t,n,i,a){return r[0]=t,r[1]=n,r[2]=i,r[3]=a,r}function copyRgba(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(r,t){lastRemovedArr&&copyRgba(lastRemovedArr,t),lastRemovedArr=colorCache.put(r,lastRemovedArr||t.slice())}function parse(r,t){if(r){t=t||[];var n=colorCache.get(r);if(n)return copyRgba(t,n);r=r+"";var i=r.replace(/ /g,"").toLowerCase();if(i in kCSSColorTable)return copyRgba(t,kCSSColorTable[i]),putToCache(r,t),t;var a=i.length;if(i.charAt(0)==="#"){if(a===4||a===5){var o=parseInt(i.slice(1,4),16);if(!(o>=0&&o<=4095)){setRgba(t,0,0,0,1);return}return setRgba(t,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,a===5?parseInt(i.slice(4),16)/15:1),putToCache(r,t),t}else if(a===7||a===9){var o=parseInt(i.slice(1,7),16);if(!(o>=0&&o<=16777215)){setRgba(t,0,0,0,1);return}return setRgba(t,(o&16711680)>>16,(o&65280)>>8,o&255,a===9?parseInt(i.slice(7),16)/255:1),putToCache(r,t),t}return}var s=i.indexOf("("),l=i.indexOf(")");if(s!==-1&&l+1===a){var u=i.substr(0,s),c=i.substr(s+1,l-(s+1)).split(","),f=1;switch(u){case"rgba":if(c.length!==4)return c.length===3?setRgba(t,+c[0],+c[1],+c[2],1):setRgba(t,0,0,0,1);f=parseCssFloat(c.pop());case"rgb":if(c.length>=3)return setRgba(t,parseCssInt(c[0]),parseCssInt(c[1]),parseCssInt(c[2]),c.length===3?f:parseCssFloat(c[3])),putToCache(r,t),t;setRgba(t,0,0,0,1);return;case"hsla":if(c.length!==4){setRgba(t,0,0,0,1);return}return c[3]=parseCssFloat(c[3]),hsla2rgba(c,t),putToCache(r,t),t;case"hsl":if(c.length!==3){setRgba(t,0,0,0,1);return}return hsla2rgba(c,t),putToCache(r,t),t;default:return}}setRgba(t,0,0,0,1)}}function hsla2rgba(r,t){var n=(parseFloat(r[0])%360+360)%360/360,i=parseCssFloat(r[1]),a=parseCssFloat(r[2]),o=a<=.5?a*(i+1):a+i-a*i,s=a*2-o;return t=t||[],setRgba(t,clampCssByte(cssHueToRgb(s,o,n+1/3)*255),clampCssByte(cssHueToRgb(s,o,n)*255),clampCssByte(cssHueToRgb(s,o,n-1/3)*255),1),r.length===4&&(t[3]=r[3]),t}function lift(r,t){var n=parse(r);if(n){for(var i=0;i<3;i++)t<0?n[i]=n[i]*(1-t)|0:n[i]=(255-n[i])*t+n[i]|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return stringify(n,n.length===4?"rgba":"rgb")}}function lerp(r,t,n){if(!(!(t&&t.length)||!(r>=0&&r<=1))){var i=r*(t.length-1),a=Math.floor(i),o=Math.ceil(i),s=parse(t[a]),l=parse(t[o]),u=i-a,c=stringify([clampCssByte(lerpNumber(s[0],l[0],u)),clampCssByte(lerpNumber(s[1],l[1],u)),clampCssByte(lerpNumber(s[2],l[2],u)),clampCssFloat(lerpNumber(s[3],l[3],u))],"rgba");return n?{color:c,leftIndex:a,rightIndex:o,value:i}:c}}function stringify(r,t){if(!(!r||!r.length)){var n=r[0]+","+r[1]+","+r[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+r[3]),t+"("+n+")"}}function lum(r,t){var n=parse(r);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}function isLinearGradient(r){return r.type==="linear"}function isRadialGradient(r){return r.type==="radial"}(function(){return env$1.hasGlobalWindow&&isFunction(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}})();var arraySlice=Array.prototype.slice;function interpolateNumber$1(r,t,n){return(t-r)*n+r}function interpolate1DArray(r,t,n,i){for(var a=t.length,o=0;o<a;o++)r[o]=interpolateNumber$1(t[o],n[o],i);return r}function interpolate2DArray(r,t,n,i){for(var a=t.length,o=a&&t[0].length,s=0;s<a;s++){r[s]||(r[s]=[]);for(var l=0;l<o;l++)r[s][l]=interpolateNumber$1(t[s][l],n[s][l],i)}return r}function add1DArray(r,t,n,i){for(var a=t.length,o=0;o<a;o++)r[o]=t[o]+n[o]*i;return r}function add2DArray(r,t,n,i){for(var a=t.length,o=a&&t[0].length,s=0;s<a;s++){r[s]||(r[s]=[]);for(var l=0;l<o;l++)r[s][l]=t[s][l]+n[s][l]*i}return r}function fillColorStops(r,t){for(var n=r.length,i=t.length,a=n>i?t:r,o=Math.min(n,i),s=a[o-1]||{color:[0,0,0,0],offset:0},l=o;l<Math.max(n,i);l++)a.push({offset:s.offset,color:s.color.slice()})}function fillArray(r,t,n){var i=r,a=t;if(!(!i.push||!a.push)){var o=i.length,s=a.length;if(o!==s){var l=o>s;if(l)i.length=s;else for(var u=o;u<s;u++)i.push(n===1?a[u]:arraySlice.call(a[u]))}for(var c=i[0]&&i[0].length,u=0;u<i.length;u++)if(n===1)isNaN(i[u])&&(i[u]=a[u]);else for(var f=0;f<c;f++)isNaN(i[u][f])&&(i[u][f]=a[u][f])}}function cloneValue(r){if(isArrayLike(r)){var t=r.length;if(isArrayLike(r[0])){for(var n=[],i=0;i<t;i++)n.push(arraySlice.call(r[i]));return n}return arraySlice.call(r)}return r}function rgba2String(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function guessArrayDim(r){return isArrayLike(r&&r[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(r){return r===VALUE_TYPE_LINEAR_GRADIENT||r===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(r){return r===VALUE_TYPE_1D_ARRAY||r===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function r(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(t,n,i){this._needsSort=!0;var a=this.keyframes,o=a.length,s=!1,l=VALUE_TYPE_UNKOWN,u=n;if(isArrayLike(n)){var c=guessArrayDim(n);l=c,(c===1&&!isNumber(n[0])||c===2&&!isNumber(n[0][0]))&&(s=!0)}else if(isNumber(n)&&!eqNaN(n))l=VALUE_TYPE_NUMBER;else if(isString(n))if(!isNaN(+n))l=VALUE_TYPE_NUMBER;else{var f=parse(n);f&&(u=f,l=VALUE_TYPE_COLOR)}else if(isGradientObject(n)){var d=extend({},u);d.colorStops=map$1(n.colorStops,function(v){return{offset:v.offset,color:parse(v.color)}}),isLinearGradient(n)?l=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(n)&&(l=VALUE_TYPE_RADIAL_GRADIENT),u=d}o===0?this.valType=l:(l!==this.valType||l===VALUE_TYPE_UNKOWN)&&(s=!0),this.discrete=this.discrete||s;var g={time:t,value:u,rawValue:n,percent:0};return i&&(g.easing=i,g.easingFunc=isFunction(i)?i:easingFuncs$1[i]||createCubicEasingFunc(i)),a.push(g),g},r.prototype.prepare=function(t,n){var i=this.keyframes;this._needsSort&&i.sort(function(P,R){return P.time-R.time});for(var a=this.valType,o=i.length,s=i[o-1],l=this.discrete,u=isArrayValueType(a),c=isGradientValueType(a),f=0;f<o;f++){var d=i[f],g=d.value,v=s.value;d.percent=d.time/t,l||(u&&f!==o-1?fillArray(g,v,a):c&&fillColorStops(g.colorStops,v.colorStops))}if(!l&&a!==VALUE_TYPE_RADIAL_GRADIENT&&n&&this.needsAnimate()&&n.needsAnimate()&&a===n.valType&&!n._finished){this._additiveTrack=n;for(var M=i[0].value,f=0;f<o;f++)a===VALUE_TYPE_NUMBER?i[f].additiveValue=i[f].value-M:a===VALUE_TYPE_COLOR?i[f].additiveValue=add1DArray([],i[f].value,M,-1):isArrayValueType(a)&&(i[f].additiveValue=a===VALUE_TYPE_1D_ARRAY?add1DArray([],i[f].value,M,-1):add2DArray([],i[f].value,M,-1))}},r.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i=this._additiveTrack!=null,a=i?"additiveValue":"value",o=this.valType,s=this.keyframes,l=s.length,u=this.propName,c=o===VALUE_TYPE_COLOR,f,d=this._lastFr,g=Math.min,v,M;if(l===1)v=M=s[0];else{if(n<0)f=0;else if(n<this._lastFrP){var P=g(d+1,l-1);for(f=P;f>=0&&!(s[f].percent<=n);f--);f=g(f,l-2)}else{for(f=d;f<l&&!(s[f].percent>n);f++);f=g(f-1,l-2)}M=s[f+1],v=s[f]}if(v&&M){this._lastFr=f,this._lastFrP=n;var R=M.percent-v.percent,I=R===0?1:g((n-v.percent)/R,1);M.easingFunc&&(I=M.easingFunc(I));var $=i?this._additiveValue:c?tmpRgba:t[u];if((isArrayValueType(o)||c)&&!$&&($=this._additiveValue=[]),this.discrete)t[u]=I<1?v.rawValue:M.rawValue;else if(isArrayValueType(o))o===VALUE_TYPE_1D_ARRAY?interpolate1DArray($,v[a],M[a],I):interpolate2DArray($,v[a],M[a],I);else if(isGradientValueType(o)){var N=v[a],F=M[a],V=o===VALUE_TYPE_LINEAR_GRADIENT;t[u]={type:V?"linear":"radial",x:interpolateNumber$1(N.x,F.x,I),y:interpolateNumber$1(N.y,F.y,I),colorStops:map$1(N.colorStops,function(G,Y){var W=F.colorStops[Y];return{offset:interpolateNumber$1(G.offset,W.offset,I),color:rgba2String(interpolate1DArray([],G.color,W.color,I))}}),global:F.global},V?(t[u].x2=interpolateNumber$1(N.x2,F.x2,I),t[u].y2=interpolateNumber$1(N.y2,F.y2,I)):t[u].r=interpolateNumber$1(N.r,F.r,I)}else if(c)interpolate1DArray($,v[a],M[a],I),i||(t[u]=rgba2String($));else{var H=interpolateNumber$1(v[a],M[a],I);i?this._additiveValue=H:t[u]=H}i&&this._addToTarget(t)}}},r.prototype._addToTarget=function(t){var n=this.valType,i=this.propName,a=this._additiveValue;n===VALUE_TYPE_NUMBER?t[i]=t[i]+a:n===VALUE_TYPE_COLOR?(parse(t[i],tmpRgba),add1DArray(tmpRgba,tmpRgba,a,1),t[i]=rgba2String(tmpRgba)):n===VALUE_TYPE_1D_ARRAY?add1DArray(t[i],t[i],a,1):n===VALUE_TYPE_2D_ARRAY&&add2DArray(t[i],t[i],a,1)},r}(),Animator=function(){function r(t,n,i,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&a){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=i}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(t){this._target=t},r.prototype.when=function(t,n,i){return this.whenWithKeys(t,n,keys(n),i)},r.prototype.whenWithKeys=function(t,n,i,a){for(var o=this._tracks,s=0;s<i.length;s++){var l=i[s],u=o[l];if(!u){u=o[l]=new Track(l);var c=void 0,f=this._getAdditiveTrack(l);if(f){var d=f.keyframes,g=d[d.length-1];c=g&&g.value,f.valType===VALUE_TYPE_COLOR&&c&&(c=rgba2String(c))}else c=this._target[l];if(c==null)continue;t>0&&u.addKeyframe(0,cloneValue(c),a),this._trackKeys.push(l)}u.addKeyframe(t,cloneValue(n[l]),a)}return this._maxTime=Math.max(this._maxTime,t),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,i=0;i<n;i++)t[i].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var i=0;i<n.length;i++)n[i].call(this)},r.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,i=0;i<n.length;i++)t[n[i]].setFinished()},r.prototype._getAdditiveTrack=function(t){var n,i=this._additiveAnimators;if(i)for(var a=0;a<i.length;a++){var o=i[a].getTrack(t);o&&(n=o)}return n},r.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,i=[],a=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var s=this._trackKeys[o],l=this._tracks[s],u=this._getAdditiveTrack(s),c=l.keyframes,f=c.length;if(l.prepare(a,u),l.needsAnimate())if(!this._allowDiscrete&&l.discrete){var d=c[f-1];d&&(n._target[l.propName]=d.rawValue),l.setFinished()}else i.push(l)}if(i.length||this._force){var g=new Clip$1({life:a,loop:this._loop,delay:this._delay||0,onframe:function(v){n._started=2;var M=n._additiveAnimators;if(M){for(var P=!1,R=0;R<M.length;R++)if(M[R]._clip){P=!0;break}P||(n._additiveAnimators=null)}for(var R=0;R<i.length;R++)i[R].step(n._target,v);var I=n._onframeCbs;if(I)for(var R=0;R<I.length;R++)I[R](n._target,v)},ondestroy:function(){n._doneCallback()}});this._clip=g,this.animation&&this.animation.addClip(g),t&&g.setEasing(t)}else this._doneCallback();return this}},r.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},r.prototype.delay=function(t){return this._delay=t,this},r.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},r.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},r.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(t){return this._tracks[t]},r.prototype.getTracks=function(){var t=this;return map$1(this._trackKeys,function(n){return t._tracks[n]})},r.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var i=this._tracks,a=this._trackKeys,o=0;o<t.length;o++){var s=i[t[o]];s&&!s.isFinished()&&(n?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var l=!0,o=0;o<a.length;o++)if(!i[a[o]].isFinished()){l=!1;break}return l&&this._abortedCallback(),l},r.prototype.saveTo=function(t,n,i){if(t){n=n||this._trackKeys;for(var a=0;a<n.length;a++){var o=n[a],s=this._tracks[o];if(!(!s||s.isFinished())){var l=s.keyframes,u=l[i?0:l.length-1];u&&(t[o]=cloneValue(u.rawValue))}}}},r.prototype.__changeFinalValue=function(t,n){n=n||keys(t);for(var i=0;i<n.length;i++){var a=n[i],o=this._tracks[a];if(o){var s=o.keyframes;if(s.length>1){var l=s.pop();o.addKeyframe(l.time,t[a]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},r}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(r){__extends(t,r);function t(n){var i=r.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,n=n||{},i.stage=n.stage||{},i}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var i=n.getClip();i&&this.addClip(i)},t.prototype.removeClip=function(n){if(n.animation){var i=n.prev,a=n.next;i?i.next=a:this._head=a,a?a.prev=i:this._tail=i,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var i=n.getClip();i&&this.removeClip(i),n.animation=null},t.prototype.update=function(n){for(var i=getTime()-this._pausedTime,a=i-this._time,o=this._head;o;){var s=o.next,l=o.step(i,a);l&&(o.ondestroy(),this.removeClip(o)),o=s}this._time=i,n||(this.trigger("frame",a),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function i(){n._running&&(requestAnimationFrame$2(i),!n._paused&&n.update())}requestAnimationFrame$2(i)},t.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var i=n.next;n.prev=n.next=n.animation=null,n=i}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,i){i=i||{},this.start();var a=new Animator$1(n,i.loop);return this.addAnimator(a),a},t}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=map$1(r,function(a){var o=a.replace("mouse","pointer");return n.hasOwnProperty(o)?o:a});return{mouse:r,touch:t,pointer:i}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(r){var t=r.pointerType;return t==="pen"||t==="touch"}function setTouchTimer(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function markTouch(r){r&&(r.zrByTouch=!0)}function normalizeGlobalEvent(r,t){return normalizeEvent(r.dom,new FakeGlobalEvent(r,t),!0)}function isLocalEl(r,t){for(var n=t,i=!1;n&&n.nodeType!==9&&!(i=n.domBelongToZr||n!==t&&n===r.painterRoot);)n=n.parentNode;return i}var FakeGlobalEvent=function(){function r(t,n){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return r}(),localDOMHandlers={mousedown:function(r){r=normalizeEvent(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=normalizeEvent(this.dom,r);var t=this.__mayPointerCapture;t&&(r.zrX!==t[0]||r.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=normalizeEvent(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=normalizeEvent(this.dom,r);var t=r.toElement||r.relatedTarget;isLocalEl(this,t)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){wheelEventSupported=!0,r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){wheelEventSupported||(r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),localDOMHandlers.mousemove.call(this,r),localDOMHandlers.mousedown.call(this,r)},touchmove:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"change"),localDOMHandlers.mousemove.call(this,r)},touchend:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"end"),localDOMHandlers.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,r)},pointerdown:function(r){localDOMHandlers.mousedown.call(this,r)},pointermove:function(r){isPointerFromTouch(r)||localDOMHandlers.mousemove.call(this,r)},pointerup:function(r){localDOMHandlers.mouseup.call(this,r)},pointerout:function(r){isPointerFromTouch(r)||localDOMHandlers.mouseout.call(this,r)}};each$5(["click","dblclick","contextmenu"],function(r){localDOMHandlers[r]=function(t){t=normalizeEvent(this.dom,t),this.trigger(r,t)}});var globalDOMHandlers={pointermove:function(r){isPointerFromTouch(r)||globalDOMHandlers.mousemove.call(this,r)},pointerup:function(r){globalDOMHandlers.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),t&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mountLocalDOMEventListeners(r,t){var n=t.domHandlers;env$1.pointerEventsSupported?each$5(localNativeListenerNames.pointer,function(i){mountSingleDOMEventListener(t,i,function(a){n[i].call(r,a)})}):(env$1.touchEventsSupported&&each$5(localNativeListenerNames.touch,function(i){mountSingleDOMEventListener(t,i,function(a){n[i].call(r,a),setTouchTimer(t)})}),each$5(localNativeListenerNames.mouse,function(i){mountSingleDOMEventListener(t,i,function(a){a=getNativeEvent(a),t.touching||n[i].call(r,a)})}))}function mountGlobalDOMEventListeners(r,t){env$1.pointerEventsSupported?each$5(globalNativeListenerNames.pointer,n):env$1.touchEventsSupported||each$5(globalNativeListenerNames.mouse,n);function n(i){function a(o){o=getNativeEvent(o),isLocalEl(r,o.target)||(o=normalizeGlobalEvent(r,o),t.domHandlers[i].call(r,o))}mountSingleDOMEventListener(t,i,a,{capture:!0})}}function mountSingleDOMEventListener(r,t,n,i){r.mounted[t]=n,r.listenerOpts[t]=i,addEventListener(r.domTarget,t,n,i)}function unmountDOMEventListeners(r){var t=r.mounted;for(var n in t)t.hasOwnProperty(n)&&removeEventListener(r.domTarget,n,t[n],r.listenerOpts[n]);r.mounted={}}var DOMHandlerScope=function(){function r(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return r}(),HandlerDomProxy=function(r){__extends(t,r);function t(n,i){var a=r.call(this)||this;return a.__pointerCapturing=!1,a.dom=n,a.painterRoot=i,a._localHandlerScope=new DOMHandlerScope(n,localDOMHandlers),globalEventSupported&&(a._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(a,a._localHandlerScope),a}return t.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var i=this._globalHandlerScope;n?mountGlobalDOMEventListeners(this,i):unmountDOMEventListeners(i)}},t}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$1=5e-5;function isNotAroundZero(r){return r>EPSILON$1||r<-EPSILON$1}var scaleTmp=[],tmpTransform=[],originTransform=create(),abs=Math.abs,Transformable=function(){function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),i=this.transform;if(!(n||t)){i&&(mIdentity(i),this.invTransform=null);return}i=i||create(),n?this.getLocalTransform(i):mIdentity(i),t&&(n?mul(i,t,i):copy(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)},r.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(scaleTmp);var i=scaleTmp[0]<0?-1:1,a=scaleTmp[1]<0?-1:1,o=((scaleTmp[0]-i)*n+i)/scaleTmp[0]||0,s=((scaleTmp[1]-a)*n+a)/scaleTmp[1]||0;t[0]*=o,t[1]*=o,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||create(),invert(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],a=Math.atan2(t[1],t[0]),o=Math.PI/2+a-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(o),n=Math.sqrt(n),this.skewX=o,this.skewY=0,this.rotation=-a,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=i,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(mul(tmpTransform,t.invTransform,n),n=tmpTransform);var i=this.originX,a=this.originY;(i||a)&&(originTransform[4]=i,originTransform[5]=a,mul(tmpTransform,n,originTransform),tmpTransform[4]-=i,tmpTransform[5]-=a,n=tmpTransform),this.setLocalTransform(n)}},r.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,n){var i=[t,n],a=this.invTransform;return a&&applyTransform$1(i,i,a),i},r.prototype.transformCoordToGlobal=function(t,n){var i=[t,n],a=this.transform;return a&&applyTransform$1(i,i,a),i},r.prototype.getLineScale=function(){var t=this.transform;return t&&abs(t[0]-1)>1e-10&&abs(t[3]-1)>1e-10?Math.sqrt(abs(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){copyTransform(this,t)},r.getLocalTransform=function(t,n){n=n||[];var i=t.originX||0,a=t.originY||0,o=t.scaleX,s=t.scaleY,l=t.anchorX,u=t.anchorY,c=t.rotation||0,f=t.x,d=t.y,g=t.skewX?Math.tan(t.skewX):0,v=t.skewY?Math.tan(-t.skewY):0;if(i||a||l||u){var M=i+l,P=a+u;n[4]=-M*o-g*P*s,n[5]=-P*s-v*M*o}else n[4]=n[5]=0;return n[0]=o,n[3]=s,n[1]=v*o,n[2]=g*s,c&&rotate(n,n,c),n[4]+=i+f,n[5]+=a+d,n},r.initDefaultProps=function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),r}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(r,t){for(var n=0;n<TRANSFORMABLE_PROPS.length;n++){var i=TRANSFORMABLE_PROPS[n];r[i]=t[i]}}var textWidthCache={};function getWidth(r,t){t=t||DEFAULT_FONT;var n=textWidthCache[t];n||(n=textWidthCache[t]=new LRU$1(500));var i=n.get(r);return i==null&&(i=platformApi.measureText(r,t).width,n.put(r,i)),i}function innerGetBoundingRect(r,t,n,i){var a=getWidth(r,t),o=getLineHeight(t),s=adjustTextX(0,a,n),l=adjustTextY(0,o,i),u=new BoundingRect$1(s,l,a,o);return u}function getBoundingRect(r,t,n,i){var a=((r||"")+"").split(`
`),o=a.length;if(o===1)return innerGetBoundingRect(a[0],t,n,i);for(var s=new BoundingRect$1(0,0,0,0),l=0;l<a.length;l++){var u=innerGetBoundingRect(a[l],t,n,i);l===0?s.copy(u):s.union(u)}return s}function adjustTextX(r,t,n){return n==="right"?r-=t:n==="center"&&(r-=t/2),r}function adjustTextY(r,t,n){return n==="middle"?r-=t/2:n==="bottom"&&(r-=t),r}function getLineHeight(r){return getWidth("国",r)}function parsePercent$1(r,t){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*t:parseFloat(r):r}function calculateTextPosition(r,t,n){var i=t.position||"inside",a=t.distance!=null?t.distance:5,o=n.height,s=n.width,l=o/2,u=n.x,c=n.y,f="left",d="top";if(i instanceof Array)u+=parsePercent$1(i[0],n.width),c+=parsePercent$1(i[1],n.height),f=null,d=null;else switch(i){case"left":u-=a,c+=l,f="right",d="middle";break;case"right":u+=a+s,c+=l,d="middle";break;case"top":u+=s/2,c-=a,f="center",d="bottom";break;case"bottom":u+=s/2,c+=o+a,f="center";break;case"inside":u+=s/2,c+=l,f="center",d="middle";break;case"insideLeft":u+=a,c+=l,d="middle";break;case"insideRight":u+=s-a,c+=l,f="right",d="middle";break;case"insideTop":u+=s/2,c+=a,f="center";break;case"insideBottom":u+=s/2,c+=o-a,f="center",d="bottom";break;case"insideTopLeft":u+=a,c+=a;break;case"insideTopRight":u+=s-a,c+=a,f="right";break;case"insideBottomLeft":u+=a,c+=o-a,d="bottom";break;case"insideBottomRight":u+=s-a,c+=o-a,f="right",d="bottom";break}return r=r||{},r.x=u,r.y=c,r.align=f,r.verticalAlign=d,r}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(r,t){return r[t]=!0,r},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function r(t){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return r.prototype._init=function(t){this.attr(t)},r.prototype.drift=function(t,n,i){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=t,a[5]+=n,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,a=i.local,o=n.innerTransformable,s=void 0,l=void 0,u=!1;o.parent=a?this:null;var c=!1;if(o.copyTransform(n),i.position!=null){var f=tmpBoundingRect;i.layoutRect?f.copy(i.layoutRect):f.copy(this.getBoundingRect()),a||f.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,i,f):calculateTextPosition(tmpTextPosCalcRes,i,f),o.x=tmpTextPosCalcRes.x,o.y=tmpTextPosCalcRes.y,s=tmpTextPosCalcRes.align,l=tmpTextPosCalcRes.verticalAlign;var d=i.origin;if(d&&i.rotation!=null){var g=void 0,v=void 0;d==="center"?(g=f.width*.5,v=f.height*.5):(g=parsePercent$1(d[0],f.width),v=parsePercent$1(d[1],f.height)),c=!0,o.originX=-o.x+g+(a?0:f.x),o.originY=-o.y+v+(a?0:f.y)}}i.rotation!=null&&(o.rotation=i.rotation);var M=i.offset;M&&(o.x+=M[0],o.y+=M[1],c||(o.originX=-M[0],o.originY=-M[1]));var P=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,R=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),I=void 0,$=void 0,N=void 0;P&&this.canBeInsideText()?(I=i.insideFill,$=i.insideStroke,(I==null||I==="auto")&&(I=this.getInsideTextFill()),($==null||$==="auto")&&($=this.getInsideTextStroke(I),N=!0)):(I=i.outsideFill,$=i.outsideStroke,(I==null||I==="auto")&&(I=this.getOutsideFill()),($==null||$==="auto")&&($=this.getOutsideStroke(I),N=!0)),I=I||"#000",(I!==R.fill||$!==R.stroke||N!==R.autoStroke||s!==R.align||l!==R.verticalAlign)&&(u=!0,R.fill=I,R.stroke=$,R.autoStroke=N,R.align=s,R.verticalAlign=l,n.setDefaultTextStyle(R)),n.__dirty|=REDRAW_BIT,u&&n.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(t){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},r.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),i=typeof n=="string"&&parse(n);i||(i=[255,255,255,1]);for(var a=i[3],o=this.__zr.isDarkMode(),s=0;s<3;s++)i[s]=i[s]*a+(o?0:255)*(1-a);return i[3]=1,stringify(i,"rgba")},r.prototype.traverse=function(t,n){},r.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},extend(this.extra,n)):this[t]=n},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(isObject$2(t))for(var i=t,a=keys(i),o=0;o<a.length;o++){var s=a[o];this.attrKV(s,t[s])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,i=0;i<this.animators.length;i++){var a=this.animators[i],o=a.__fromStateTransition;if(!(a.getLoop()||o&&o!==PRESERVED_NORMAL_STATE)){var s=a.targetName,l=s?n[s]:n;a.saveTo(l)}}},r.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,PRIMARY_STATES_KEYS$1)},r.prototype._savePrimaryToNormal=function(t,n,i){for(var a=0;a<i.length;a++){var o=i[a];t[o]!=null&&!(o in n)&&(n[o]=this[o])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(t){return this.states[t]},r.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},r.prototype.clearStates=function(t){this.useState(PRESERVED_NORMAL_STATE,!1,t)},r.prototype.useState=function(t,n,i,a){var o=t===PRESERVED_NORMAL_STATE,s=this.hasState();if(!(!s&&o)){var l=this.currentStates,u=this.stateTransition;if(!(indexOf(l,t)>=0&&(n||l.length===1))){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),!c&&!o){logError("State "+t+" not exists.");return}o||this.saveCurrentToNormalState(c);var f=!!(c&&c.hoverLayer||a);f&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,n,!i&&!this.__inHover&&u&&u.duration>0,u);var d=this._textContent,g=this._textGuide;return d&&d.useState(t,n,i,f),g&&g.useState(t,n,i,f),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),c}}},r.prototype.useStates=function(t,n,i){if(!t.length)this.clearStates();else{var a=[],o=this.currentStates,s=t.length,l=s===o.length;if(l){for(var u=0;u<s;u++)if(t[u]!==o[u]){l=!1;break}}if(l)return;for(var u=0;u<s;u++){var c=t[u],f=void 0;this.stateProxy&&(f=this.stateProxy(c,t)),f||(f=this.states[c]),f&&a.push(f)}var d=a[s-1],g=!!(d&&d.hoverLayer||i);g&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(a),M=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(t.join(","),v,this._normalState,!1,!n&&!this.__inHover&&M&&M.duration>0,M);var P=this._textContent,R=this._textGuide;P&&P.useStates(t,n,g),R&&R.useStates(t,n,g),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},r.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},r.prototype.removeState=function(t){var n=indexOf(this.currentStates,t);if(n>=0){var i=this.currentStates.slice();i.splice(n,1),this.useStates(i)}},r.prototype.replaceState=function(t,n,i){var a=this.currentStates.slice(),o=indexOf(a,t),s=indexOf(a,n)>=0;o>=0?s?a.splice(o,1):a[o]=n:i&&!s&&a.push(n),this.useStates(a)},r.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},r.prototype._mergeStates=function(t){for(var n={},i,a=0;a<t.length;a++){var o=t[a];extend(n,o),o.textConfig&&(i=i||{},extend(i,o.textConfig))}return i&&(n.textConfig=i),n},r.prototype._applyStateObj=function(t,n,i,a,o,s){var l=!(n&&a);n&&n.textConfig?(this.textConfig=extend({},a?this.textConfig:i.textConfig),extend(this.textConfig,n.textConfig)):l&&i.textConfig&&(this.textConfig=i.textConfig);for(var u={},c=!1,f=0;f<PRIMARY_STATES_KEYS$1.length;f++){var d=PRIMARY_STATES_KEYS$1[f],g=o&&DEFAULT_ANIMATABLE_MAP[d];n&&n[d]!=null?g?(c=!0,u[d]=n[d]):this[d]=n[d]:l&&i[d]!=null&&(g?(c=!0,u[d]=i[d]):this[d]=i[d])}if(!o)for(var f=0;f<this.animators.length;f++){var v=this.animators[f],M=v.targetName;v.getLoop()||v.__changeFinalValue(M?(n||i)[M]:n||i)}c&&this._transitionState(t,u,s)},r.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},r.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},r.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new Transformable,this._attachComponent(t),this._textContent=t,this.markRedraw())},r.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),extend(this.textConfig,t),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,i=this._textGuide;n&&(n.__inHover=t),i&&(i.__inHover=t)},r.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var i=0;i<n.length;i++)t.animation.addAnimator(n[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},r.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var i=0;i<n.length;i++)t.animation.removeAnimator(n[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},r.prototype.animate=function(t,n,i){var a=t?this[t]:this,o=new Animator$1(a,n,i);return t&&(o.targetName=t),this.addAnimator(o,t),o},r.prototype.addAnimator=function(t,n){var i=this.__zr,a=this;t.during(function(){a.updateDuringAnimation(n)}).done(function(){var o=a.animators,s=indexOf(o,t);s>=0&&o.splice(s,1)}),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},r.prototype.updateDuringAnimation=function(t){this.markRedraw()},r.prototype.stopAnimation=function(t,n){for(var i=this.animators,a=i.length,o=[],s=0;s<a;s++){var l=i[s];!t||t===l.scope?l.stop(n):o.push(l)}return this.animators=o,this},r.prototype.animateTo=function(t,n,i){animateTo(this,t,n,i)},r.prototype.animateFrom=function(t,n,i){animateTo(this,t,n,i,!0)},r.prototype._transitionState=function(t,n,i,a){for(var o=animateTo(this,n,i,a),s=0;s<o.length;s++)o[s].__fromStateTransition=t},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var t=r.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=REDRAW_BIT;function n(i,a,o,s){Object.defineProperty(t,i,{get:function(){if(!this[a]){var u=this[a]=[];l(this,u)}return this[a]},set:function(u){this[o]=u[0],this[s]=u[1],this[a]=u,l(this,u)}});function l(u,c){Object.defineProperty(c,0,{get:function(){return u[o]},set:function(f){u[o]=f}}),Object.defineProperty(c,1,{get:function(){return u[s]},set:function(f){u[s]=f}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),r}();mixin(Element$1,Eventful$1);mixin(Element$1,Transformable);function animateTo(r,t,n,i,a){n=n||{};var o=[];animateToShallow(r,"",r,t,n,i,o,a);var s=o.length,l=!1,u=n.done,c=n.aborted,f=function(){l=!0,s--,s<=0&&(l?u&&u():c&&c())},d=function(){s--,s<=0&&(l?u&&u():c&&c())};s||u&&u(),o.length>0&&n.during&&o[0].during(function(M,P){n.during(P)});for(var g=0;g<o.length;g++){var v=o[g];f&&v.done(f),d&&v.aborted(d),n.force&&v.duration(n.duration),v.start(n.easing)}return o}function copyArrShallow(r,t,n){for(var i=0;i<n;i++)r[i]=t[i]}function is2DArray(r){return isArrayLike(r[0])}function copyValue(r,t,n){if(isArrayLike(t[n]))if(isArrayLike(r[n])||(r[n]=[]),isTypedArray(t[n])){var i=t[n].length;r[n].length!==i&&(r[n]=new t[n].constructor(i),copyArrShallow(r[n],t[n],i))}else{var a=t[n],o=r[n],s=a.length;if(is2DArray(a))for(var l=a[0].length,u=0;u<s;u++)o[u]?copyArrShallow(o[u],a[u],l):o[u]=Array.prototype.slice.call(a[u]);else copyArrShallow(o,a,s);o.length=a.length}else r[n]=t[n]}function isValueSame(r,t){return r===t||isArrayLike(r)&&isArrayLike(t)&&is1DArraySame(r,t)}function is1DArraySame(r,t){var n=r.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(r[i]!==t[i])return!1;return!0}function animateToShallow(r,t,n,i,a,o,s,l){for(var u=keys(i),c=a.duration,f=a.delay,d=a.additive,g=a.setToFinal,v=!isObject$2(o),M=r.animators,P=[],R=0;R<u.length;R++){var I=u[R],$=i[I];if($!=null&&n[I]!=null&&(v||o[I]))if(isObject$2($)&&!isArrayLike($)&&!isGradientObject($)){if(t){l||(n[I]=$,r.updateDuringAnimation(t));continue}animateToShallow(r,I,n[I],$,a,o&&o[I],s,l)}else P.push(I);else l||(n[I]=$,r.updateDuringAnimation(t),P.push(I))}var N=P.length;if(!d&&N)for(var F=0;F<M.length;F++){var V=M[F];if(V.targetName===t){var H=V.stopTracks(P);if(H){var G=indexOf(M,V);M.splice(G,1)}}}if(a.force||(P=filter(P,function(X){return!isValueSame(i[X],n[X])}),N=P.length),N>0||a.force&&!s.length){var Y=void 0,W=void 0,q=void 0;if(l){W={},g&&(Y={});for(var F=0;F<N;F++){var I=P[F];W[I]=n[I],g?Y[I]=i[I]:n[I]=i[I]}}else if(g){q={};for(var F=0;F<N;F++){var I=P[F];q[I]=cloneValue(n[I]),copyValue(n,i,I)}}var V=new Animator$1(n,!1,!1,d?filter(M,function(K){return K.targetName===t}):null);V.targetName=t,a.scope&&(V.scope=a.scope),g&&Y&&V.whenWithKeys(0,Y,P),q&&V.whenWithKeys(0,q,P),V.whenWithKeys(c??500,l?W:i,P).delay(f||0),r.addAnimator(V,t),s.push(V)}}const Element$2=Element$1;var Group$2=function(r){__extends(t,r);function t(n){var i=r.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(n),i}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var i=this._children,a=0;a<i.length;a++)if(i[a].name===n)return i[a]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,i){if(n&&n!==this&&n.parent!==this&&i&&i.parent===this){var a=this._children,o=a.indexOf(i);o>=0&&(a.splice(o,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,i){var a=indexOf(this._children,n);return a>=0&&this.replaceAt(i,a),this},t.prototype.replaceAt=function(n,i){var a=this._children,o=a[i];if(n&&n!==this&&n.parent!==this&&n!==o){a[i]=n,o.parent=null;var s=this.__zr;s&&o.removeSelfFromZr(s),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var i=this.__zr;i&&i!==n.__zr&&n.addSelfToZr(i),i&&i.refresh()},t.prototype.remove=function(n){var i=this.__zr,a=this._children,o=indexOf(a,n);return o<0?this:(a.splice(o,1),n.parent=null,i&&n.removeSelfFromZr(i),i&&i.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,i=this.__zr,a=0;a<n.length;a++){var o=n[a];i&&o.removeSelfFromZr(i),o.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,i){for(var a=this._children,o=0;o<a.length;o++){var s=a[o];n.call(i,s,o)}return this},t.prototype.traverse=function(n,i){for(var a=0;a<this._children.length;a++){var o=this._children[a],s=n.call(i,o);o.isGroup&&!s&&o.traverse(n,i)}return this},t.prototype.addSelfToZr=function(n){r.prototype.addSelfToZr.call(this,n);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){r.prototype.removeSelfFromZr.call(this,n);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var i=new BoundingRect$1(0,0,0,0),a=n||this._children,o=[],s=null,l=0;l<a.length;l++){var u=a[l];if(!(u.ignore||u.invisible)){var c=u.getBoundingRect(),f=u.getLocalTransform(o);f?(BoundingRect$1.applyTransform(i,c,f),s=s||i.clone(),s.union(i)):(s=s||c.clone(),s.union(c))}}return s||i},t}(Element$2);Group$2.prototype.type="group";const Group$3=Group$2;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(r){delete instances$1[r]}function isDarkMode(r){if(!r)return!1;if(typeof r=="string")return lum(r,1)<DARK_MODE_THRESHOLD;if(r.colorStops){for(var t=r.colorStops,n=0,i=t.length,a=0;a<i;a++)n+=lum(t[a].color,1);return n/=i,n<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function r(t,n,i){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=n,this.id=t;var o=new Storage$1,s=i.renderer||"canvas";painterCtors[s]||(s=keys(painterCtors)[0]),i.useDirtyRect=i.useDirtyRect==null?!1:i.useDirtyRect;var l=new painterCtors[s](n,o,i,t),u=i.ssr||l.ssrOnly;this.storage=o,this.painter=l;var c=!env$1.node&&!env$1.worker&&!u?new HandlerProxy(l.getViewportRoot(),l.root):null,f=i.useCoarsePointer,d=f==null||f==="auto"?env$1.touchEventsSupported:!!f,g=44,v;d&&(v=retrieve2(i.pointerSize,g)),this.handler=new Handler$1(o,l,c,l.root,v),this.animation=new Animation$1({stage:{update:u?null:function(){return a._flush(!0)}}}),u||this.animation.start()}return r.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},r.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(t,n){this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh()},r.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=isDarkMode(t)},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(t){this._darkMode=t},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},r.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},r.prototype.flush=function(){this._flush(!1)},r.prototype._flush=function(t){var n,i=getTime();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var a=getTime();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},r.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},r.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},r.prototype.clearAnimation=function(){this.animation.clear()},r.prototype.getWidth=function(){return this.painter.getWidth()},r.prototype.getHeight=function(){return this.painter.getHeight()},r.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},r.prototype.findHover=function(t,n){return this.handler.findHover(t,n)},r.prototype.on=function(t,n,i){return this.handler.on(t,n,i),this},r.prototype.off=function(t,n){this.handler.off(t,n)},r.prototype.trigger=function(t,n){this.handler.trigger(t,n)},r.prototype.clear=function(){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof Group$3&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},r.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},r}();function init$1(r,t){var n=new ZRender(guid(),r,t);return instances$1[n.id]=n,n}function registerPainter(r,t){painterCtors[r]=t}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(r){return r.replace(/^\s+|\s+$/g,"")}function linearMap(r,t,n,i){var a=t[0],o=t[1],s=n[0],l=n[1],u=o-a,c=l-s;if(u===0)return c===0?s:(s+l)/2;if(i)if(u>0){if(r<=a)return s;if(r>=o)return l}else{if(r>=a)return s;if(r<=o)return l}else{if(r===a)return s;if(r===o)return l}return(r-a)/u*c+s}function parsePercent(r,t){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return isString(r)?_trim(r).match(/%$/)?parseFloat(r)/100*t:parseFloat(r):r==null?NaN:+r}function round$1(r,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),ROUND_SUPPORTED_PRECISION_MAX),r=(+r).toFixed(t),n?r:+r}function asc$1(r){return r.sort(function(t,n){return t-n}),r}function getPrecision(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(r*t)/t===r)return n}return getPrecisionSafe(r)}function getPrecisionSafe(r){var t=r.toString().toLowerCase(),n=t.indexOf("e"),i=n>0?+t.slice(n+1):0,a=n>0?n:t.length,o=t.indexOf("."),s=o<0?0:a-1-o;return Math.max(0,s-i)}function getPixelPrecision(r,t){var n=Math.log,i=Math.LN10,a=Math.floor(n(r[1]-r[0])/i),o=Math.round(n(Math.abs(t[1]-t[0]))/i),s=Math.min(Math.max(-a+o,0),20);return isFinite(s)?s:20}function getPercentSeats(r,t){var n=reduce(r,function(v,M){return v+(isNaN(M)?0:M)},0);if(n===0)return[];for(var i=Math.pow(10,t),a=map$1(r,function(v){return(isNaN(v)?0:v)/n*i*100}),o=i*100,s=map$1(a,function(v){return Math.floor(v)}),l=reduce(s,function(v,M){return v+M},0),u=map$1(a,function(v,M){return v-s[M]});l<o;){for(var c=Number.NEGATIVE_INFINITY,f=null,d=0,g=u.length;d<g;++d)u[d]>c&&(c=u[d],f=d);++s[f],u[f]=0,++l}return map$1(s,function(v){return v/i})}function addSafe(r,t){var n=Math.max(getPrecision(r),getPrecision(t)),i=r+t;return n>ROUND_SUPPORTED_PRECISION_MAX?i:round$1(i,n)}function remRadian(r){var t=Math.PI*2;return(r%t+t)%t}function isRadianAroundZero(r){return r>-RADIAN_EPSILON&&r<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(r){if(r instanceof Date)return r;if(isString(r)){var t=TIME_REG.exec(r);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function quantity(r){return Math.pow(10,quantityExponent(r))}function quantityExponent(r){if(r===0)return 0;var t=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,t)>=10&&t++,t}function nice(r,t){var n=quantityExponent(r),i=Math.pow(10,n),a=r/i,o;return t?a<1.5?o=1:a<2.5?o=2:a<4?o=3:a<7?o=5:o=10:a<1?o=1:a<2?o=2:a<3?o=3:a<5?o=5:o=10,r=o*i,n>=-20?+r.toFixed(n<0?-n:0):r}function numericToNumber(r){var t=parseFloat(r);return t==r&&(t!==0||!isString(r)||r.indexOf("x")<=0)?t:NaN}function isNumeric(r){return!isNaN(numericToNumber(r))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(r,t){return t===0?r:getGreatestCommonDividor(t,r%t)}function getLeastCommonMultiple(r,t){return r==null?t:t==null?r:r*t/getGreatestCommonDividor(r,t)}function throwError(r){throw new Error(r)}function interpolateNumber(r,t,n){return(t-r)*n+r}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(r){return r instanceof Array?r:r==null?[]:[r]}function defaultEmphasis(r,t,n){if(r){r[t]=r[t]||{},r.emphasis=r.emphasis||{},r.emphasis[t]=r.emphasis[t]||{};for(var i=0,a=n.length;i<a;i++){var o=n[i];!r.emphasis[t].hasOwnProperty(o)&&r[t].hasOwnProperty(o)&&(r.emphasis[t][o]=r[t][o])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(r){return isObject$2(r)&&!isArray(r)&&!(r instanceof Date)?r.value:r}function isDataItemOption(r){return isObject$2(r)&&!(r instanceof Array)}function mappingToExists(r,t,n){var i=n==="normalMerge",a=n==="replaceMerge",o=n==="replaceAll";r=r||[],t=(t||[]).slice();var s=createHashMap();each$5(t,function(u,c){if(!isObject$2(u)){t[c]=null;return}});var l=prepareResult(r,s,n);return(i||a)&&mappingById(l,r,s,t),i&&mappingByName(l,t),i||a?mappingByIndex(l,t,a):o&&mappingInReplaceAllMode(l,t),makeIdAndName(l),l}function prepareResult(r,t,n){var i=[];if(n==="replaceAll")return i;for(var a=0;a<r.length;a++){var o=r[a];o&&o.id!=null&&t.set(o.id,a),i.push({existing:n==="replaceMerge"||isComponentIdInternal(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}function mappingById(r,t,n,i){each$5(i,function(a,o){if(!(!a||a.id==null)){var s=makeComparableKey(a.id),l=n.get(s);if(l!=null){var u=r[l];assert(!u.newOption,'Duplicated option on id "'+s+'".'),u.newOption=a,u.existing=t[l],i[o]=null}}})}function mappingByName(r,t){each$5(t,function(n,i){if(!(!n||n.name==null))for(var a=0;a<r.length;a++){var o=r[a].existing;if(!r[a].newOption&&o&&(o.id==null||n.id==null)&&!isComponentIdInternal(n)&&!isComponentIdInternal(o)&&keyExistAndEqual("name",o,n)){r[a].newOption=n,t[i]=null;return}}})}function mappingByIndex(r,t,n){each$5(t,function(i){if(i){for(var a,o=0;(a=r[o])&&(a.newOption||isComponentIdInternal(a.existing)||a.existing&&i.id!=null&&!keyExistAndEqual("id",i,a.existing));)o++;a?(a.newOption=i,a.brandNew=n):r.push({newOption:i,brandNew:n,existing:null,keyInfo:null}),o++}})}function mappingInReplaceAllMode(r,t){each$5(t,function(n){r.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(r){var t=createHashMap();each$5(r,function(n){var i=n.existing;i&&t.set(i.id,n)}),each$5(r,function(n){var i=n.newOption;assert(!i||i.id==null||!t.get(i.id)||t.get(i.id)===n,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,n),!n.keyInfo&&(n.keyInfo={})}),each$5(r,function(n,i){var a=n.existing,o=n.newOption,s=n.keyInfo;if(isObject$2(o)){if(s.name=o.name!=null?makeComparableKey(o.name):a?a.name:DUMMY_COMPONENT_NAME_PREFIX+i,a)s.id=makeComparableKey(a.id);else if(o.id!=null)s.id=makeComparableKey(o.id);else{var l=0;do s.id="\0"+s.name+"\0"+l++;while(t.get(s.id))}t.set(s.id,n)}})}function keyExistAndEqual(r,t,n){var i=convertOptionIdName(t[r],null),a=convertOptionIdName(n[r],null);return i!=null&&a!=null&&i===a}function makeComparableKey(r){return convertOptionIdName(r,"")}function convertOptionIdName(r,t){return r==null?t:isString(r)?r:isNumber(r)||isStringSafe(r)?r+"":t}function isNameSpecified(r){var t=r.name;return!!(t&&t.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(r){return r&&r.id!=null&&makeComparableKey(r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function setComponentTypeToKeyInfo(r,t,n){each$5(r,function(i){var a=i.newOption;isObject$2(a)&&(i.keyInfo.mainType=t,i.keyInfo.subType=determineSubType(t,a,i.existing,n))})}function determineSubType(r,t,n,i){var a=t.type?t.type:n?n.subType:i.determineSubType(r,t);return a}function queryDataIndex(r,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return isArray(t.dataIndex)?map$1(t.dataIndex,function(n){return r.indexOfRawIndex(n)}):r.indexOfRawIndex(t.dataIndex);if(t.name!=null)return isArray(t.name)?map$1(t.name,function(n){return r.indexOfName(n)}):r.indexOfName(t.name)}function makeInner(){var r="__ec_inner_"+innerUniqueIndex++;return function(t){return t[r]||(t[r]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder(r,t,n){var i=preParseFinder(t,n),a=i.mainTypeSpecified,o=i.queryOptionMap,s=i.others,l=s,u=n?n.defaultMainType:null;return!a&&u&&o.set(u,{}),o.each(function(c,f){var d=queryReferringComponents(r,f,c,{useDefault:u===f,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});l[f+"Models"]=d.models,l[f+"Model"]=d.models[0]}),l}function preParseFinder(r,t){var n;if(isString(r)){var i={};i[r+"Index"]=0,n=i}else n=r;var a=createHashMap(),o={},s=!1;return each$5(n,function(l,u){if(u==="dataIndex"||u==="dataIndexInside"){o[u]=l;return}var c=u.match(/^(\w+)(Index|Id|Name)$/)||[],f=c[1],d=(c[2]||"").toLowerCase();if(!(!f||!d||t&&t.includeMainTypes&&indexOf(t.includeMainTypes,f)<0)){s=s||!!f;var g=a.get(f)||a.set(f,{});g[d]=l}}),{mainTypeSpecified:s,queryOptionMap:a,others:o}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(r,t,n,i){i=i||SINGLE_REFERRING;var a=n.index,o=n.id,s=n.name,l={models:null,specified:a!=null||o!=null||s!=null};if(!l.specified){var u=void 0;return l.models=i.useDefault&&(u=r.getComponent(t))?[u]:[],l}return a==="none"||a===!1?(assert(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):(a==="all"&&(assert(i.enableAll,'`"all"` is not a valid value on index option.'),a=o=s=null),l.models=r.queryComponents({mainType:t,index:a,id:o,name:s}),l)}function setAttribute(r,t,n){r.setAttribute?r.setAttribute(t,n):r[t]=n}function getAttribute(r,t){return r.getAttribute?r.getAttribute(t):r[t]}function getTooltipRenderMode(r){return r==="auto"?env$1.domSupported?"html":"richText":r||"html"}function interpolateRawValues(r,t,n,i,a){var o=t==null||t==="auto";if(i==null)return i;if(isNumber(i)){var s=interpolateNumber(n||0,i,a);return round$1(s,o?Math.max(getPrecision(n||0),getPrecision(i)):t)}else{if(isString(i))return a<1?n:i;for(var l=[],u=n,c=i,f=Math.max(u?u.length:0,c.length),d=0;d<f;++d){var g=r.getDimensionInfo(d);if(g&&g.type==="ordinal")l[d]=(a<1&&u?u:c)[d];else{var v=u&&u[d]?u[d]:0,M=c[d],s=interpolateNumber(v,M,a);l[d]=round$1(s,o?Math.max(getPrecision(v),getPrecision(M)):t)}}return l}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(r){var t={main:"",sub:""};if(r){var n=r.split(TYPE_DELIMITER);t.main=n[0]||"",t.sub=n[1]||""}return t}function checkClassType(r){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function isExtendedClass(r){return!!(r&&r[IS_EXTENDED_CLASS])}function enableClassExtend(r,t){r.$constructor=r,r.extend=function(n){var i=this,a;return isESClass(i)?a=function(o){__extends(s,o);function s(){return o.apply(this,arguments)||this}return s}(i):(a=function(){(n.$constructor||i).apply(this,arguments)},inherits(a,this)),extend(a.prototype,n),a[IS_EXTENDED_CLASS]=!0,a.extend=this.extend,a.superCall=superCall,a.superApply=superApply,a.superClass=i,a}}function isESClass(r){return isFunction(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function mountExtend(r,t){r.extend=t.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(r){var t=["__\0is_clz",classBase++].join("_");r.prototype[t]=!0,r.isInstance=function(n){return!!(n&&n[t])}}function superCall(r,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[t].apply(r,n)}function superApply(r,t,n){return this.superClass.prototype[t].apply(r,n)}function enableClassManagement(r){var t={};r.registerClass=function(i){var a=i.type||i.prototype.type;if(a){checkClassType(a),i.prototype.type=a;var o=parseClassType(a);if(!o.sub)t[o.main]=i;else if(o.sub!==IS_CONTAINER){var s=n(o);s[o.sub]=i}}return i},r.getClass=function(i,a,o){var s=t[i];if(s&&s[IS_CONTAINER]&&(s=a?s[a]:null),o&&!s)throw new Error(a?"Component "+i+"."+(a||"")+" is used but not imported.":i+".type should be specified.");return s},r.getClassesByMainType=function(i){var a=parseClassType(i),o=[],s=t[a.main];return s&&s[IS_CONTAINER]?each$5(s,function(l,u){u!==IS_CONTAINER&&o.push(l)}):o.push(s),o},r.hasClass=function(i){var a=parseClassType(i);return!!t[a.main]},r.getAllClassMainTypes=function(){var i=[];return each$5(t,function(a,o){i.push(o)}),i},r.hasSubTypes=function(i){var a=parseClassType(i),o=t[a.main];return o&&o[IS_CONTAINER]};function n(i){var a=t[i.main];return(!a||!a[IS_CONTAINER])&&(a=t[i.main]={},a[IS_CONTAINER]=!0),a}}function makeStyleMapper(r,t){for(var n=0;n<r.length;n++)r[n][1]||(r[n][1]=r[n][0]);return t=t||!1,function(i,a,o){for(var s={},l=0;l<r.length;l++){var u=r[l][1];if(!(a&&indexOf(a,u)>=0||o&&indexOf(o,u)<0)){var c=i.getShallow(u,t);c!=null&&(s[r[l][0]]=c)}}return s}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function r(){}return r.prototype.getAreaStyle=function(t,n){return getAreaStyle(this,t,n)},r}(),globalImageCache=new LRU$1(50);function findExistImage(r){if(typeof r=="string"){var t=globalImageCache.get(r);return t&&t.image}else return r}function createOrUpdateImage(r,t,n,i,a){if(r)if(typeof r=="string"){if(t&&t.__zrImageSrc===r||!n)return t;var o=globalImageCache.get(r),s={hostEl:n,cb:i,cbPayload:a};return o?(t=o.image,!isImageReady(t)&&o.pending.push(s)):(t=platformApi.loadImage(r,imageOnLoad,imageOnLoad),t.__zrImageSrc=r,globalImageCache.put(r,t.__cachedImgObj={image:t,pending:[s]})),t}else return r;else return t}function imageOnLoad(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var n=r.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}r.pending.length=0}function isImageReady(r){return r&&r.width&&r.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(r,t,n,i,a){if(!t)return"";var o=(r+"").split(`
`);a=prepareTruncateOptions(t,n,i,a);for(var s=0,l=o.length;s<l;s++)o[s]=truncateSingleLine(o[s],a);return o.join(`
`)}function prepareTruncateOptions(r,t,n,i){i=i||{};var a=extend({},i);a.font=t,n=retrieve2(n,"..."),a.maxIterations=retrieve2(i.maxIterations,2);var o=a.minChar=retrieve2(i.minChar,0);a.cnCharWidth=getWidth("国",t);var s=a.ascCharWidth=getWidth("a",t);a.placeholder=retrieve2(i.placeholder,"");for(var l=r=Math.max(0,r-1),u=0;u<o&&l>=s;u++)l-=s;var c=getWidth(n,t);return c>l&&(n="",c=0),l=r-c,a.ellipsis=n,a.ellipsisWidth=c,a.contentWidth=l,a.containerWidth=r,a}function truncateSingleLine(r,t){var n=t.containerWidth,i=t.font,a=t.contentWidth;if(!n)return"";var o=getWidth(r,i);if(o<=n)return r;for(var s=0;;s++){if(o<=a||s>=t.maxIterations){r+=t.ellipsis;break}var l=s===0?estimateLength(r,a,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(r.length*a/o):0;r=r.substr(0,l),o=getWidth(r,i)}return r===""&&(r=t.placeholder),r}function estimateLength(r,t,n,i){for(var a=0,o=0,s=r.length;o<s&&a<t;o++){var l=r.charCodeAt(o);a+=0<=l&&l<=127?n:i}return o}function parsePlainText(r,t){r!=null&&(r+="");var n=t.overflow,i=t.padding,a=t.font,o=n==="truncate",s=getLineHeight(a),l=retrieve2(t.lineHeight,s),u=!!t.backgroundColor,c=t.lineOverflow==="truncate",f=t.width,d;f!=null&&(n==="break"||n==="breakAll")?d=r?wrapText(r,t.font,f,n==="breakAll",0).lines:[]:d=r?r.split(`
`):[];var g=d.length*l,v=retrieve2(t.height,g);if(g>v&&c){var M=Math.floor(v/l);d=d.slice(0,M)}if(r&&o&&f!=null)for(var P=prepareTruncateOptions(f,a,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),R=0;R<d.length;R++)d[R]=truncateSingleLine(d[R],P);for(var I=v,$=0,R=0;R<d.length;R++)$=Math.max(getWidth(d[R],a),$);f==null&&(f=$);var N=$;return i&&(I+=i[0]+i[2],N+=i[1]+i[3],f+=i[1]+i[3]),u&&(N=f),{lines:d,height:v,outerWidth:N,outerHeight:I,lineHeight:l,calculatedLineHeight:s,contentWidth:$,contentHeight:g,width:f}}var RichTextToken=function(){function r(){}return r}(),RichTextLine=function(){function r(t){this.tokens=[],t&&(this.tokens=t)}return r}(),RichTextContentBlock=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return r}();function parseRichText(r,t){var n=new RichTextContentBlock;if(r!=null&&(r+=""),!r)return n;for(var i=t.width,a=t.height,o=t.overflow,s=(o==="break"||o==="breakAll")&&i!=null?{width:i,accumWidth:0,breakAll:o==="breakAll"}:null,l=STYLE_REG.lastIndex=0,u;(u=STYLE_REG.exec(r))!=null;){var c=u.index;c>l&&pushTokens(n,r.substring(l,c),t,s),pushTokens(n,u[2],t,s,u[1]),l=STYLE_REG.lastIndex}l<r.length&&pushTokens(n,r.substring(l,r.length),t,s);var f=[],d=0,g=0,v=t.padding,M=o==="truncate",P=t.lineOverflow==="truncate";function R(se,ce,ye){se.width=ce,se.lineHeight=ye,d+=ye,g=Math.max(g,ce)}e:for(var I=0;I<n.lines.length;I++){for(var $=n.lines[I],N=0,F=0,V=0;V<$.tokens.length;V++){var H=$.tokens[V],G=H.styleName&&t.rich[H.styleName]||{},Y=H.textPadding=G.padding,W=Y?Y[1]+Y[3]:0,q=H.font=G.font||t.font;H.contentHeight=getLineHeight(q);var X=retrieve2(G.height,H.contentHeight);if(H.innerHeight=X,Y&&(X+=Y[0]+Y[2]),H.height=X,H.lineHeight=retrieve3(G.lineHeight,t.lineHeight,X),H.align=G&&G.align||t.align,H.verticalAlign=G&&G.verticalAlign||"middle",P&&a!=null&&d+H.lineHeight>a){V>0?($.tokens=$.tokens.slice(0,V),R($,F,N),n.lines=n.lines.slice(0,I+1)):n.lines=n.lines.slice(0,I);break e}var K=G.width,Q=K==null||K==="auto";if(typeof K=="string"&&K.charAt(K.length-1)==="%")H.percentWidth=K,f.push(H),H.contentWidth=getWidth(H.text,q);else{if(Q){var te=G.backgroundColor,ae=te&&te.image;ae&&(ae=findExistImage(ae),isImageReady(ae)&&(H.width=Math.max(H.width,ae.width*X/ae.height)))}var re=M&&i!=null?i-F:null;re!=null&&re<H.width?!Q||re<W?(H.text="",H.width=H.contentWidth=0):(H.text=truncateText(H.text,re-W,q,t.ellipsis,{minChar:t.truncateMinChar}),H.width=H.contentWidth=getWidth(H.text,q)):H.contentWidth=getWidth(H.text,q)}H.width+=W,F+=H.width,G&&(N=Math.max(N,H.lineHeight))}R($,F,N)}n.outerWidth=n.width=retrieve2(i,g),n.outerHeight=n.height=retrieve2(a,d),n.contentHeight=d,n.contentWidth=g,v&&(n.outerWidth+=v[1]+v[3],n.outerHeight+=v[0]+v[2]);for(var I=0;I<f.length;I++){var H=f[I],de=H.percentWidth;H.width=parseInt(de,10)/100*n.width}return n}function pushTokens(r,t,n,i,a){var o=t==="",s=a&&n.rich[a]||{},l=r.lines,u=s.font||n.font,c=!1,f,d;if(i){var g=s.padding,v=g?g[1]+g[3]:0;if(s.width!=null&&s.width!=="auto"){var M=parsePercent$1(s.width,i.width)+v;l.length>0&&M+i.accumWidth>i.width&&(f=t.split(`
`),c=!0),i.accumWidth=M}else{var P=wrapText(t,u,i.width,i.breakAll,i.accumWidth);i.accumWidth=P.accumWidth+v,d=P.linesWidths,f=P.lines}}else f=t.split(`
`);for(var R=0;R<f.length;R++){var I=f[R],$=new RichTextToken;if($.styleName=a,$.text=I,$.isLineHolder=!I&&!o,typeof s.width=="number"?$.width=s.width:$.width=d?d[R]:getWidth(I,u),!R&&!c){var N=(l[l.length-1]||(l[0]=new RichTextLine)).tokens,F=N.length;F===1&&N[0].isLineHolder?N[0]=$:(I||!F||o)&&N.push($)}else l.push(new RichTextLine([$]))}}function isAlphabeticLetter(r){var t=r.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(r,t){return r[t]=!0,r},{});function isWordBreakChar(r){return isAlphabeticLetter(r)?!!breakCharMap[r]:!0}function wrapText(r,t,n,i,a){for(var o=[],s=[],l="",u="",c=0,f=0,d=0;d<r.length;d++){var g=r.charAt(d);if(g===`
`){u&&(l+=u,f+=c),o.push(l),s.push(f),l="",u="",c=0,f=0;continue}var v=getWidth(g,t),M=i?!1:!isWordBreakChar(g);if(o.length?f+v>n:a+f+v>n){f?(l||u)&&(M?(l||(l=u,u="",c=0,f=c),o.push(l),s.push(f-c),u+=g,c+=v,l="",f=c):(u&&(l+=u,u="",c=0),o.push(l),s.push(f),l=g,f=v)):M?(o.push(u),s.push(c),u=g,c=v):(o.push(g),s.push(v));continue}f+=v,M?(u+=g,c+=v):(u&&(l+=u,u="",c=0),l+=g)}return!o.length&&!l&&(l=r,u="",c=0),u&&(l+=u),l&&(o.push(l),s.push(f)),o.length===1&&(f+=a),{accumWidth:f,lines:o,linesWidths:s}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype._init=function(n){for(var i=keys(n),a=0;a<i.length;a++){var o=i[a];o==="style"?this.useStyle(n[o]):r.prototype.attrKV.call(this,o,n[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,i,a,o){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,n,i)||s&&!s[0]&&!s[3])return!1;if(a&&this.__clipPaths){for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1}if(o&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},t.prototype.contain=function(n,i){return this.rectContain(n,i)},t.prototype.traverse=function(n,i){n.call(i,this)},t.prototype.rectContain=function(n,i){var a=this.transformCoordToLocal(n,i),o=this.getBoundingRect();return o.contain(a[0],a[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,a=this.getBoundingRect(),o=this.style,s=o.shadowBlur||0,l=o.shadowOffsetX||0,u=o.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),i?BoundingRect$1.applyTransform(n,a,i):n.copy(a),(s||l||u)&&(n.width+=s*2+Math.abs(l),n.height+=s*2+Math.abs(u),n.x=Math.min(n.x,n.x+l-s),n.y=Math.min(n.y,n.y+u-s));var c=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-c),n.y=Math.floor(n.y-c),n.width=Math.ceil(n.width+1+c*2),n.height=Math.ceil(n.height+1+c*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,i){n!=="style"?r.prototype.attrKV.call(this,n,i):this.style?this.setStyle(i):this.useStyle(i)},t.prototype.setStyle=function(n,i){return typeof n=="string"?this.style[n]=i:extend(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},t.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},t.prototype.createStyle=function(n){return createObject(DEFAULT_COMMON_STYLE,n)},t.prototype.useStyle=function(n){n[STYLE_MAGIC_KEY]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[STYLE_MAGIC_KEY]},t.prototype._innerSaveToNormal=function(n){r.prototype._innerSaveToNormal.call(this,n);var i=this._normalState;n.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,i,PRIMARY_STATES_KEYS)},t.prototype._applyStateObj=function(n,i,a,o,s,l){r.prototype._applyStateObj.call(this,n,i,a,o,s,l);var u=!(i&&o),c;if(i&&i.style?s?o?c=i.style:(c=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(c,i.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:a.style),this._mergeStyle(c,i.style)):u&&(c=a.style),c)if(s){var f=this.style;if(this.style=this.createStyle(u?{}:f),u)for(var d=keys(f),g=0;g<d.length;g++){var v=d[g];v in c&&(c[v]=c[v],this.style[v]=f[v])}for(var M=keys(c),g=0;g<M.length;g++){var v=M[g];this.style[v]=this.style[v]}this._transitionState(n,{style:c},l,this.getAnimationStyleProps())}else this.useStyle(c);for(var P=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,g=0;g<P.length;g++){var v=P[g];i&&i[v]!=null?this[v]=i[v]:u&&a[v]!=null&&(this[v]=a[v])}},t.prototype._mergeStates=function(n){for(var i=r.prototype._mergeStates.call(this,n),a,o=0;o<n.length;o++){var s=n[o];s.style&&(a=a||{},this._mergeStyle(a,s.style))}return a&&(i.style=a),i},t.prototype._mergeStyle=function(n,i){return extend(n,i),n},t.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),t}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(r,t,n){return tmpRect.copy(r.getBoundingRect()),r.transform&&tmpRect.applyTransform(r.transform),viewRect.width=t,viewRect.height=n,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$4=Math.min,mathMax$4=Math.max,mathSin$3=Math.sin,mathCos$3=Math.cos,PI2$6=Math.PI*2,start=create$1(),end=create$1(),extremity=create$1();function fromLine(r,t,n,i,a,o){a[0]=mathMin$4(r,n),a[1]=mathMin$4(t,i),o[0]=mathMax$4(r,n),o[1]=mathMax$4(t,i)}var xDim=[],yDim=[];function fromCubic(r,t,n,i,a,o,s,l,u,c){var f=cubicExtrema,d=cubicAt,g=f(r,n,a,s,xDim);u[0]=1/0,u[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var v=0;v<g;v++){var M=d(r,n,a,s,xDim[v]);u[0]=mathMin$4(M,u[0]),c[0]=mathMax$4(M,c[0])}g=f(t,i,o,l,yDim);for(var v=0;v<g;v++){var P=d(t,i,o,l,yDim[v]);u[1]=mathMin$4(P,u[1]),c[1]=mathMax$4(P,c[1])}u[0]=mathMin$4(r,u[0]),c[0]=mathMax$4(r,c[0]),u[0]=mathMin$4(s,u[0]),c[0]=mathMax$4(s,c[0]),u[1]=mathMin$4(t,u[1]),c[1]=mathMax$4(t,c[1]),u[1]=mathMin$4(l,u[1]),c[1]=mathMax$4(l,c[1])}function fromQuadratic(r,t,n,i,a,o,s,l){var u=quadraticExtremum,c=quadraticAt,f=mathMax$4(mathMin$4(u(r,n,a),1),0),d=mathMax$4(mathMin$4(u(t,i,o),1),0),g=c(r,n,a,f),v=c(t,i,o,d);s[0]=mathMin$4(r,a,g),s[1]=mathMin$4(t,o,v),l[0]=mathMax$4(r,a,g),l[1]=mathMax$4(t,o,v)}function fromArc(r,t,n,i,a,o,s,l,u){var c=min$1,f=max$1,d=Math.abs(a-o);if(d%PI2$6<1e-4&&d>1e-4){l[0]=r-n,l[1]=t-i,u[0]=r+n,u[1]=t+i;return}if(start[0]=mathCos$3(a)*n+r,start[1]=mathSin$3(a)*i+t,end[0]=mathCos$3(o)*n+r,end[1]=mathSin$3(o)*i+t,c(l,start,end),f(u,start,end),a=a%PI2$6,a<0&&(a=a+PI2$6),o=o%PI2$6,o<0&&(o=o+PI2$6),a>o&&!s?o+=PI2$6:a<o&&s&&(a+=PI2$6),s){var g=o;o=a,a=g}for(var v=0;v<o;v+=Math.PI/2)v>a&&(extremity[0]=mathCos$3(v)*n+r,extremity[1]=mathSin$3(v)*i+t,c(l,extremity,l),f(u,extremity,u))}var CMD$2={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$3=Math.min,mathMax$3=Math.max,mathCos$2=Math.cos,mathSin$2=Math.sin,mathAbs$1=Math.abs,PI$4=Math.PI,PI2$5=PI$4*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(r){var t=Math.round(r/PI$4*1e8)/1e8;return t%2*PI$4}function normalizeArcAngles(r,t){var n=modPI2(r[0]);n<0&&(n+=PI2$5);var i=n-r[0],a=r[1];a+=i,!t&&a-n>=PI2$5?a=n+PI2$5:t&&n-a>=PI2$5?a=n-PI2$5:!t&&n>a?a=n+(PI2$5-modPI2(n-a)):t&&n<a&&(a=n-(PI2$5-modPI2(a-n))),r[0]=n,r[1]=a}var PathProxy=function(){function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,n,i){i=i||0,i>0&&(this._ux=mathAbs$1(i/devicePixelRatio/t)||0,this._uy=mathAbs$1(i/devicePixelRatio/n)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(CMD$2.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},r.prototype.lineTo=function(t,n){var i=mathAbs$1(t-this._xi),a=mathAbs$1(n-this._yi),o=i>this._ux||a>this._uy;if(this.addData(CMD$2.L,t,n),this._ctx&&o&&this._ctx.lineTo(t,n),o)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var s=i*i+a*a;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=s)}return this},r.prototype.bezierCurveTo=function(t,n,i,a,o,s){return this._drawPendingPt(),this.addData(CMD$2.C,t,n,i,a,o,s),this._ctx&&this._ctx.bezierCurveTo(t,n,i,a,o,s),this._xi=o,this._yi=s,this},r.prototype.quadraticCurveTo=function(t,n,i,a){return this._drawPendingPt(),this.addData(CMD$2.Q,t,n,i,a),this._ctx&&this._ctx.quadraticCurveTo(t,n,i,a),this._xi=i,this._yi=a,this},r.prototype.arc=function(t,n,i,a,o,s){this._drawPendingPt(),tmpAngles[0]=a,tmpAngles[1]=o,normalizeArcAngles(tmpAngles,s),a=tmpAngles[0],o=tmpAngles[1];var l=o-a;return this.addData(CMD$2.A,t,n,i,i,a,l,0,s?0:1),this._ctx&&this._ctx.arc(t,n,i,a,o,s),this._xi=mathCos$2(o)*i+t,this._yi=mathSin$2(o)*i+n,this},r.prototype.arcTo=function(t,n,i,a,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,i,a,o),this},r.prototype.rect=function(t,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,i,a),this.addData(CMD$2.R,t,n,i,a),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$2.Z);var t=this._ctx,n=this._x0,i=this._y0;return t&&t.closePath(),this._xi=n,this._yi=i,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&hasTypedArray&&(this.data=new Float32Array(n));for(var i=0;i<n;i++)this.data[i]=t[i];this._len=n},r.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,i=0,a=this._len,o=0;o<n;o++)i+=t[o].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+i));for(var o=0;o<n;o++)for(var s=t[o].data,l=0;l<s.length;l++)this.data[a++]=s[l];this._len=a},r.prototype.addData=function(t,n,i,a,o,s,l,u,c){if(this._saveData){var f=this.data;this._len+arguments.length>f.length&&(this._expandData(),f=this.data);for(var d=0;d<arguments.length;d++)f[this._len++]=arguments[d]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var t=this.data,n=0,i=0,a=0,o=0,s;for(s=0;s<this._len;){var l=t[s++],u=s===1;switch(u&&(n=t[s],i=t[s+1],a=n,o=i),l){case CMD$2.M:n=a=t[s++],i=o=t[s++],min2[0]=a,min2[1]=o,max2[0]=a,max2[1]=o;break;case CMD$2.L:fromLine(n,i,t[s],t[s+1],min2,max2),n=t[s++],i=t[s++];break;case CMD$2.C:fromCubic(n,i,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],min2,max2),n=t[s++],i=t[s++];break;case CMD$2.Q:fromQuadratic(n,i,t[s++],t[s++],t[s],t[s+1],min2,max2),n=t[s++],i=t[s++];break;case CMD$2.A:var c=t[s++],f=t[s++],d=t[s++],g=t[s++],v=t[s++],M=t[s++]+v;s+=1;var P=!t[s++];u&&(a=mathCos$2(v)*d+c,o=mathSin$2(v)*g+f),fromArc(c,f,d,g,v,M,P,min2,max2),n=mathCos$2(M)*d+c,i=mathSin$2(M)*g+f;break;case CMD$2.R:a=n=t[s++],o=i=t[s++];var R=t[s++],I=t[s++];fromLine(a,o,a+R,o+I,min2,max2);break;case CMD$2.Z:n=a,i=o;break}min$1(min,min,min2),max$1(max,max,max2)}return s===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},r.prototype._calculateLength=function(){var t=this.data,n=this._len,i=this._ux,a=this._uy,o=0,s=0,l=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,f=0,d=0,g=0;g<n;){var v=t[g++],M=g===1;M&&(o=t[g],s=t[g+1],l=o,u=s);var P=-1;switch(v){case CMD$2.M:o=l=t[g++],s=u=t[g++];break;case CMD$2.L:{var R=t[g++],I=t[g++],$=R-o,N=I-s;(mathAbs$1($)>i||mathAbs$1(N)>a||g===n-1)&&(P=Math.sqrt($*$+N*N),o=R,s=I);break}case CMD$2.C:{var F=t[g++],V=t[g++],R=t[g++],I=t[g++],H=t[g++],G=t[g++];P=cubicLength(o,s,F,V,R,I,H,G,10),o=H,s=G;break}case CMD$2.Q:{var F=t[g++],V=t[g++],R=t[g++],I=t[g++];P=quadraticLength(o,s,F,V,R,I,10),o=R,s=I;break}case CMD$2.A:var Y=t[g++],W=t[g++],q=t[g++],X=t[g++],K=t[g++],Q=t[g++],te=Q+K;g+=1,t[g++],M&&(l=mathCos$2(K)*q+Y,u=mathSin$2(K)*X+W),P=mathMax$3(q,X)*mathMin$3(PI2$5,Math.abs(Q)),o=mathCos$2(te)*q+Y,s=mathSin$2(te)*X+W;break;case CMD$2.R:{l=o=t[g++],u=s=t[g++];var ae=t[g++],re=t[g++];P=ae*2+re*2;break}case CMD$2.Z:{var $=l-o,N=u-s;P=Math.sqrt($*$+N*N),o=l,s=u;break}}P>=0&&(c[d++]=P,f+=P)}return this._pathLen=f,f},r.prototype.rebuildPath=function(t,n){var i=this.data,a=this._ux,o=this._uy,s=this._len,l,u,c,f,d,g,v=n<1,M,P,R=0,I=0,$,N=0,F,V;if(!(v&&(this._pathSegLen||this._calculateLength(),M=this._pathSegLen,P=this._pathLen,$=n*P,!$)))e:for(var H=0;H<s;){var G=i[H++],Y=H===1;switch(Y&&(c=i[H],f=i[H+1],l=c,u=f),G!==CMD$2.L&&N>0&&(t.lineTo(F,V),N=0),G){case CMD$2.M:l=c=i[H++],u=f=i[H++],t.moveTo(c,f);break;case CMD$2.L:{d=i[H++],g=i[H++];var W=mathAbs$1(d-c),q=mathAbs$1(g-f);if(W>a||q>o){if(v){var X=M[I++];if(R+X>$){var K=($-R)/X;t.lineTo(c*(1-K)+d*K,f*(1-K)+g*K);break e}R+=X}t.lineTo(d,g),c=d,f=g,N=0}else{var Q=W*W+q*q;Q>N&&(F=d,V=g,N=Q)}break}case CMD$2.C:{var te=i[H++],ae=i[H++],re=i[H++],de=i[H++],se=i[H++],ce=i[H++];if(v){var X=M[I++];if(R+X>$){var K=($-R)/X;cubicSubdivide(c,te,re,se,K,tmpOutX),cubicSubdivide(f,ae,de,ce,K,tmpOutY),t.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}R+=X}t.bezierCurveTo(te,ae,re,de,se,ce),c=se,f=ce;break}case CMD$2.Q:{var te=i[H++],ae=i[H++],re=i[H++],de=i[H++];if(v){var X=M[I++];if(R+X>$){var K=($-R)/X;quadraticSubdivide(c,te,re,K,tmpOutX),quadraticSubdivide(f,ae,de,K,tmpOutY),t.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}R+=X}t.quadraticCurveTo(te,ae,re,de),c=re,f=de;break}case CMD$2.A:var ye=i[H++],Te=i[H++],me=i[H++],xe=i[H++],Ce=i[H++],Pe=i[H++],Ae=i[H++],De=!i[H++],Oe=me>xe?me:xe,Re=mathAbs$1(me-xe)>.001,we=Ce+Pe,_e=!1;if(v){var X=M[I++];R+X>$&&(we=Ce+Pe*($-R)/X,_e=!0),R+=X}if(Re&&t.ellipse?t.ellipse(ye,Te,me,xe,Ae,Ce,we,De):t.arc(ye,Te,Oe,Ce,we,De),_e)break e;Y&&(l=mathCos$2(Ce)*me+ye,u=mathSin$2(Ce)*xe+Te),c=mathCos$2(we)*me+ye,f=mathSin$2(we)*xe+Te;break;case CMD$2.R:l=c=i[H],u=f=i[H+1],d=i[H++],g=i[H++];var Z=i[H++],J=i[H++];if(v){var X=M[I++];if(R+X>$){var ee=$-R;t.moveTo(d,g),t.lineTo(d+mathMin$3(ee,Z),g),ee-=Z,ee>0&&t.lineTo(d+Z,g+mathMin$3(ee,J)),ee-=J,ee>0&&t.lineTo(d+mathMax$3(Z-ee,0),g+J),ee-=Z,ee>0&&t.lineTo(d,g+mathMax$3(J-ee,0));break e}R+=X}t.rect(d,g,Z,J);break;case CMD$2.Z:if(v){var X=M[I++];if(R+X>$){var K=($-R)/X;t.lineTo(c*(1-K)+l*K,f*(1-K)+u*K);break e}R+=X}t.closePath(),c=l,f=u}}},r.prototype.clone=function(){var t=new r,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},r.CMD=CMD$2,r.initDefaultProps=function(){var t=r.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),r}();const PathProxy$1=PathProxy;function containStroke$4(r,t,n,i,a,o,s){if(a===0)return!1;var l=a,u=0,c=r;if(s>t+l&&s>i+l||s<t-l&&s<i-l||o>r+l&&o>n+l||o<r-l&&o<n-l)return!1;if(r!==n)u=(t-i)/(r-n),c=(r*i-n*t)/(r-n);else return Math.abs(o-r)<=l/2;var f=u*o-s+c,d=f*f/(u*u+1);return d<=l/2*l/2}function containStroke$3(r,t,n,i,a,o,s,l,u,c,f){if(u===0)return!1;var d=u;if(f>t+d&&f>i+d&&f>o+d&&f>l+d||f<t-d&&f<i-d&&f<o-d&&f<l-d||c>r+d&&c>n+d&&c>a+d&&c>s+d||c<r-d&&c<n-d&&c<a-d&&c<s-d)return!1;var g=cubicProjectPoint(r,t,n,i,a,o,s,l,c,f,null);return g<=d/2}function containStroke$2(r,t,n,i,a,o,s,l,u){if(s===0)return!1;var c=s;if(u>t+c&&u>i+c&&u>o+c||u<t-c&&u<i-c&&u<o-c||l>r+c&&l>n+c&&l>a+c||l<r-c&&l<n-c&&l<a-c)return!1;var f=quadraticProjectPoint(r,t,n,i,a,o,l,u,null);return f<=c/2}var PI2$4=Math.PI*2;function normalizeRadian(r){return r%=PI2$4,r<0&&(r+=PI2$4),r}var PI2$3=Math.PI*2;function containStroke$1(r,t,n,i,a,o,s,l,u){if(s===0)return!1;var c=s;l-=r,u-=t;var f=Math.sqrt(l*l+u*u);if(f-c>n||f+c<n)return!1;if(Math.abs(i-a)%PI2$3<1e-4)return!0;if(o){var d=i;i=normalizeRadian(a),a=normalizeRadian(d)}else i=normalizeRadian(i),a=normalizeRadian(a);i>a&&(a+=PI2$3);var g=Math.atan2(u,l);return g<0&&(g+=PI2$3),g>=i&&g<=a||g+PI2$3>=i&&g+PI2$3<=a}function windingLine(r,t,n,i,a,o){if(o>t&&o>i||o<t&&o<i||i===t)return 0;var s=(o-t)/(i-t),l=i<t?1:-1;(s===1||s===0)&&(l=i<t?.5:-.5);var u=s*(n-r)+r;return u===a?1/0:u>a?l:0}var CMD$1=PathProxy$1.CMD,PI2$2=Math.PI*2,EPSILON=1e-4;function isAroundEqual(r,t){return Math.abs(r-t)<EPSILON}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var r=extrema[0];extrema[0]=extrema[1],extrema[1]=r}function windingCubic(r,t,n,i,a,o,s,l,u,c){if(c>t&&c>i&&c>o&&c>l||c<t&&c<i&&c<o&&c<l)return 0;var f=cubicRootAt(t,i,o,l,c,roots);if(f===0)return 0;for(var d=0,g=-1,v=void 0,M=void 0,P=0;P<f;P++){var R=roots[P],I=R===0||R===1?.5:1,$=cubicAt(r,n,a,s,R);$<u||(g<0&&(g=cubicExtrema(t,i,o,l,extrema),extrema[1]<extrema[0]&&g>1&&swapExtrema(),v=cubicAt(t,i,o,l,extrema[0]),g>1&&(M=cubicAt(t,i,o,l,extrema[1]))),g===2?R<extrema[0]?d+=v<t?I:-I:R<extrema[1]?d+=M<v?I:-I:d+=l<M?I:-I:R<extrema[0]?d+=v<t?I:-I:d+=l<v?I:-I)}return d}function windingQuadratic(r,t,n,i,a,o,s,l){if(l>t&&l>i&&l>o||l<t&&l<i&&l<o)return 0;var u=quadraticRootAt(t,i,o,l,roots);if(u===0)return 0;var c=quadraticExtremum(t,i,o);if(c>=0&&c<=1){for(var f=0,d=quadraticAt(t,i,o,c),g=0;g<u;g++){var v=roots[g]===0||roots[g]===1?.5:1,M=quadraticAt(r,n,a,roots[g]);M<s||(roots[g]<c?f+=d<t?v:-v:f+=o<d?v:-v)}return f}else{var v=roots[0]===0||roots[0]===1?.5:1,M=quadraticAt(r,n,a,roots[0]);return M<s?0:o<t?v:-v}}function windingArc(r,t,n,i,a,o,s,l){if(l-=t,l>n||l<-n)return 0;var u=Math.sqrt(n*n-l*l);roots[0]=-u,roots[1]=u;var c=Math.abs(i-a);if(c<1e-4)return 0;if(c>=PI2$2-1e-4){i=0,a=PI2$2;var f=o?1:-1;return s>=roots[0]+r&&s<=roots[1]+r?f:0}if(i>a){var d=i;i=a,a=d}i<0&&(i+=PI2$2,a+=PI2$2);for(var g=0,v=0;v<2;v++){var M=roots[v];if(M+r>s){var P=Math.atan2(l,M),f=o?1:-1;P<0&&(P=PI2$2+P),(P>=i&&P<=a||P+PI2$2>=i&&P+PI2$2<=a)&&(P>Math.PI/2&&P<Math.PI*1.5&&(f=-f),g+=f)}}return g}function containPath(r,t,n,i,a){for(var o=r.data,s=r.len(),l=0,u=0,c=0,f=0,d=0,g,v,M=0;M<s;){var P=o[M++],R=M===1;switch(P===CMD$1.M&&M>1&&(n||(l+=windingLine(u,c,f,d,i,a))),R&&(u=o[M],c=o[M+1],f=u,d=c),P){case CMD$1.M:f=o[M++],d=o[M++],u=f,c=d;break;case CMD$1.L:if(n){if(containStroke$4(u,c,o[M],o[M+1],t,i,a))return!0}else l+=windingLine(u,c,o[M],o[M+1],i,a)||0;u=o[M++],c=o[M++];break;case CMD$1.C:if(n){if(containStroke$3(u,c,o[M++],o[M++],o[M++],o[M++],o[M],o[M+1],t,i,a))return!0}else l+=windingCubic(u,c,o[M++],o[M++],o[M++],o[M++],o[M],o[M+1],i,a)||0;u=o[M++],c=o[M++];break;case CMD$1.Q:if(n){if(containStroke$2(u,c,o[M++],o[M++],o[M],o[M+1],t,i,a))return!0}else l+=windingQuadratic(u,c,o[M++],o[M++],o[M],o[M+1],i,a)||0;u=o[M++],c=o[M++];break;case CMD$1.A:var I=o[M++],$=o[M++],N=o[M++],F=o[M++],V=o[M++],H=o[M++];M+=1;var G=!!(1-o[M++]);g=Math.cos(V)*N+I,v=Math.sin(V)*F+$,R?(f=g,d=v):l+=windingLine(u,c,g,v,i,a);var Y=(i-I)*F/N+I;if(n){if(containStroke$1(I,$,F,V,V+H,G,t,Y,a))return!0}else l+=windingArc(I,$,F,V,V+H,G,Y,a);u=Math.cos(V+H)*N+I,c=Math.sin(V+H)*F+$;break;case CMD$1.R:f=u=o[M++],d=c=o[M++];var W=o[M++],q=o[M++];if(g=f+W,v=d+q,n){if(containStroke$4(f,d,g,d,t,i,a)||containStroke$4(g,d,g,v,t,i,a)||containStroke$4(g,v,f,v,t,i,a)||containStroke$4(f,v,f,d,t,i,a))return!0}else l+=windingLine(g,d,g,v,i,a),l+=windingLine(f,v,f,d,i,a);break;case CMD$1.Z:if(n){if(containStroke$4(u,c,f,d,t,i,a))return!0}else l+=windingLine(u,c,f,d,i,a);u=f,c=d;break}}return!n&&!isAroundEqual(c,d)&&(l+=windingLine(u,c,f,d,i,a)||0),l!==0}function contain$1(r,t,n){return containPath(r,0,!1,t,n)}function containStroke(r,t,n,i){return containPath(r,t,!0,n,i)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.update=function(){var n=this;r.prototype.update.call(this);var i=this.style;if(i.decal){var a=this._decalEl=this._decalEl||new t;a.buildPath===t.prototype.buildPath&&(a.buildPath=function(u){n.buildPath(u,n.shape)}),a.silent=!0;var o=a.style;for(var s in i)o[s]!==i[s]&&(o[s]=i[s]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var l=0;l<pathCopyParams.length;++l)a[pathCopyParams[l]]=this[pathCopyParams[l]];a.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var i=keys(n);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var o=0;o<i.length;o++){var s=i[o],l=n[s];s==="style"?this.style?extend(this.style,l):this.useStyle(l):s==="shape"?extend(this.shape,l):r.prototype.attrKV.call(this,s,l)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(isString(n)){var i=lum(n,0);return i>.5?DARK_LABEL_COLOR:i>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(n)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},t.prototype.getInsideTextStroke=function(n){var i=this.style.fill;if(isString(i)){var a=this.__zr,o=!!(a&&a.isDarkMode()),s=lum(n,0)<DARK_MODE_THRESHOLD;if(o===s)return i}},t.prototype.buildPath=function(n,i,a){},t.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},t.prototype.hasStroke=function(){var n=this.style,i=n.stroke;return!(i==null||i==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,i=n.fill;return i!=null&&i!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,i=this.style,a=!n;if(a){var o=!1;this.path||(o=!0,this.createPathProxy());var s=this.path;(o||this.__dirty&SHAPE_CHANGED_BIT)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),n=s.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var l=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||a){l.copy(n);var u=i.strokeNoScale?this.getLineScale():1,c=i.lineWidth;if(!this.hasFill()){var f=this.strokeContainThreshold;c=Math.max(c,f??4)}u>1e-10&&(l.width+=c/u,l.height+=c/u,l.x-=c/u/2,l.y-=c/u/2)}return l}return n},t.prototype.contain=function(n,i){var a=this.transformCoordToLocal(n,i),o=this.getBoundingRect(),s=this.style;if(n=a[0],i=a[1],o.contain(n,i)){var l=this.path;if(this.hasStroke()){var u=s.lineWidth,c=s.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),containStroke(l,u/c,n,i)))return!0}if(this.hasFill())return contain$1(l,n,i)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,i){n==="shape"?this.setShape(i):r.prototype.attrKV.call(this,n,i)},t.prototype.setShape=function(n,i){var a=this.shape;return a||(a=this.shape={}),typeof n=="string"?a[n]=i:extend(a,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},t.prototype.createStyle=function(n){return createObject(DEFAULT_PATH_STYLE,n)},t.prototype._innerSaveToNormal=function(n){r.prototype._innerSaveToNormal.call(this,n);var i=this._normalState;n.shape&&!i.shape&&(i.shape=extend({},this.shape))},t.prototype._applyStateObj=function(n,i,a,o,s,l){r.prototype._applyStateObj.call(this,n,i,a,o,s,l);var u=!(i&&o),c;if(i&&i.shape?s?o?c=i.shape:(c=extend({},a.shape),extend(c,i.shape)):(c=extend({},o?this.shape:a.shape),extend(c,i.shape)):u&&(c=a.shape),c)if(s){this.shape=extend({},this.shape);for(var f={},d=keys(c),g=0;g<d.length;g++){var v=d[g];typeof c[v]=="object"?this.shape[v]=c[v]:f[v]=c[v]}this._transitionState(n,{shape:f},l)}else this.shape=c,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var i=r.prototype._mergeStates.call(this,n),a,o=0;o<n.length;o++){var s=n[o];s.shape&&(a=a||{},this._mergeStyle(a,s.shape))}return a&&(i.shape=a),i},t.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var i=function(o){__extends(s,o);function s(l){var u=o.call(this,l)||this;return n.init&&n.init.call(u,l),u}return s.prototype.getDefaultStyle=function(){return clone$2(n.style)},s.prototype.getDefaultShape=function(){return clone$2(n.shape)},s}(t);for(var a in n)typeof n[a]=="function"&&(i.prototype[a]=n[a]);return i},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),t}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,i=n.stroke;return i!=null&&i!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,i=n.fill;return i!=null&&i!=="none"},t.prototype.createStyle=function(n){return createObject(DEFAULT_TSPAN_STYLE,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var i=n.text;i!=null?i+="":i="";var a=getBoundingRect(i,n.font,n.textAlign,n.textBaseline);if(a.x+=n.x||0,a.y+=n.y||0,this.hasStroke()){var o=n.lineWidth;a.x-=o/2,a.y-=o/2,a.width+=o,a.height+=o}this._rect=a}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var ZRImage=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return createObject(DEFAULT_IMAGE_STYLE,n)},t.prototype._getSize=function(n){var i=this.style,a=i[n];if(a!=null)return a;var o=isImageLike(i.image)?i.image:this.__image;if(!o)return 0;var s=n==="width"?"height":"width",l=i[s];return l==null?o[n]:o[n]/o[s]*l},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new BoundingRect$1(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(r,t){var n=t.x,i=t.y,a=t.width,o=t.height,s=t.r,l,u,c,f;a<0&&(n=n+a,a=-a),o<0&&(i=i+o,o=-o),typeof s=="number"?l=u=c=f=s:s instanceof Array?s.length===1?l=u=c=f=s[0]:s.length===2?(l=c=s[0],u=f=s[1]):s.length===3?(l=s[0],u=f=s[1],c=s[2]):(l=s[0],u=s[1],c=s[2],f=s[3]):l=u=c=f=0;var d;l+u>a&&(d=l+u,l*=a/d,u*=a/d),c+f>a&&(d=c+f,c*=a/d,f*=a/d),u+c>o&&(d=u+c,u*=o/d,c*=o/d),l+f>o&&(d=l+f,l*=o/d,f*=o/d),r.moveTo(n+l,i),r.lineTo(n+a-u,i),u!==0&&r.arc(n+a-u,i+u,u,-Math.PI/2,0),r.lineTo(n+a,i+o-c),c!==0&&r.arc(n+a-c,i+o-c,c,0,Math.PI/2),r.lineTo(n+f,i+o),f!==0&&r.arc(n+f,i+o-f,f,Math.PI/2,Math.PI),r.lineTo(n,i+l),l!==0&&r.arc(n+l,i+l,l,Math.PI,Math.PI*1.5)}var round=Math.round;function subPixelOptimizeLine$1(r,t,n){if(t){var i=t.x1,a=t.x2,o=t.y1,s=t.y2;r.x1=i,r.x2=a,r.y1=o,r.y2=s;var l=n&&n.lineWidth;return l&&(round(i*2)===round(a*2)&&(r.x1=r.x2=subPixelOptimize$1(i,l,!0)),round(o*2)===round(s*2)&&(r.y1=r.y2=subPixelOptimize$1(o,l,!0))),r}}function subPixelOptimizeRect$1(r,t,n){if(t){var i=t.x,a=t.y,o=t.width,s=t.height;r.x=i,r.y=a,r.width=o,r.height=s;var l=n&&n.lineWidth;return l&&(r.x=subPixelOptimize$1(i,l,!0),r.y=subPixelOptimize$1(a,l,!0),r.width=Math.max(subPixelOptimize$1(i+o,l,!1)-r.x,o===0?0:1),r.height=Math.max(subPixelOptimize$1(a+s,l,!1)-r.y,s===0?0:1)),r}}function subPixelOptimize$1(r,t,n){if(!t)return r;var i=round(r*2);return(i+round(t))%2===0?i/2:(i+(n?1:-1))/2}var RectShape=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),subPixelOptimizeOutputShape$1={},Rect$1=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new RectShape},t.prototype.buildPath=function(n,i){var a,o,s,l;if(this.subPixelOptimize){var u=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,i,this.style);a=u.x,o=u.y,s=u.width,l=u.height,u.r=i.r,i=u}else a=i.x,o=i.y,s=i.width,l=i.height;i.r?buildPath$2(n,i):n.rect(a,o,s,l)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Path$1);Rect$1.prototype.type="rect";const Rect$2=Rect$1;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(r){__extends(t,r);function t(n){var i=r.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=DEFAULT_RICH_TEXT_COLOR,i.attr(n),i}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var i=this._children[n];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):r.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var i=this.innerTransformable;return i?i.getLocalTransform(n):r.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){r.prototype.addSelfToZr.call(this,n);for(var i=0;i<this._children.length;i++)this._children[i].__zr=n},t.prototype.removeSelfFromZr=function(n){r.prototype.removeSelfFromZr.call(this,n);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new BoundingRect$1(0,0,0,0),i=this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s],u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(n.copy(u),n.applyTransform(c),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}this._rect=o||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||DEFAULT_RICH_TEXT_COLOR},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,i){if(!i)return n;var a=i.rich,o=n.rich||a&&{};return extend(n,i),a&&o?(this._mergeRich(o,a),n.rich=o):o&&(n.rich=o),n},t.prototype._mergeRich=function(n,i){for(var a=keys(i),o=0;o<a.length;o++){var s=a[o];n[s]=n[s]||{},extend(n[s],i[s])}},t.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},t.prototype._getOrCreateChild=function(n){var i=this._children[this._childCursor];return(!i||!(i instanceof n))&&(i=new n),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},t.prototype._updatePlainTexts=function(){var n=this.style,i=n.font||DEFAULT_FONT,a=n.padding,o=getStyleText(n),s=parsePlainText(o,n),l=needDrawBackground(n),u=!!n.backgroundColor,c=s.outerHeight,f=s.outerWidth,d=s.contentWidth,g=s.lines,v=s.lineHeight,M=this._defaultStyle,P=n.x||0,R=n.y||0,I=n.align||M.align||"left",$=n.verticalAlign||M.verticalAlign||"top",N=P,F=adjustTextY(R,s.contentHeight,$);if(l||a){var V=adjustTextX(P,f,I),H=adjustTextY(R,c,$);l&&this._renderBackground(n,n,V,H,f,c)}F+=v/2,a&&(N=getTextXForPadding(P,I,a),$==="top"?F+=a[0]:$==="bottom"&&(F-=a[2]));for(var G=0,Y=!1,W=getFill("fill"in n?n.fill:(Y=!0,M.fill)),q=getStroke("stroke"in n?n.stroke:!u&&(!M.autoStroke||Y)?(G=DEFAULT_STROKE_LINE_WIDTH,M.stroke):null),X=n.textShadowBlur>0,K=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),Q=s.calculatedLineHeight,te=0;te<g.length;te++){var ae=this._getOrCreateChild(TSpan$1),re=ae.createStyle();ae.useStyle(re),re.text=g[te],re.x=N,re.y=F,I&&(re.textAlign=I),re.textBaseline="middle",re.opacity=n.opacity,re.strokeFirst=!0,X&&(re.shadowBlur=n.textShadowBlur||0,re.shadowColor=n.textShadowColor||"transparent",re.shadowOffsetX=n.textShadowOffsetX||0,re.shadowOffsetY=n.textShadowOffsetY||0),re.stroke=q,re.fill=W,q&&(re.lineWidth=n.lineWidth||G,re.lineDash=n.lineDash,re.lineDashOffset=n.lineDashOffset||0),re.font=i,setSeparateFont(re,n),F+=v,K&&ae.setBoundingRect(new BoundingRect$1(adjustTextX(re.x,n.width,re.textAlign),adjustTextY(re.y,Q,re.textBaseline),d,Q))}},t.prototype._updateRichTexts=function(){var n=this.style,i=getStyleText(n),a=parseRichText(i,n),o=a.width,s=a.outerWidth,l=a.outerHeight,u=n.padding,c=n.x||0,f=n.y||0,d=this._defaultStyle,g=n.align||d.align,v=n.verticalAlign||d.verticalAlign,M=adjustTextX(c,s,g),P=adjustTextY(f,l,v),R=M,I=P;u&&(R+=u[3],I+=u[0]);var $=R+o;needDrawBackground(n)&&this._renderBackground(n,n,M,P,s,l);for(var N=!!n.backgroundColor,F=0;F<a.lines.length;F++){for(var V=a.lines[F],H=V.tokens,G=H.length,Y=V.lineHeight,W=V.width,q=0,X=R,K=$,Q=G-1,te=void 0;q<G&&(te=H[q],!te.align||te.align==="left");)this._placeToken(te,n,Y,I,X,"left",N),W-=te.width,X+=te.width,q++;for(;Q>=0&&(te=H[Q],te.align==="right");)this._placeToken(te,n,Y,I,K,"right",N),W-=te.width,K-=te.width,Q--;for(X+=(o-(X-R)-($-K)-W)/2;q<=Q;)te=H[q],this._placeToken(te,n,Y,I,X+te.width/2,"center",N),X+=te.width,q++;I+=Y}},t.prototype._placeToken=function(n,i,a,o,s,l,u){var c=i.rich[n.styleName]||{};c.text=n.text;var f=n.verticalAlign,d=o+a/2;f==="top"?d=o+n.height/2:f==="bottom"&&(d=o+a-n.height/2);var g=!n.isLineHolder&&needDrawBackground(c);g&&this._renderBackground(c,i,l==="right"?s-n.width:l==="center"?s-n.width/2:s,d-n.height/2,n.width,n.height);var v=!!c.backgroundColor,M=n.textPadding;M&&(s=getTextXForPadding(s,l,M),d-=n.height/2-M[0]-n.innerHeight/2);var P=this._getOrCreateChild(TSpan$1),R=P.createStyle();P.useStyle(R);var I=this._defaultStyle,$=!1,N=0,F=getFill("fill"in c?c.fill:"fill"in i?i.fill:($=!0,I.fill)),V=getStroke("stroke"in c?c.stroke:"stroke"in i?i.stroke:!v&&!u&&(!I.autoStroke||$)?(N=DEFAULT_STROKE_LINE_WIDTH,I.stroke):null),H=c.textShadowBlur>0||i.textShadowBlur>0;R.text=n.text,R.x=s,R.y=d,H&&(R.shadowBlur=c.textShadowBlur||i.textShadowBlur||0,R.shadowColor=c.textShadowColor||i.textShadowColor||"transparent",R.shadowOffsetX=c.textShadowOffsetX||i.textShadowOffsetX||0,R.shadowOffsetY=c.textShadowOffsetY||i.textShadowOffsetY||0),R.textAlign=l,R.textBaseline="middle",R.font=n.font||DEFAULT_FONT,R.opacity=retrieve3(c.opacity,i.opacity,1),setSeparateFont(R,c),V&&(R.lineWidth=retrieve3(c.lineWidth,i.lineWidth,N),R.lineDash=retrieve2(c.lineDash,i.lineDash),R.lineDashOffset=i.lineDashOffset||0,R.stroke=V),F&&(R.fill=F);var G=n.contentWidth,Y=n.contentHeight;P.setBoundingRect(new BoundingRect$1(adjustTextX(R.x,G,R.textAlign),adjustTextY(R.y,Y,R.textBaseline),G,Y))},t.prototype._renderBackground=function(n,i,a,o,s,l){var u=n.backgroundColor,c=n.borderWidth,f=n.borderColor,d=u&&u.image,g=u&&!d,v=n.borderRadius,M=this,P,R;if(g||n.lineHeight||c&&f){P=this._getOrCreateChild(Rect$2),P.useStyle(P.createStyle()),P.style.fill=null;var I=P.shape;I.x=a,I.y=o,I.width=s,I.height=l,I.r=v,P.dirtyShape()}if(g){var $=P.style;$.fill=u||null,$.fillOpacity=retrieve2(n.fillOpacity,1)}else if(d){R=this._getOrCreateChild(ZRImage$1),R.onload=function(){M.dirtyStyle()};var N=R.style;N.image=u.image,N.x=a,N.y=o,N.width=s,N.height=l}if(c&&f){var $=P.style;$.lineWidth=c,$.stroke=f,$.strokeOpacity=retrieve2(n.strokeOpacity,1),$.lineDash=n.borderDash,$.lineDashOffset=n.borderDashOffset||0,P.strokeContainThreshold=0,P.hasFill()&&P.hasStroke()&&($.strokeFirst=!0,$.lineWidth*=2)}var F=(P||R).style;F.shadowBlur=n.shadowBlur||0,F.shadowColor=n.shadowColor||"transparent",F.shadowOffsetX=n.shadowOffsetX||0,F.shadowOffsetY=n.shadowOffsetY||0,F.opacity=retrieve3(n.opacity,i.opacity,1)},t.makeFont=function(n){var i="";return hasSeparateFont(n)&&(i=[n.fontStyle,n.fontWeight,parseFontSize(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),i&&trim(i)||n.textFont||n.font},t}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?DEFAULT_FONT_SIZE+"px":r+"px"}function setSeparateFont(r,t){for(var n=0;n<FONT_PARTS.length;n++){var i=FONT_PARTS[n],a=t[i];a!=null&&(r[i]=a)}}function hasSeparateFont(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function normalizeTextStyle(r){return normalizeStyle(r),each$5(r.rich,normalizeStyle),r}function normalizeStyle(r){if(r){r.font=ZRText.makeFont(r);var t=r.align;t==="middle"&&(t="center"),r.align=t==null||VALID_TEXT_ALIGN[t]?t:"left";var n=r.verticalAlign;n==="center"&&(n="middle"),r.verticalAlign=n==null||VALID_TEXT_VERTICAL_ALIGN[n]?n:"top";var i=r.padding;i&&(r.padding=normalizeCssArray$1(r.padding))}}function getStroke(r,t){return r==null||t<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function getFill(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function getTextXForPadding(r,t,n){return t==="right"?r-n[1]:t==="center"?r+n[3]/2-n[1]/2:r+n[3]}function getStyleText(r){var t=r.text;return t!=null&&(t+=""),t}function needDrawBackground(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(r,t,n,i){if(i){var a=getECData(i);a.dataIndex=n,a.dataType=t,a.seriesIndex=r,i.type==="group"&&i.traverse(function(o){var s=getECData(o);s.seriesIndex=r,s.dataIndex=n,s.dataType=t})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(r){return r!=null&&r!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(r){if(isString(r)){var t=liftedColorCache.get(r);return t||(t=lift(r,-.1),liftedColorCache.put(r,t)),t}else if(isGradientObject(r)){var n=extend({},r);return n.colorStops=map$1(r.colorStops,function(i){return{offset:i.offset,color:lift(i.color,-.1)}}),n}return r}function doChangeHoverState(r,t,n){r.onHoverStateChange&&(r.hoverState||0)!==n&&r.onHoverStateChange(t),r.hoverState=n}function singleEnterEmphasis(r){doChangeHoverState(r,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(r){r.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(r){doChangeHoverState(r,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(r){r.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(r){r.selected=!0}function singleLeaveSelect(r){r.selected=!1}function updateElementState(r,t,n){t(r,n)}function traverseUpdateState(r,t,n){updateElementState(r,t,n),r.isGroup&&r.traverse(function(i){updateElementState(i,t,n)})}function setStatesFlag(r,t){switch(t){case"emphasis":r.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":r.hoverState=HOVER_STATE_NORMAL;break;case"blur":r.hoverState=HOVER_STATE_BLUR;break;case"select":r.selected=!0}}function getFromStateStyle(r,t,n,i){for(var a=r.style,o={},s=0;s<t.length;s++){var l=t[s],u=a[l];o[l]=u??(i&&i[l])}for(var s=0;s<r.animators.length;s++){var c=r.animators[s];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&c.targetName==="style"&&c.saveTo(o,t)}return o}function createEmphasisDefaultState(r,t,n,i){var a=n&&indexOf(n,"select")>=0,o=!1;if(r instanceof Path$1){var s=getSavedStates(r),l=a&&s.selectFill||s.normalFill,u=a&&s.selectStroke||s.normalStroke;if(hasFillOrStroke(l)||hasFillOrStroke(u)){i=i||{};var c=i.style||{};c.fill==="inherit"?(o=!0,i=extend({},i),c=extend({},c),c.fill=l):!hasFillOrStroke(c.fill)&&hasFillOrStroke(l)?(o=!0,i=extend({},i),c=extend({},c),c.fill=liftColor(l)):!hasFillOrStroke(c.stroke)&&hasFillOrStroke(u)&&(o||(i=extend({},i),c=extend({},c)),c.stroke=liftColor(u)),i.style=c}}if(i&&i.z2==null){o||(i=extend({},i));var f=r.z2EmphasisLift;i.z2=r.z2+(f??Z2_EMPHASIS_LIFT)}return i}function createSelectDefaultState(r,t,n){if(n&&n.z2==null){n=extend({},n);var i=r.z2SelectLift;n.z2=r.z2+(i??Z2_SELECT_LIFT)}return n}function createBlurDefaultState(r,t,n){var i=indexOf(r.currentStates,t)>=0,a=r.style.opacity,o=i?null:getFromStateStyle(r,["opacity"],t,{opacity:1});n=n||{};var s=n.style||{};return s.opacity==null&&(n=extend({},n),s=extend({opacity:i?a:o.opacity*.1},s),n.style=s),n}function elementStateProxy(r,t){var n=this.states[r];if(this.style){if(r==="emphasis")return createEmphasisDefaultState(this,r,t,n);if(r==="blur")return createBlurDefaultState(this,r,n);if(r==="select")return createSelectDefaultState(this,r,n)}return n}function setDefaultStateProxy(r){r.stateProxy=elementStateProxy;var t=r.getTextContent(),n=r.getTextGuideLine();t&&(t.stateProxy=elementStateProxy),n&&(n.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(r,t){!shouldSilent(r,t)&&!r.__highByOuter&&traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(r,t){!shouldSilent(r,t)&&!r.__highByOuter&&traverseUpdateState(r,singleLeaveEmphasis)}function enterEmphasis(r,t){r.__highByOuter|=1<<(t||0),traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasis(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&traverseUpdateState(r,singleLeaveEmphasis)}function enterBlur(r){traverseUpdateState(r,singleEnterBlur)}function leaveBlur(r){traverseUpdateState(r,singleLeaveBlur)}function enterSelect(r){traverseUpdateState(r,singleEnterSelect)}function leaveSelect(r){traverseUpdateState(r,singleLeaveSelect)}function shouldSilent(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function allLeaveBlur(r){var t=r.getModel(),n=[],i=[];t.eachComponent(function(a,o){var s=getComponentStates(o),l=a==="series",u=l?r.getViewOfSeriesModel(o):r.getViewOfComponentModel(o);!l&&i.push(u),s.isBlured&&(u.group.traverse(function(c){singleLeaveBlur(c)}),l&&n.push(o)),s.isBlured=!1}),each$5(i,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(n,!1,t)})}function blurSeries(r,t,n,i){var a=i.getModel();n=n||"coordinateSystem";function o(c,f){for(var d=0;d<f.length;d++){var g=c.getItemGraphicEl(f[d]);g&&leaveBlur(g)}}if(r!=null&&!(!t||t==="none")){var s=a.getSeriesByIndex(r),l=s.coordinateSystem;l&&l.master&&(l=l.master);var u=[];a.eachSeries(function(c){var f=s===c,d=c.coordinateSystem;d&&d.master&&(d=d.master);var g=d&&l?d===l:f;if(!(n==="series"&&!f||n==="coordinateSystem"&&!g||t==="series"&&f)){var v=i.getViewOfSeriesModel(c);if(v.group.traverse(function(R){R.__highByOuter&&f&&t==="self"||singleEnterBlur(R)}),isArrayLike(t))o(c.getData(),t);else if(isObject$2(t))for(var M=keys(t),P=0;P<M.length;P++)o(c.getData(M[P]),t[M[P]]);u.push(c),getComponentStates(c).isBlured=!0}}),a.eachComponent(function(c,f){if(c!=="series"){var d=i.getViewOfComponentModel(f);d&&d.toggleBlurSeries&&d.toggleBlurSeries(u,!0,a)}})}}function blurComponent(r,t,n){if(!(r==null||t==null)){var i=n.getModel().getComponent(r,t);if(i){getComponentStates(i).isBlured=!0;var a=n.getViewOfComponentModel(i);!a||!a.focusBlurEnabled||a.group.traverse(function(o){singleEnterBlur(o)})}}}function blurSeriesFromHighlightPayload(r,t,n){var i=r.seriesIndex,a=r.getData(t.dataType);if(a){var o=queryDataIndex(a,t);o=(isArray(o)?o[0]:o)||0;var s=a.getItemGraphicEl(o);if(!s)for(var l=a.count(),u=0;!s&&u<l;)s=a.getItemGraphicEl(u++);if(s){var c=getECData(s);blurSeries(i,c.focus,c.blurScope,n)}else{var f=r.get(["emphasis","focus"]),d=r.get(["emphasis","blurScope"]);f!=null&&blurSeries(i,f,d,n)}}}function findComponentHighDownDispatchers(r,t,n,i){var a={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||t==null||n==null)return a;var o=i.getModel().getComponent(r,t);if(!o)return a;var s=i.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return a;for(var l=s.findHighDownDispatchers(n),u,c=0;c<l.length;c++)if(getECData(l[c]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:l}}function handleGlobalMouseOverForHighDown(r,t,n){var i=getECData(r),a=findComponentHighDownDispatchers(i.componentMainType,i.componentIndex,i.componentHighDownName,n),o=a.dispatchers,s=a.focusSelf;o?(s&&blurComponent(i.componentMainType,i.componentIndex,n),each$5(o,function(l){return enterEmphasisWhenMouseOver(l,t)})):(blurSeries(i.seriesIndex,i.focus,i.blurScope,n),i.focus==="self"&&blurComponent(i.componentMainType,i.componentIndex,n),enterEmphasisWhenMouseOver(r,t))}function handleGlobalMouseOutForHighDown(r,t,n){allLeaveBlur(n);var i=getECData(r),a=findComponentHighDownDispatchers(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;a?each$5(a,function(o){return leaveEmphasisWhenMouseOut(o,t)}):leaveEmphasisWhenMouseOut(r,t)}function toggleSelectionFromPayload(r,t,n){if(isSelectChangePayload(t)){var i=t.dataType,a=r.getData(i),o=queryDataIndex(a,t);isArray(o)||(o=[o]),r[t.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":t.type===SELECT_ACTION_TYPE?"select":"unselect"](o,i)}}function updateSeriesElementSelection(r){var t=r.getAllData();each$5(t,function(n){var i=n.data,a=n.type;i.eachItemGraphicEl(function(o,s){r.isSelected(s,a)?enterSelect(o):leaveSelect(o)})})}function getAllSelectedIndices(r){var t=[];return r.eachSeries(function(n){var i=n.getAllData();each$5(i,function(a){a.data;var o=a.type,s=n.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:n.seriesIndex};o!=null&&(l.dataType=o),t.push(l)}})}),t}function enableHoverEmphasis(r,t,n){setAsHighDownDispatcher(r,!0),traverseUpdateState(r,setDefaultStateProxy),enableHoverFocus(r,t,n)}function disableHoverEmphasis(r){setAsHighDownDispatcher(r,!1)}function toggleHoverEmphasis(r,t,n,i){i?disableHoverEmphasis(r):enableHoverEmphasis(r,t,n)}function enableHoverFocus(r,t,n){var i=getECData(r);t!=null?(i.focus=t,i.blurScope=n):i.focus&&(i.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(r,t,n,i){n=n||"itemStyle";for(var a=0;a<OTHER_STATES.length;a++){var o=OTHER_STATES[a],s=t.getModel([o,n]),l=r.ensureState(o);l.style=i?i(s):s[defaultStyleGetterMap[n]]()}}function setAsHighDownDispatcher(r,t){var n=t===!1,i=r;r.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!n||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function isHighDownDispatcher(r){return!!(r&&r.__highDownDispatcher)}function getHighlightDigit(r){var t=_highlightKeyMap[r];return t==null&&_highlightNextDigit<=32&&(t=_highlightKeyMap[r]=_highlightNextDigit++),t}function isSelectChangePayload(r){var t=r.type;return t===SELECT_ACTION_TYPE||t===UNSELECT_ACTION_TYPE||t===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(r){var t=r.type;return t===HIGHLIGHT_ACTION_TYPE||t===DOWNPLAY_ACTION_TYPE}function savePathStates(r){var t=getSavedStates(r);t.normalFill=r.style.fill,t.normalStroke=r.style.stroke;var n=r.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var CMD=PathProxy$1.CMD,points=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(r,t){if(t){var n=r.data,i=r.len(),a,o,s,l,u,c,f=CMD.M,d=CMD.C,g=CMD.L,v=CMD.R,M=CMD.A,P=CMD.Q;for(s=0,l=0;s<i;){switch(a=n[s++],l=s,o=0,a){case f:o=1;break;case g:o=1;break;case d:o=3;break;case P:o=2;break;case M:var R=t[4],I=t[5],$=mathSqrt$2(t[0]*t[0]+t[1]*t[1]),N=mathSqrt$2(t[2]*t[2]+t[3]*t[3]),F=mathAtan2(-t[1]/N,t[0]/$);n[s]*=$,n[s++]+=R,n[s]*=N,n[s++]+=I,n[s++]*=$,n[s++]*=N,n[s++]+=F,n[s++]+=F,s+=2,l=s;break;case v:c[0]=n[s++],c[1]=n[s++],applyTransform$1(c,c,t),n[l++]=c[0],n[l++]=c[1],c[0]+=n[s++],c[1]+=n[s++],applyTransform$1(c,c,t),n[l++]=c[0],n[l++]=c[1]}for(u=0;u<o;u++){var V=points[u];V[0]=n[s++],V[1]=n[s++],applyTransform$1(V,V,t),n[l++]=V[0],n[l++]=V[1]}}r.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$1=Math.sin,mathCos$1=Math.cos,PI$3=Math.PI;function vMag(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vRatio(r,t){return(r[0]*t[0]+r[1]*t[1])/(vMag(r)*vMag(t))}function vAngle(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(vRatio(r,t))}function processArc(r,t,n,i,a,o,s,l,u,c,f){var d=u*(PI$3/180),g=mathCos$1(d)*(r-n)/2+mathSin$1(d)*(t-i)/2,v=-1*mathSin$1(d)*(r-n)/2+mathCos$1(d)*(t-i)/2,M=g*g/(s*s)+v*v/(l*l);M>1&&(s*=mathSqrt$1(M),l*=mathSqrt$1(M));var P=(a===o?-1:1)*mathSqrt$1((s*s*(l*l)-s*s*(v*v)-l*l*(g*g))/(s*s*(v*v)+l*l*(g*g)))||0,R=P*s*v/l,I=P*-l*g/s,$=(r+n)/2+mathCos$1(d)*R-mathSin$1(d)*I,N=(t+i)/2+mathSin$1(d)*R+mathCos$1(d)*I,F=vAngle([1,0],[(g-R)/s,(v-I)/l]),V=[(g-R)/s,(v-I)/l],H=[(-1*g-R)/s,(-1*v-I)/l],G=vAngle(V,H);if(vRatio(V,H)<=-1&&(G=PI$3),vRatio(V,H)>=1&&(G=0),G<0){var Y=Math.round(G/PI$3*1e6)/1e6;G=PI$3*2+Y%2*PI$3}f.addData(c,$,N,s,l,F,G,d,o)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(r){var t=new PathProxy$1;if(!r)return t;var n=0,i=0,a=n,o=i,s,l=PathProxy$1.CMD,u=r.match(commandReg);if(!u)return t;for(var c=0;c<u.length;c++){for(var f=u[c],d=f.charAt(0),g=void 0,v=f.match(numberReg)||[],M=v.length,P=0;P<M;P++)v[P]=parseFloat(v[P]);for(var R=0;R<M;){var I=void 0,$=void 0,N=void 0,F=void 0,V=void 0,H=void 0,G=void 0,Y=n,W=i,q=void 0,X=void 0;switch(d){case"l":n+=v[R++],i+=v[R++],g=l.L,t.addData(g,n,i);break;case"L":n=v[R++],i=v[R++],g=l.L,t.addData(g,n,i);break;case"m":n+=v[R++],i+=v[R++],g=l.M,t.addData(g,n,i),a=n,o=i,d="l";break;case"M":n=v[R++],i=v[R++],g=l.M,t.addData(g,n,i),a=n,o=i,d="L";break;case"h":n+=v[R++],g=l.L,t.addData(g,n,i);break;case"H":n=v[R++],g=l.L,t.addData(g,n,i);break;case"v":i+=v[R++],g=l.L,t.addData(g,n,i);break;case"V":i=v[R++],g=l.L,t.addData(g,n,i);break;case"C":g=l.C,t.addData(g,v[R++],v[R++],v[R++],v[R++],v[R++],v[R++]),n=v[R-2],i=v[R-1];break;case"c":g=l.C,t.addData(g,v[R++]+n,v[R++]+i,v[R++]+n,v[R++]+i,v[R++]+n,v[R++]+i),n+=v[R-2],i+=v[R-1];break;case"S":I=n,$=i,q=t.len(),X=t.data,s===l.C&&(I+=n-X[q-4],$+=i-X[q-3]),g=l.C,Y=v[R++],W=v[R++],n=v[R++],i=v[R++],t.addData(g,I,$,Y,W,n,i);break;case"s":I=n,$=i,q=t.len(),X=t.data,s===l.C&&(I+=n-X[q-4],$+=i-X[q-3]),g=l.C,Y=n+v[R++],W=i+v[R++],n+=v[R++],i+=v[R++],t.addData(g,I,$,Y,W,n,i);break;case"Q":Y=v[R++],W=v[R++],n=v[R++],i=v[R++],g=l.Q,t.addData(g,Y,W,n,i);break;case"q":Y=v[R++]+n,W=v[R++]+i,n+=v[R++],i+=v[R++],g=l.Q,t.addData(g,Y,W,n,i);break;case"T":I=n,$=i,q=t.len(),X=t.data,s===l.Q&&(I+=n-X[q-4],$+=i-X[q-3]),n=v[R++],i=v[R++],g=l.Q,t.addData(g,I,$,n,i);break;case"t":I=n,$=i,q=t.len(),X=t.data,s===l.Q&&(I+=n-X[q-4],$+=i-X[q-3]),n+=v[R++],i+=v[R++],g=l.Q,t.addData(g,I,$,n,i);break;case"A":N=v[R++],F=v[R++],V=v[R++],H=v[R++],G=v[R++],Y=n,W=i,n=v[R++],i=v[R++],g=l.A,processArc(Y,W,n,i,H,G,N,F,V,g,t);break;case"a":N=v[R++],F=v[R++],V=v[R++],H=v[R++],G=v[R++],Y=n,W=i,n+=v[R++],i+=v[R++],g=l.A,processArc(Y,W,n,i,H,G,N,F,V,g,t);break}}(d==="z"||d==="Z")&&(g=l.Z,t.addData(g),n=a,i=o),s=g}return t.toStatic(),t}var SVGPath=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(Path$1);function isPathProxy(r){return r.setData!=null}function createPathOptions(r,t){var n=createPathProxyFromString(r),i=extend({},t);return i.buildPath=function(a){if(isPathProxy(a)){a.setData(n.data);var o=a.getContext();o&&a.rebuildPath(o,1)}else{var o=a;n.rebuildPath(o,1)}},i.applyTransform=function(a){transformPath(n,a),this.dirtyShape()},i}function createFromString(r,t){return new SVGPath(createPathOptions(r,t))}function extendFromString(r,t){var n=createPathOptions(r,t),i=function(a){__extends(o,a);function o(s){var l=a.call(this,s)||this;return l.applyTransform=n.applyTransform,l.buildPath=n.buildPath,l}return o}(SVGPath);return i}function mergePath$1(r,t){for(var n=[],i=r.length,a=0;a<i;a++){var o=r[a];n.push(o.getUpdatedPathProxy(!0))}var s=new Path$1(t);return s.createPathProxy(),s.buildPath=function(l){if(isPathProxy(l)){l.appendPath(n);var u=l.getContext();u&&l.rebuildPath(u,1)}},s}var CircleShape=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),Circle=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new CircleShape},t.prototype.buildPath=function(n,i){n.moveTo(i.cx+i.r,i.cy),n.arc(i.cx,i.cy,i.r,0,Math.PI*2)},t}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Ellipse=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new EllipseShape},t.prototype.buildPath=function(n,i){var a=.5522848,o=i.cx,s=i.cy,l=i.rx,u=i.ry,c=l*a,f=u*a;n.moveTo(o-l,s),n.bezierCurveTo(o-l,s-f,o-c,s-u,o,s-u),n.bezierCurveTo(o+c,s-u,o+l,s-f,o+l,s),n.bezierCurveTo(o+l,s+f,o+c,s+u,o,s+u),n.bezierCurveTo(o-c,s+u,o-l,s+f,o-l,s),n.closePath()},t}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$2=Math.PI,PI2$1=PI$2*2,mathSin=Math.sin,mathCos=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs=Math.abs,mathSqrt=Math.sqrt,mathMax$2=Math.max,mathMin$2=Math.min,e=1e-4;function intersect(r,t,n,i,a,o,s,l){var u=n-r,c=i-t,f=s-a,d=l-o,g=d*u-f*c;if(!(g*g<e))return g=(f*(t-o)-d*(r-a))/g,[r+g*u,t+g*c]}function computeCornerTangents(r,t,n,i,a,o,s){var l=r-n,u=t-i,c=(s?o:-o)/mathSqrt(l*l+u*u),f=c*u,d=-c*l,g=r+f,v=t+d,M=n+f,P=i+d,R=(g+M)/2,I=(v+P)/2,$=M-g,N=P-v,F=$*$+N*N,V=a-o,H=g*P-M*v,G=(N<0?-1:1)*mathSqrt(mathMax$2(0,V*V*F-H*H)),Y=(H*N-$*G)/F,W=(-H*$-N*G)/F,q=(H*N+$*G)/F,X=(-H*$+N*G)/F,K=Y-R,Q=W-I,te=q-R,ae=X-I;return K*K+Q*Q>te*te+ae*ae&&(Y=q,W=X),{cx:Y,cy:W,x0:-f,y0:-d,x1:Y*(a/V-1),y1:W*(a/V-1)}}function normalizeCornerRadius(r){var t;if(isArray(r)){var n=r.length;if(!n)return r;n===1?t=[r[0],r[0],0,0]:n===2?t=[r[0],r[0],r[1],r[1]]:n===3?t=r.concat(r[2]):t=r}else t=[r,r,r,r];return t}function buildPath$1(r,t){var n,i=mathMax$2(t.r,0),a=mathMax$2(t.r0||0,0),o=i>0,s=a>0;if(!(!o&&!s)){if(o||(i=a,a=0),a>i){var l=i;i=a,a=l}var u=t.startAngle,c=t.endAngle;if(!(isNaN(u)||isNaN(c))){var f=t.cx,d=t.cy,g=!!t.clockwise,v=mathAbs(c-u),M=v>PI2$1&&v%PI2$1;if(M>e&&(v=M),!(i>e))r.moveTo(f,d);else if(v>PI2$1-e)r.moveTo(f+i*mathCos(u),d+i*mathSin(u)),r.arc(f,d,i,u,c,!g),a>e&&(r.moveTo(f+a*mathCos(c),d+a*mathSin(c)),r.arc(f,d,a,c,u,g));else{var P=void 0,R=void 0,I=void 0,$=void 0,N=void 0,F=void 0,V=void 0,H=void 0,G=void 0,Y=void 0,W=void 0,q=void 0,X=void 0,K=void 0,Q=void 0,te=void 0,ae=i*mathCos(u),re=i*mathSin(u),de=a*mathCos(c),se=a*mathSin(c),ce=v>e;if(ce){var ye=t.cornerRadius;ye&&(n=normalizeCornerRadius(ye),P=n[0],R=n[1],I=n[2],$=n[3]);var Te=mathAbs(i-a)/2;if(N=mathMin$2(Te,I),F=mathMin$2(Te,$),V=mathMin$2(Te,P),H=mathMin$2(Te,R),W=G=mathMax$2(N,F),q=Y=mathMax$2(V,H),(G>e||Y>e)&&(X=i*mathCos(c),K=i*mathSin(c),Q=a*mathCos(u),te=a*mathSin(u),v<PI$2)){var me=intersect(ae,re,Q,te,X,K,de,se);if(me){var xe=ae-me[0],Ce=re-me[1],Pe=X-me[0],Ae=K-me[1],De=1/mathSin(mathACos((xe*Pe+Ce*Ae)/(mathSqrt(xe*xe+Ce*Ce)*mathSqrt(Pe*Pe+Ae*Ae)))/2),Oe=mathSqrt(me[0]*me[0]+me[1]*me[1]);W=mathMin$2(G,(i-Oe)/(De+1)),q=mathMin$2(Y,(a-Oe)/(De-1))}}}if(!ce)r.moveTo(f+ae,d+re);else if(W>e){var Re=mathMin$2(I,W),we=mathMin$2($,W),_e=computeCornerTangents(Q,te,ae,re,i,Re,g),Z=computeCornerTangents(X,K,de,se,i,we,g);r.moveTo(f+_e.cx+_e.x0,d+_e.cy+_e.y0),W<G&&Re===we?r.arc(f+_e.cx,d+_e.cy,W,mathATan2(_e.y0,_e.x0),mathATan2(Z.y0,Z.x0),!g):(Re>0&&r.arc(f+_e.cx,d+_e.cy,Re,mathATan2(_e.y0,_e.x0),mathATan2(_e.y1,_e.x1),!g),r.arc(f,d,i,mathATan2(_e.cy+_e.y1,_e.cx+_e.x1),mathATan2(Z.cy+Z.y1,Z.cx+Z.x1),!g),we>0&&r.arc(f+Z.cx,d+Z.cy,we,mathATan2(Z.y1,Z.x1),mathATan2(Z.y0,Z.x0),!g))}else r.moveTo(f+ae,d+re),r.arc(f,d,i,u,c,!g);if(!(a>e)||!ce)r.lineTo(f+de,d+se);else if(q>e){var Re=mathMin$2(P,q),we=mathMin$2(R,q),_e=computeCornerTangents(de,se,X,K,a,-we,g),Z=computeCornerTangents(ae,re,Q,te,a,-Re,g);r.lineTo(f+_e.cx+_e.x0,d+_e.cy+_e.y0),q<Y&&Re===we?r.arc(f+_e.cx,d+_e.cy,q,mathATan2(_e.y0,_e.x0),mathATan2(Z.y0,Z.x0),!g):(we>0&&r.arc(f+_e.cx,d+_e.cy,we,mathATan2(_e.y0,_e.x0),mathATan2(_e.y1,_e.x1),!g),r.arc(f,d,a,mathATan2(_e.cy+_e.y1,_e.cx+_e.x1),mathATan2(Z.cy+Z.y1,Z.cx+Z.x1),g),Re>0&&r.arc(f+Z.cx,d+Z.cy,Re,mathATan2(Z.y1,Z.x1),mathATan2(Z.y0,Z.x0),!g))}else r.lineTo(f+de,d+se),r.arc(f,d,a,c,u,g)}r.closePath()}}}var SectorShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),Sector=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new SectorShape},t.prototype.buildPath=function(n,i){buildPath$1(n,i)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),Ring=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new RingShape},t.prototype.buildPath=function(n,i){var a=i.cx,o=i.cy,s=Math.PI*2;n.moveTo(a+i.r,o),n.arc(a,o,i.r,0,s,!1),n.moveTo(a+i.r0,o),n.arc(a,o,i.r0,0,s,!0)},t}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(r,t,n,i){var a=[],o=[],s=[],l=[],u,c,f,d;if(i){f=[1/0,1/0],d=[-1/0,-1/0];for(var g=0,v=r.length;g<v;g++)min$1(f,f,r[g]),max$1(d,d,r[g]);min$1(f,f,i[0]),max$1(d,d,i[1])}for(var g=0,v=r.length;g<v;g++){var M=r[g];if(n)u=r[g?g-1:v-1],c=r[(g+1)%v];else if(g===0||g===v-1){a.push(clone$1(r[g]));continue}else u=r[g-1],c=r[g+1];sub(o,c,u),scale$2(o,o,t);var P=distance(M,u),R=distance(M,c),I=P+R;I!==0&&(P/=I,R/=I),scale$2(s,o,-P),scale$2(l,o,R);var $=add([],M,s),N=add([],M,l);i&&(max$1($,$,f),min$1($,$,d),max$1(N,N,f),min$1(N,N,d)),a.push($),a.push(N)}return n&&a.push(a.shift()),a}function buildPath(r,t,n){var i=t.smooth,a=t.points;if(a&&a.length>=2){if(i){var o=smoothBezier(a,i,n,t.smoothConstraint);r.moveTo(a[0][0],a[0][1]);for(var s=a.length,l=0;l<(n?s:s-1);l++){var u=o[l*2],c=o[l*2+1],f=a[(l+1)%s];r.bezierCurveTo(u[0],u[1],c[0],c[1],f[0],f[1])}}else{r.moveTo(a[0][0],a[0][1]);for(var l=1,d=a.length;l<d;l++)r.lineTo(a[l][0],a[l][1])}n&&r.closePath()}}var PolygonShape=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Polygon=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new PolygonShape},t.prototype.buildPath=function(n,i){buildPath(n,i,!0)},t}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),Polyline=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new PolylineShape},t.prototype.buildPath=function(n,i){buildPath(n,i,!1)},t}(Path$1);Polyline.prototype.type="polyline";const Polyline$1=Polyline;var subPixelOptimizeOutputShape={},LineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),Line=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new LineShape},t.prototype.buildPath=function(n,i){var a,o,s,l;if(this.subPixelOptimize){var u=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,i,this.style);a=u.x1,o=u.y1,s=u.x2,l=u.y2}else a=i.x1,o=i.y1,s=i.x2,l=i.y2;var c=i.percent;c!==0&&(n.moveTo(a,o),c<1&&(s=a*(1-c)+s*c,l=o*(1-c)+l*c),n.lineTo(s,l))},t.prototype.pointAt=function(n){var i=this.shape;return[i.x1*(1-n)+i.x2*n,i.y1*(1-n)+i.y2*n]},t}(Path$1);Line.prototype.type="line";const Line$1=Line;var out=[],BezierCurveShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function someVectorAt(r,t,n){var i=r.cpx2,a=r.cpy2;return i!=null||a!=null?[(n?cubicDerivativeAt:cubicAt)(r.x1,r.cpx1,r.cpx2,r.x2,t),(n?cubicDerivativeAt:cubicAt)(r.y1,r.cpy1,r.cpy2,r.y2,t)]:[(n?quadraticDerivativeAt:quadraticAt)(r.x1,r.cpx1,r.x2,t),(n?quadraticDerivativeAt:quadraticAt)(r.y1,r.cpy1,r.y2,t)]}var BezierCurve=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new BezierCurveShape},t.prototype.buildPath=function(n,i){var a=i.x1,o=i.y1,s=i.x2,l=i.y2,u=i.cpx1,c=i.cpy1,f=i.cpx2,d=i.cpy2,g=i.percent;g!==0&&(n.moveTo(a,o),f==null||d==null?(g<1&&(quadraticSubdivide(a,u,s,g,out),u=out[1],s=out[2],quadraticSubdivide(o,c,l,g,out),c=out[1],l=out[2]),n.quadraticCurveTo(u,c,s,l)):(g<1&&(cubicSubdivide(a,u,f,s,g,out),u=out[1],f=out[2],s=out[3],cubicSubdivide(o,c,d,l,g,out),c=out[1],d=out[2],l=out[3]),n.bezierCurveTo(u,c,f,d,s,l)))},t.prototype.pointAt=function(n){return someVectorAt(this.shape,n,!1)},t.prototype.tangentAt=function(n){var i=someVectorAt(this.shape,n,!0);return normalize$1(i,i)},t}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Arc=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ArcShape},t.prototype.buildPath=function(n,i){var a=i.cx,o=i.cy,s=Math.max(i.r,0),l=i.startAngle,u=i.endAngle,c=i.clockwise,f=Math.cos(l),d=Math.sin(l);n.moveTo(f*s+a,d*s+o),n.arc(a,o,s,l,u,!c)},t}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,i=this.shapeChanged(),a=0;a<n.length;a++)i=i||n[a].shapeChanged();i&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],i=this.getGlobalScale(),a=0;a<n.length;a++)n[a].path||n[a].createPathProxy(),n[a].path.setScale(i[0],i[1],n[a].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,i){for(var a=i.paths||[],o=0;o<a.length;o++)a[o].buildPath(n,a[o].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],i=0;i<n.length;i++)n[i].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},t}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function r(t){this.colorStops=t||[]}return r.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},r}();const Gradient$1=Gradient;var LinearGradient=function(r){__extends(t,r);function t(n,i,a,o,s,l){var u=r.call(this,s)||this;return u.x=n??0,u.y=i??0,u.x2=a??1,u.y2=o??0,u.type="linear",u.global=l||!1,u}return t}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(r){__extends(t,r);function t(n,i,a,o,s){var l=r.call(this,o)||this;return l.x=n??.5,l.y=i??.5,l.r=a??.5,l.type="radial",l.global=s||!1,l}return t}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function r(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Point$1;for(var i=0;i<2;i++)this._axes[i]=new Point$1;t&&this.fromBoundingRect(t,n)}return r.prototype.fromBoundingRect=function(t,n){var i=this._corners,a=this._axes,o=t.x,s=t.y,l=o+t.width,u=s+t.height;if(i[0].set(o,s),i[1].set(l,s),i[2].set(l,u),i[3].set(o,u),n)for(var c=0;c<4;c++)i[c].transform(n);Point$1.sub(a[0],i[1],i[0]),Point$1.sub(a[1],i[3],i[0]),a[0].normalize(),a[1].normalize();for(var c=0;c<2;c++)this._origin[c]=a[c].dot(i[0])},r.prototype.intersect=function(t,n){var i=!0,a=!n;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,t,minTv,maxTv,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(t,this,minTv,maxTv,a,-1)&&(i=!1,a)||a||Point$1.copy(n,i?minTv:maxTv),i},r.prototype._intersectCheckOneSide=function(t,n,i,a,o,s){for(var l=!0,u=0;u<2;u++){var c=this._axes[u];if(this._getProjMinMaxOnAxis(u,t._corners,extent),this._getProjMinMaxOnAxis(u,n._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(l=!1,o)return l;var f=Math.abs(extent2[0]-extent[1]),d=Math.abs(extent[0]-extent2[1]);Math.min(f,d)>a.len()&&(f<d?Point$1.scale(a,c,-f*s):Point$1.scale(a,c,d*s))}else if(i){var f=Math.abs(extent2[0]-extent[1]),d=Math.abs(extent[0]-extent2[1]);Math.min(f,d)<i.len()&&(f<d?Point$1.scale(i,c,f*s):Point$1.scale(i,c,-d*s))}}return l},r.prototype._getProjMinMaxOnAxis=function(t,n,i){for(var a=this._axes[t],o=this._origin,s=n[0].dot(a)+o[t],l=s,u=s,c=1;c<n.length;c++){var f=n[c].dot(a)+o[t];l=Math.min(f,l),u=Math.max(f,u)}i[0]=l,i[1]=u},r}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,i){n.call(i,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,i){i?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,i){i=i||!1;for(var a=0;a<n.length;a++)this.addDisplayable(n[a],i)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var i=this._cursor;i<this._displayables.length;i++)n&&n(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)n&&n(this._temporaryDisplayables[i])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var i=this._displayables[n];i.parent=this,i.update(),i.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.parent=this,i.update(),i.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new BoundingRect$1(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var a=this._displayables[i],o=a.getBoundingRect().clone();a.needLocalTransform()&&o.applyTransform(a.getLocalTransform(m)),n.union(o)}this._rect=n}return this._rect},t.prototype.contain=function(n,i){var a=this.transformCoordToLocal(n,i),o=this.getBoundingRect();if(o.contain(a[0],a[1]))for(var s=0;s<this._displayables.length;s++){var l=this._displayables[s];if(l.contain(n,i))return!0}return!1},t}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(r,t,n,i,a){var o;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();o=s&&s.animation}var l=t&&t.isAnimationEnabled(),u=r==="update";if(l){var c=void 0,f=void 0,d=void 0;i?(c=retrieve2(i.duration,200),f=retrieve2(i.easing,"cubicOut"),d=0):(c=t.getShallow(u?"animationDurationUpdate":"animationDuration"),f=t.getShallow(u?"animationEasingUpdate":"animationEasing"),d=t.getShallow(u?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(c=o.duration),o.easing!=null&&(f=o.easing),o.delay!=null&&(d=o.delay)),isFunction(d)&&(d=d(n,a)),isFunction(c)&&(c=c(n));var g={duration:c||0,delay:d,easing:f};return g}else return null}function animateOrSetProps(r,t,n,i,a,o,s){var l=!1,u;isFunction(a)?(s=o,o=a,a=null):isObject$2(a)&&(o=a.cb,s=a.during,l=a.isFrom,u=a.removeOpt,a=a.dataIndex);var c=r==="leave";c||t.stopAnimation("leave");var f=getAnimationConfig(r,i,a,c?u||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,a):null);if(f&&f.duration>0){var d=f.duration,g=f.delay,v=f.easing,M={duration:d,delay:g||0,easing:v,done:o,force:!!o||!!s,setToFinal:!c,scope:r,during:s};l?t.animateFrom(n,M):t.animateTo(n,M)}else t.stopAnimation(),!l&&t.attr(n),s&&s(1),o&&o()}function updateProps$1(r,t,n,i,a,o){animateOrSetProps("update",r,t,n,i,a,o)}function initProps(r,t,n,i,a,o){animateOrSetProps("enter",r,t,n,i,a,o)}function isElementRemoved(r){if(!r.__zr)return!0;for(var t=0;t<r.animators.length;t++){var n=r.animators[t];if(n.scope==="leave")return!0}return!1}function removeElement(r,t,n,i,a,o){isElementRemoved(r)||animateOrSetProps("leave",r,t,n,i,a,o)}function fadeOutDisplayable(r,t,n,i){r.removeTextContent(),r.removeTextGuideLine(),removeElement(r,{style:{opacity:0}},t,n,i)}function removeElementWithFadeOut(r,t,n){function i(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(a){a.isGroup||fadeOutDisplayable(a,t,n,i)}):fadeOutDisplayable(r,t,n,i)}function saveOldStyle(r){transitionStore(r).oldStyle=r.style}var mathMax$1=Math.max,mathMin$1=Math.min,_customShapeMap={};function extendShape(r){return Path$1.extend(r)}var extendPathFromString=extendFromString;function extendPath(r,t){return extendPathFromString(r,t)}function registerShape(r,t){_customShapeMap[r]=t}function getShapeClass(r){if(_customShapeMap.hasOwnProperty(r))return _customShapeMap[r]}function makePath(r,t,n,i){var a=createFromString(r,t);return n&&(i==="center"&&(n=centerGraphic(n,a.getBoundingRect())),resizePath(a,n)),a}function makeImage(r,t,n){var i=new ZRImage$1({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(a){if(n==="center"){var o={width:a.width,height:a.height};i.setStyle(centerGraphic(t,o))}}});return i}function centerGraphic(r,t){var n=t.width/t.height,i=r.height*n,a;i<=r.width?a=r.height:(i=r.width,a=i/n);var o=r.x+r.width/2,s=r.y+r.height/2;return{x:o-i/2,y:s-a/2,width:i,height:a}}var mergePath=mergePath$1;function resizePath(r,t){if(r.applyTransform){var n=r.getBoundingRect(),i=n.calculateTransform(t);r.applyTransform(i)}}function subPixelOptimizeLine(r,t){return subPixelOptimizeLine$1(r,r,{lineWidth:t}),r}function subPixelOptimizeRect(r){return subPixelOptimizeRect$1(r.shape,r.shape,r.style),r}var subPixelOptimize=subPixelOptimize$1;function getTransform(r,t){for(var n=identity([]);r&&r!==t;)mul(n,r.getLocalTransform(),n),r=r.parent;return n}function applyTransform(r,t,n){return t&&!isArrayLike(t)&&(t=Transformable.getLocalTransform(t)),n&&(t=invert([],t)),applyTransform$1([],r,t)}function transformDirection(r,t,n){var i=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[r==="left"?-i:r==="right"?i:0,r==="top"?-a:r==="bottom"?a:0];return o=applyTransform(o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function isNotGroup(r){return!r.isGroup}function isPath(r){return r.shape!=null}function groupTransition(r,t,n){if(!r||!t)return;function i(s){var l={};return s.traverse(function(u){isNotGroup(u)&&u.anid&&(l[u.anid]=u)}),l}function a(s){var l={x:s.x,y:s.y,rotation:s.rotation};return isPath(s)&&(l.shape=extend({},s.shape)),l}var o=i(r);t.traverse(function(s){if(isNotGroup(s)&&s.anid){var l=o[s.anid];if(l){var u=a(s);s.attr(a(l)),updateProps$1(s,u,n,getECData(s).dataIndex)}}})}function clipPointsByRect(r,t){return map$1(r,function(n){var i=n[0];i=mathMax$1(i,t.x),i=mathMin$1(i,t.x+t.width);var a=n[1];return a=mathMax$1(a,t.y),a=mathMin$1(a,t.y+t.height),[i,a]})}function clipRectByRect(r,t){var n=mathMax$1(r.x,t.x),i=mathMin$1(r.x+r.width,t.x+t.width),a=mathMax$1(r.y,t.y),o=mathMin$1(r.y+r.height,t.y+t.height);if(i>=n&&o>=a)return{x:n,y:a,width:i-n,height:o-a}}function createIcon(r,t,n){var i=extend({rectHover:!0},t),a=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(a.image=r.slice(8),defaults(a,n),new ZRImage$1(i)):makePath(r.replace("path://",""),i,n,"center")}function linePolygonIntersect(r,t,n,i,a){for(var o=0,s=a[a.length-1];o<a.length;o++){var l=a[o];if(lineLineIntersect(r,t,n,i,l[0],l[1],s[0],s[1]))return!0;s=l}}function lineLineIntersect(r,t,n,i,a,o,s,l){var u=n-r,c=i-t,f=s-a,d=l-o,g=crossProduct2d(f,d,u,c);if(nearZero(g))return!1;var v=r-a,M=t-o,P=crossProduct2d(v,M,u,c)/g;if(P<0||P>1)return!1;var R=crossProduct2d(v,M,f,d)/g;return!(R<0||R>1)}function crossProduct2d(r,t,n,i){return r*i-n*t}function nearZero(r){return r<=1e-6&&r>=-1e-6}function setTooltipConfig(r){var t=r.itemTooltipOption,n=r.componentModel,i=r.itemName,a=isString(t)?{formatter:t}:t,o=n.mainType,s=n.componentIndex,l={componentType:o,name:i,$vars:["name"]};l[o+"Index"]=s;var u=r.formatterParamsExtra;u&&each$5(keys(u),function(f){hasOwn(l,f)||(l[f]=u[f],l.$vars.push(f))});var c=getECData(r.el);c.componentMainType=o,c.componentIndex=s,c.tooltipConfig={name:i,option:defaults({content:i,formatterParams:l},a)}}function traverseElement(r,t){var n;r.isGroup&&(n=t(r)),n||r.traverse(t)}function traverseElements(r,t){if(r)if(isArray(r))for(var n=0;n<r.length;n++)traverseElement(r[n],t);else traverseElement(r,t)}registerShape("circle",Circle$1);registerShape("ellipse",Ellipse$1);registerShape("sector",Sector$1);registerShape("ring",Ring$1);registerShape("polygon",Polygon$1);registerShape("polyline",Polyline$1);registerShape("rect",Rect$2);registerShape("line",Line$1);registerShape("bezierCurve",BezierCurve$1);registerShape("arc",Arc$1);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$3,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$1,LinearGradient:LinearGradient$1,OrientedBoundingRect:OrientedBoundingRect$1,Path:Path$1,Point:Point$1,Polygon:Polygon$1,Polyline:Polyline$1,RadialGradient:RadialGradient$1,Rect:Rect$2,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform,groupTransition,initProps,isElementRemoved,lineLineIntersect,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(r,t){for(var n=0;n<SPECIAL_STATES.length;n++){var i=SPECIAL_STATES[n],a=t[i],o=r.ensureState(i);o.style=o.style||{},o.style.text=a}var s=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:t.normal}),r.useStates(s,!0)}function getLabelText(r,t,n){var i=r.labelFetcher,a=r.labelDataIndex,o=r.labelDimIndex,s=t.normal,l;i&&(l=i.getFormattedLabel(a,"normal",null,o,s&&s.get("formatter"),n!=null?{interpolatedValue:n}:null)),l==null&&(l=isFunction(r.defaultText)?r.defaultText(a,r,n):r.defaultText);for(var u={normal:l},c=0;c<SPECIAL_STATES.length;c++){var f=SPECIAL_STATES[c],d=t[f];u[f]=retrieve2(i?i.getFormattedLabel(a,f,null,o,d&&d.get("formatter")):null,l)}return u}function setLabelStyle(r,t,n,i){n=n||EMPTY_OBJ;for(var a=r instanceof ZRText$1,o=!1,s=0;s<DISPLAY_STATES.length;s++){var l=t[DISPLAY_STATES[s]];if(l&&l.getShallow("show")){o=!0;break}}var u=a?r:r.getTextContent();if(o){a||(u||(u=new ZRText$1,r.setTextContent(u)),r.stateProxy&&(u.stateProxy=r.stateProxy));var c=getLabelText(n,t),f=t.normal,d=!!f.getShallow("show"),g=createTextStyle(f,i&&i.normal,n,!1,!a);g.text=c.normal,a||r.setTextConfig(createTextConfig(f,n,!1));for(var s=0;s<SPECIAL_STATES.length;s++){var v=SPECIAL_STATES[s],l=t[v];if(l){var M=u.ensureState(v),P=!!retrieve2(l.getShallow("show"),d);if(P!==d&&(M.ignore=!P),M.style=createTextStyle(l,i&&i[v],n,!0,!a),M.style.text=c[v],!a){var R=r.ensureState(v);R.textConfig=createTextConfig(l,n,!0)}}}u.silent=!!f.getShallow("silent"),u.style.x!=null&&(g.x=u.style.x),u.style.y!=null&&(g.y=u.style.y),u.ignore=!d,u.useStyle(g),u.dirty(),n.enableTextSetter&&(labelInner(u).setLabelText=function(I){var $=getLabelText(n,t,I);setLabelText(u,$)})}else u&&(u.ignore=!0);r.dirty()}function getLabelStatesModels(r,t){t=t||"label";for(var n={normal:r.getModel(t)},i=0;i<SPECIAL_STATES.length;i++){var a=SPECIAL_STATES[i];n[a]=r.getModel([a,t])}return n}function createTextStyle(r,t,n,i,a){var o={};return setTextStyleCommon(o,r,n,i,a),t&&extend(o,t),o}function createTextConfig(r,t,n){t=t||{};var i={},a,o=r.getShallow("rotate"),s=retrieve2(r.getShallow("distance"),n?null:5),l=r.getShallow("offset");return a=r.getShallow("position")||(n?null:"inside"),a==="outside"&&(a=t.defaultOutsidePosition||"top"),a!=null&&(i.position=a),l!=null&&(i.offset=l),o!=null&&(o*=Math.PI/180,i.rotation=o),s!=null&&(i.distance=s),i.outsideFill=r.get("color")==="inherit"?t.inheritColor||null:"auto",i}function setTextStyleCommon(r,t,n,i,a){n=n||EMPTY_OBJ;var o=t.ecModel,s=o&&o.option.textStyle,l=getRichItemNames(t),u;if(l){u={};for(var c in l)if(l.hasOwnProperty(c)){var f=t.getModel(["rich",c]);setTokenTextStyle(u[c]={},f,s,n,i,a,!1,!0)}}u&&(r.rich=u);var d=t.get("overflow");d&&(r.overflow=d);var g=t.get("minMargin");g!=null&&(r.margin=g),setTokenTextStyle(r,t,s,n,i,a,!0,!1)}function getRichItemNames(r){for(var t;r&&r!==r.ecModel;){var n=(r.option||EMPTY_OBJ).rich;if(n){t=t||{};for(var i=keys(n),a=0;a<i.length;a++){var o=i[a];t[o]=1}}r=r.parentModel}return t}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(r,t,n,i,a,o,s,l){n=!a&&n||EMPTY_OBJ;var u=i&&i.inheritColor,c=t.getShallow("color"),f=t.getShallow("textBorderColor"),d=retrieve2(t.getShallow("opacity"),n.opacity);(c==="inherit"||c==="auto")&&(u?c=u:c=null),(f==="inherit"||f==="auto")&&(u?f=u:f=null),o||(c=c||n.color,f=f||n.textBorderColor),c!=null&&(r.fill=c),f!=null&&(r.stroke=f);var g=retrieve2(t.getShallow("textBorderWidth"),n.textBorderWidth);g!=null&&(r.lineWidth=g);var v=retrieve2(t.getShallow("textBorderType"),n.textBorderType);v!=null&&(r.lineDash=v);var M=retrieve2(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);M!=null&&(r.lineDashOffset=M),!a&&d==null&&!l&&(d=i&&i.defaultOpacity),d!=null&&(r.opacity=d),!a&&!o&&r.fill==null&&i.inheritColor&&(r.fill=i.inheritColor);for(var P=0;P<TEXT_PROPS_WITH_GLOBAL.length;P++){var R=TEXT_PROPS_WITH_GLOBAL[P],I=retrieve2(t.getShallow(R),n[R]);I!=null&&(r[R]=I)}for(var P=0;P<TEXT_PROPS_SELF.length;P++){var R=TEXT_PROPS_SELF[P],I=t.getShallow(R);I!=null&&(r[R]=I)}if(r.verticalAlign==null){var $=t.getShallow("baseline");$!=null&&(r.verticalAlign=$)}if(!s||!i.disableBox){for(var P=0;P<TEXT_PROPS_BOX.length;P++){var R=TEXT_PROPS_BOX[P],I=t.getShallow(R);I!=null&&(r[R]=I)}var N=t.getShallow("borderType");N!=null&&(r.borderDash=N),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&u&&(r.backgroundColor=u),(r.borderColor==="auto"||r.borderColor==="inherit")&&u&&(r.borderColor=u)}}function getFont(r,t){var n=t&&t.getModel("textStyle");return trim([r.fontStyle||n&&n.getShallow("fontStyle")||"",r.fontWeight||n&&n.getShallow("fontWeight")||"",(r.fontSize||n&&n.getShallow("fontSize")||12)+"px",r.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner(),PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function r(){}return r.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(PATH_COLOR):null)},r.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<textStyleParams.length;i++)n[textStyleParams[i]]=this.getShallow(textStyleParams[i]);return tmpText.useStyle(n),tmpText.update(),tmpText.getBoundingRect()},r}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function r(){}return r.prototype.getLineStyle=function(t){return getLineStyle(this,t)},r}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function r(){}return r.prototype.getItemStyle=function(t,n){return getItemStyle(this,t,n)},r}(),Model=function(){function r(t,n,i){this.parentModel=n,this.ecModel=i,this.option=t}return r.prototype.init=function(t,n,i){},r.prototype.mergeOption=function(t,n){merge(this.option,t,!0)},r.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},r.prototype.getShallow=function(t,n){var i=this.option,a=i==null?i:i[t];if(a==null&&!n){var o=this.parentModel;o&&(a=o.getShallow(t))}return a},r.prototype.getModel=function(t,n){var i=t!=null,a=i?this.parsePath(t):null,o=i?this._doGet(a):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new r(o,n,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var t=this.constructor;return new t(clone$2(this.option))},r.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},r.prototype.resolveParentPath=function(t){return t},r.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(t,n){var i=this.option;if(!t)return i;for(var a=0;a<t.length&&!(t[a]&&(i=i&&typeof i=="object"?i[t[a]]:null,i==null));a++);return i==null&&n&&(i=n._doGet(this.resolveParentPath(t),n.parentModel)),i},r}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(r){return[r||"",base++].join("_")}function enableSubTypeDefaulter(r){var t={};r.registerSubTypeDefaulter=function(n,i){var a=parseClassType(n);t[a.main]=i},r.determineSubType=function(n,i){var a=i.type;if(!a){var o=parseClassType(n).main;r.hasSubTypes(n)&&t[o]&&(a=t[o](i))}return a}}function enableTopologicalTravel(r,t){r.topologicalTravel=function(o,s,l,u){if(!o.length)return;var c=n(s),f=c.graph,d=c.noEntryList,g={};for(each$5(o,function($){g[$]=!0});d.length;){var v=d.pop(),M=f[v],P=!!g[v];P&&(l.call(u,v,M.originalDeps.slice()),delete g[v]),each$5(M.successor,P?I:R)}each$5(g,function(){var $="";throw new Error($)});function R($){f[$].entryCount--,f[$].entryCount===0&&d.push($)}function I($){g[$]=!0,R($)}};function n(o){var s={},l=[];return each$5(o,function(u){var c=i(s,u),f=c.originalDeps=t(u),d=a(f,o);c.entryCount=d.length,c.entryCount===0&&l.push(u),each$5(d,function(g){indexOf(c.predecessor,g)<0&&c.predecessor.push(g);var v=i(s,g);indexOf(v.successor,g)<0&&v.successor.push(u)})}),{graph:s,noEntryList:l}}function i(o,s){return o[s]||(o[s]={predecessor:[],successor:[]}),o[s]}function a(o,s){var l=[];return each$5(o,function(u){indexOf(s,u)>=0&&l.push(u)}),l}}function inheritDefaultOption(r,t){return merge(merge({},r,!0),t,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return r.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(r,t){r=r.toUpperCase(),localeModels[r]=new Model$1(t),localeStorage[r]=t}function createLocaleObject(r){if(isString(r)){var t=localeStorage[r.toUpperCase()]||{};return r===LOCALE_ZH||r===LOCALE_EN?clone$2(t):merge(clone$2(t),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$2(r),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(r){return localeModels[r]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(r,t){return r+="","0000".substr(0,t-r.length)+r}function getPrimaryTimeUnit(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function isPrimaryTimeUnit(r){return r===getPrimaryTimeUnit(r)}function getDefaultFormatPrecisionOfInterval(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(r,t,n,i){var a=parseDate(r),o=a[fullYearGetterName(n)](),s=a[monthGetterName(n)]()+1,l=Math.floor((s-1)/3)+1,u=a[dateGetterName(n)](),c=a["get"+(n?"UTC":"")+"Day"](),f=a[hoursGetterName(n)](),d=(f-1)%12+1,g=a[minutesGetterName(n)](),v=a[secondsGetterName(n)](),M=a[millisecondsGetterName(n)](),P=i instanceof Model$1?i:getLocaleModel(i||SYSTEM_LANG)||getDefaultLocaleModel(),R=P.getModel("time"),I=R.get("month"),$=R.get("monthAbbr"),N=R.get("dayOfWeek"),F=R.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,pad(o%100+"",2)).replace(/{Q}/g,l+"").replace(/{MMMM}/g,I[s-1]).replace(/{MMM}/g,$[s-1]).replace(/{MM}/g,pad(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,pad(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,N[c]).replace(/{ee}/g,F[c]).replace(/{e}/g,c+"").replace(/{HH}/g,pad(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,pad(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,pad(g,2)).replace(/{m}/g,g+"").replace(/{ss}/g,pad(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,pad(M,3)).replace(/{S}/g,M+"")}function leveledFormat(r,t,n,i,a){var o=null;if(isString(n))o=n;else if(isFunction(n))o=n(r.value,t,{level:r.level});else{var s=extend({},defaultLeveledFormatter);if(r.level>0)for(var l=0;l<primaryTimeUnits.length;++l)s[primaryTimeUnits[l]]="{primary|"+s[primaryTimeUnits[l]]+"}";var u=n?n.inherit===!1?n:defaults(n,s):s,c=getUnitFromValue(r.value,a);if(u[c])o=u[c];else if(u.inherit){for(var f=timeUnits.indexOf(c),l=f-1;l>=0;--l)if(u[c]){o=u[c];break}o=o||s.none}if(isArray(o)){var d=r.level==null?0:r.level>=0?r.level:o.length+r.level;d=Math.min(d,o.length-1),o=o[d]}}return format(new Date(r.value),o,a,i)}function getUnitFromValue(r,t){var n=parseDate(r),i=n[monthGetterName(t)]()+1,a=n[dateGetterName(t)](),o=n[hoursGetterName(t)](),s=n[minutesGetterName(t)](),l=n[secondsGetterName(t)](),u=n[millisecondsGetterName(t)](),c=u===0,f=c&&l===0,d=f&&s===0,g=d&&o===0,v=g&&a===1,M=v&&i===1;return M?"year":v?"month":g?"day":d?"hour":f?"minute":c?"second":"millisecond"}function getUnitValue(r,t,n){var i=isNumber(r)?parseDate(r):r;switch(t=t||getUnitFromValue(r,n),t){case"year":return i[fullYearGetterName(n)]();case"half-year":return i[monthGetterName(n)]()>=6?1:0;case"quarter":return Math.floor((i[monthGetterName(n)]()+1)/4);case"month":return i[monthGetterName(n)]();case"day":return i[dateGetterName(n)]();case"half-day":return i[hoursGetterName(n)]()/24;case"hour":return i[hoursGetterName(n)]();case"minute":return i[minutesGetterName(n)]();case"second":return i[secondsGetterName(n)]();case"millisecond":return i[millisecondsGetterName(n)]()}}function fullYearGetterName(r){return r?"getUTCFullYear":"getFullYear"}function monthGetterName(r){return r?"getUTCMonth":"getMonth"}function dateGetterName(r){return r?"getUTCDate":"getDate"}function hoursGetterName(r){return r?"getUTCHours":"getHours"}function minutesGetterName(r){return r?"getUTCMinutes":"getMinutes"}function secondsGetterName(r){return r?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(r){return r?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(r){return r?"setUTCFullYear":"setFullYear"}function monthSetterName(r){return r?"setUTCMonth":"setMonth"}function dateSetterName(r){return r?"setUTCDate":"setDate"}function hoursSetterName(r){return r?"setUTCHours":"setHours"}function minutesSetterName(r){return r?"setUTCMinutes":"setMinutes"}function secondsSetterName(r){return r?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(r){return r?"setUTCMilliseconds":"setMilliseconds"}function addCommas(r){if(!isNumeric(r))return isString(r)?r:"-";var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function toCamelCase(r,t){return r=(r||"").toLowerCase().replace(/-(.)/g,function(n,i){return i.toUpperCase()}),t&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(r,t,n){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(f){return f&&trim(f)?f:"-"}function o(f){return!!(f!=null&&!isNaN(f)&&isFinite(f))}var s=t==="time",l=r instanceof Date;if(s||l){var u=s?parseDate(r):r;if(isNaN(+u)){if(l)return"-"}else return format(u,i,n)}if(t==="ordinal")return isStringSafe(r)?a(r):isNumber(r)&&o(r)?r+"":"-";var c=numericToNumber(r);return o(c)?addCommas(c):isStringSafe(r)?a(r):typeof r=="boolean"?r+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(r,t){return"{"+r+(t??"")+"}"};function formatTpl(r,t,n){isArray(t)||(t=[t]);var i=t.length;if(!i)return"";for(var a=t[0].$vars||[],o=0;o<a.length;o++){var s=TPL_VAR_ALIAS[o];r=r.replace(wrapVar(s),wrapVar(s,0))}for(var l=0;l<i;l++)for(var u=0;u<a.length;u++){var c=t[l][a[u]];r=r.replace(wrapVar(TPL_VAR_ALIAS[u],l),n?encodeHTML(c):c)}return r}function getTooltipMarker(r,t){var n=isString(r)?{color:r,extraCssText:t}:r||{},i=n.color,a=n.type;t=n.extraCssText;var o=n.renderMode||"html";if(!i)return"";if(o==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(i)+";"+(t||"")+'"></span>';var s=n.markerId||"markerX";return{renderMode:o,content:"{"+s+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}function convertToColorString(r,t){return t=t||"transparent",isString(r)?r:isObject$2(r)&&r.colorStops&&(r.colorStops[0]||{}).color||t}var each$4=each$5,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(r,t,n,i,a){var o=0,s=0;i==null&&(i=1/0),a==null&&(a=1/0);var l=0;t.eachChild(function(u,c){var f=u.getBoundingRect(),d=t.childAt(c+1),g=d&&d.getBoundingRect(),v,M;if(r==="horizontal"){var P=f.width+(g?-g.x+f.x:0);v=o+P,v>i||u.newline?(o=0,v=P,s+=l+n,l=f.height):l=Math.max(l,f.height)}else{var R=f.height+(g?-g.y+f.y:0);M=s+R,M>a||u.newline?(o+=l+n,s=0,M=R,l=f.width):l=Math.max(l,f.width)}u.newline||(u.x=o,u.y=s,u.markRedraw(),r==="horizontal"?o=v+n:s=M+n)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getLayoutRect(r,t,n){n=normalizeCssArray(n||0);var i=t.width,a=t.height,o=parsePercent(r.left,i),s=parsePercent(r.top,a),l=parsePercent(r.right,i),u=parsePercent(r.bottom,a),c=parsePercent(r.width,i),f=parsePercent(r.height,a),d=n[2]+n[0],g=n[1]+n[3],v=r.aspect;switch(isNaN(c)&&(c=i-l-g-o),isNaN(f)&&(f=a-u-d-s),v!=null&&(isNaN(c)&&isNaN(f)&&(v>i/a?c=i*.8:f=a*.8),isNaN(c)&&(c=v*f),isNaN(f)&&(f=c/v)),isNaN(o)&&(o=i-l-c-g),isNaN(s)&&(s=a-u-f-d),r.left||r.right){case"center":o=i/2-c/2-n[3];break;case"right":o=i-c-g;break}switch(r.top||r.bottom){case"middle":case"center":s=a/2-f/2-n[0];break;case"bottom":s=a-f-d;break}o=o||0,s=s||0,isNaN(c)&&(c=i-g-o-(l||0)),isNaN(f)&&(f=a-d-s-(u||0));var M=new BoundingRect$1(o+n[3],s+n[0],c,f);return M.margin=n,M}function fetchLayoutMode(r){var t=r.layoutMode||r.constructor.layoutMode;return isObject$2(t)?t:t?{type:t}:null}function mergeLayoutParam(r,t,n){var i=n&&n.ignoreSize;!isArray(i)&&(i=[i,i]);var a=s(HV_NAMES[0],0),o=s(HV_NAMES[1],1);c(HV_NAMES[0],r,a),c(HV_NAMES[1],r,o);function s(f,d){var g={},v=0,M={},P=0,R=2;if(each$4(f,function(N){M[N]=r[N]}),each$4(f,function(N){l(t,N)&&(g[N]=M[N]=t[N]),u(g,N)&&v++,u(M,N)&&P++}),i[d])return u(t,f[1])?M[f[2]]=null:u(t,f[2])&&(M[f[1]]=null),M;if(P===R||!v)return M;if(v>=R)return g;for(var I=0;I<f.length;I++){var $=f[I];if(!l(g,$)&&l(r,$)){g[$]=r[$];break}}return g}function l(f,d){return f.hasOwnProperty(d)}function u(f,d){return f[d]!=null&&f[d]!=="auto"}function c(f,d,g){each$4(f,function(v){d[v]=g[v]})}}function getLayoutParams(r){return copyLayoutParams({},r)}function copyLayoutParams(r,t){return t&&r&&each$4(LOCATION_PARAMS,function(n){t.hasOwnProperty(n)&&(r[n]=t[n])}),r}var inner$a=makeInner(),ComponentModel=function(r){__extends(t,r);function t(n,i,a){var o=r.call(this,n,i,a)||this;return o.uid=getUID("ec_cpt_model"),o}return t.prototype.init=function(n,i,a){this.mergeDefaultAndTheme(n,a)},t.prototype.mergeDefaultAndTheme=function(n,i){var a=fetchLayoutMode(this),o=a?getLayoutParams(n):{},s=i.getTheme();merge(n,s.get(this.mainType)),merge(n,this.getDefaultOption()),a&&mergeLayoutParam(n,o,a)},t.prototype.mergeOption=function(n,i){merge(this.option,n,!0);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,n,a)},t.prototype.optionUpdated=function(n,i){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!isExtendedClass(n))return n.defaultOption;var i=inner$a(this);if(!i.defaultOption){for(var a=[],o=n;o;){var s=o.prototype.defaultOption;s&&a.push(s),o=o.superClass}for(var l={},u=a.length-1;u>=0;u--)l=merge(l,a[u],!0);i.defaultOption=l}return i.defaultOption},t.prototype.getReferringComponents=function(n,i){var a=n+"Index",o=n+"Id";return queryReferringComponents(this.ecModel,n,{index:this.get(a,!0),id:this.get(o,!0)},i)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(Model$1);mountExtend(ComponentModel,Model$1);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(r){var t=[];return each$5(ComponentModel.getClassesByMainType(r),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=map$1(t,function(n){return parseClassType(n).main}),r!=="dataset"&&indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(r){innerGlobalModel(r).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(r,t,n){var i={},a=querySeriesUpstreamDatasetModel(t);if(!a||!r)return i;var o=[],s=[],l=t.ecModel,u=innerGlobalModel(l).datasetMap,c=a.uid+"_"+n.seriesLayoutBy,f,d;r=r.slice(),each$5(r,function(P,R){var I=isObject$2(P)?P:r[R]={name:P};I.type==="ordinal"&&f==null&&(f=R,d=M(I)),i[I.name]=[]});var g=u.get(c)||u.set(c,{categoryWayDim:d,valueWayDim:0});each$5(r,function(P,R){var I=P.name,$=M(P);if(f==null){var N=g.valueWayDim;v(i[I],N,$),v(s,N,$),g.valueWayDim+=$}else if(f===R)v(i[I],0,$),v(o,0,$);else{var N=g.categoryWayDim;v(i[I],N,$),v(s,N,$),g.categoryWayDim+=$}});function v(P,R,I){for(var $=0;$<I;$++)P.push(R+$)}function M(P){var R=P.dimsDef;return R?R.length:1}return o.length&&(i.itemName=o),s.length&&(i.seriesName=s),i}function makeSeriesEncodeForNameBased(r,t,n){var i={},a=querySeriesUpstreamDatasetModel(r);if(!a)return i;var o=t.sourceFormat,s=t.dimensionsDefine,l;(o===SOURCE_FORMAT_OBJECT_ROWS||o===SOURCE_FORMAT_KEYED_COLUMNS)&&each$5(s,function(f,d){(isObject$2(f)?f.name:f)==="name"&&(l=d)});var u=function(){for(var f={},d={},g=[],v=0,M=Math.min(5,n);v<M;v++){var P=doGuessOrdinal(t.data,o,t.seriesLayoutBy,s,t.startIndex,v);g.push(P);var R=P===BE_ORDINAL.Not;if(R&&f.v==null&&v!==l&&(f.v=v),(f.n==null||f.n===f.v||!R&&g[f.n]===BE_ORDINAL.Not)&&(f.n=v),I(f)&&g[f.n]!==BE_ORDINAL.Not)return f;R||(P===BE_ORDINAL.Might&&d.v==null&&v!==l&&(d.v=v),(d.n==null||d.n===d.v)&&(d.n=v))}function I($){return $.v!=null&&$.n!=null}return I(f)?f:I(d)?d:null}();if(u){i.value=[u.v];var c=l??u.n;i.itemName=[c],i.seriesName=[c]}return i}function querySeriesUpstreamDatasetModel(r){var t=r.get("data",!0);if(!t)return queryReferringComponents(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:queryReferringComponents(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(r,t){return doGuessOrdinal(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function doGuessOrdinal(r,t,n,i,a,o){var s,l=5;if(isTypedArray(r))return BE_ORDINAL.Not;var u,c;if(i){var f=i[o];isObject$2(f)?(u=f.name,c=f.type):isString(f)&&(u=f)}if(c!=null)return c==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(t===SOURCE_FORMAT_ARRAY_ROWS){var d=r;if(n===SERIES_LAYOUT_BY_ROW){for(var g=d[o],v=0;v<(g||[]).length&&v<l;v++)if((s=F(g[a+v]))!=null)return s}else for(var v=0;v<d.length&&v<l;v++){var M=d[a+v];if(M&&(s=F(M[o]))!=null)return s}}else if(t===SOURCE_FORMAT_OBJECT_ROWS){var P=r;if(!u)return BE_ORDINAL.Not;for(var v=0;v<P.length&&v<l;v++){var R=P[v];if(R&&(s=F(R[u]))!=null)return s}}else if(t===SOURCE_FORMAT_KEYED_COLUMNS){var I=r;if(!u)return BE_ORDINAL.Not;var g=I[u];if(!g||isTypedArray(g))return BE_ORDINAL.Not;for(var v=0;v<g.length&&v<l;v++)if((s=F(g[v]))!=null)return s}else if(t===SOURCE_FORMAT_ORIGINAL)for(var $=r,v=0;v<$.length&&v<l;v++){var R=$[v],N=getDataItemValue(R);if(!isArray(N))return BE_ORDINAL.Not;if((s=F(N[o]))!=null)return s}function F(V){var H=isString(V);if(V!=null&&isFinite(V)&&V!=="")return H?BE_ORDINAL.Might:BE_ORDINAL.Not;if(H&&V!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function concatInternalOptions(r,t,n){var i=internalOptionCreatorMap.get(t);if(!i)return n;var a=i(r);return a?n.concat(a):n}var innerColor=makeInner();makeInner();var PaletteMixin=function(){function r(){}return r.prototype.getColorFromPalette=function(t,n,i){var a=normalizeToArray(this.get("color",!0)),o=this.get("colorLayer",!0);return getFromPalette(this,innerColor,a,o,t,n,i)},r.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},r}();function getNearestPalette(r,t){for(var n=r.length,i=0;i<n;i++)if(r[i].length>t)return r[i];return r[n-1]}function getFromPalette(r,t,n,i,a,o,s){o=o||r;var l=t(o),u=l.paletteIdx||0,c=l.paletteNameMap=l.paletteNameMap||{};if(c.hasOwnProperty(a))return c[a];var f=s==null||!i?n:getNearestPalette(i,s);if(f=f||n,!(!f||!f.length)){var d=f[u];return a&&(c[a]=d),l.paletteIdx=(u+1)%f.length,d}}function clearPalette(r,t){t(r).paletteIdx=0,t(r).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(n,i,a,o,s,l){o=o||{},this.option=null,this._theme=new Model$1(o),this._locale=new Model$1(s),this._optionManager=l},t.prototype.setOption=function(n,i,a){var o=normalizeSetOptionInput(i);this._optionManager.setOption(n,a,o),this._resetOption(null,o)},t.prototype.resetOption=function(n,i){return this._resetOption(n,normalizeSetOptionInput(i))},t.prototype._resetOption=function(n,i){var a=!1,o=this._optionManager;if(!n||n==="recreate"){var s=o.mountOption(n==="recreate");!this.option||n==="recreate"?initBase(this,s):(this.restoreData(),this._mergeOption(s,i)),a=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var l=o.getTimelineOption(this);l&&(a=!0,this._mergeOption(l,i))}if(!n||n==="recreate"||n==="media"){var u=o.getMediaOption(this);u.length&&each$5(u,function(c){a=!0,this._mergeOption(c,i)},this)}return a},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,i){var a=this.option,o=this._componentsMap,s=this._componentsCount,l=[],u=createHashMap(),c=i&&i.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$5(n,function(d,g){d!=null&&(ComponentModel$1.hasClass(g)?g&&(l.push(g),u.set(g,!0)):a[g]=a[g]==null?clone$2(d):merge(a[g],d,!0))}),c&&c.each(function(d,g){ComponentModel$1.hasClass(g)&&!u.get(g)&&(l.push(g),u.set(g,!0))}),ComponentModel$1.topologicalTravel(l,ComponentModel$1.getAllClassMainTypes(),f,this);function f(d){var g=concatInternalOptions(this,d,normalizeToArray(n[d])),v=o.get(d),M=v?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll",P=mappingToExists(v,g,M);setComponentTypeToKeyInfo(P,d,ComponentModel$1),a[d]=null,o.set(d,null),s.set(d,0);var R=[],I=[],$=0,N;each$5(P,function(F,V){var H=F.existing,G=F.newOption;if(!G)H&&(H.mergeOption({},this),H.optionUpdated({},!1));else{var Y=d==="series",W=ComponentModel$1.getClass(d,F.keyInfo.subType,!Y);if(!W)return;if(d==="tooltip"){if(N)return;N=!0}if(H&&H.constructor===W)H.name=F.keyInfo.name,H.mergeOption(G,this),H.optionUpdated(G,!1);else{var q=extend({componentIndex:V},F.keyInfo);H=new W(G,this,this,q),extend(H,q),F.brandNew&&(H.__requireNewView=!0),H.init(G,this,this),H.optionUpdated(null,!0)}}H?(R.push(H.option),I.push(H),$++):(R.push(void 0),I.push(void 0))},this),a[d]=R,o.set(d,I),s.set(d,$),d==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},t.prototype.getOption=function(){var n=clone$2(this.option);return each$5(n,function(i,a){if(ComponentModel$1.hasClass(a)){for(var o=normalizeToArray(i),s=o.length,l=!1,u=s-1;u>=0;u--)o[u]&&!isComponentIdInternal(o[u])?l=!0:(o[u]=null,!l&&s--);o.length=s,n[a]=o}}),delete n[OPTION_INNER_KEY],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,i){var a=this._componentsMap.get(n);if(a){var o=a[i||0];if(o)return o;if(i==null){for(var s=0;s<a.length;s++)if(a[s])return a[s]}}},t.prototype.queryComponents=function(n){var i=n.mainType;if(!i)return[];var a=n.index,o=n.id,s=n.name,l=this._componentsMap.get(i);if(!l||!l.length)return[];var u;return a!=null?(u=[],each$5(normalizeToArray(a),function(c){l[c]&&u.push(l[c])})):o!=null?u=queryByIdOrName("id",o,l):s!=null?u=queryByIdOrName("name",s,l):u=filter(l,function(c){return!!c}),filterBySubType(u,n)},t.prototype.findComponents=function(n){var i=n.query,a=n.mainType,o=l(i),s=o?this.queryComponents(o):filter(this._componentsMap.get(a),function(c){return!!c});return u(filterBySubType(s,n));function l(c){var f=a+"Index",d=a+"Id",g=a+"Name";return c&&(c[f]!=null||c[d]!=null||c[g]!=null)?{mainType:a,index:c[f],id:c[d],name:c[g]}:null}function u(c){return n.filter?filter(c,n.filter):c}},t.prototype.eachComponent=function(n,i,a){var o=this._componentsMap;if(isFunction(n)){var s=i,l=n;o.each(function(d,g){for(var v=0;d&&v<d.length;v++){var M=d[v];M&&l.call(s,g,M,M.componentIndex)}})}else for(var u=isString(n)?o.get(n):isObject$2(n)?this.findComponents(n):null,c=0;u&&c<u.length;c++){var f=u[c];f&&i.call(a,f,f.componentIndex)}},t.prototype.getSeriesByName=function(n){var i=convertOptionIdName(n,null);return filter(this._componentsMap.get("series"),function(a){return!!a&&i!=null&&a.name===i})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return filter(this._componentsMap.get("series"),function(i){return!!i&&i.subType===n})},t.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,i){assertSeriesInitialized(this),each$5(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];n.call(i,o,a)},this)},t.prototype.eachRawSeries=function(n,i){each$5(this._componentsMap.get("series"),function(a){a&&n.call(i,a,a.componentIndex)})},t.prototype.eachSeriesByType=function(n,i,a){assertSeriesInitialized(this),each$5(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];s.subType===n&&i.call(a,s,o)},this)},t.prototype.eachRawSeriesByType=function(n,i,a){return each$5(this.getSeriesByType(n),i,a)},t.prototype.isSeriesFiltered=function(n){return assertSeriesInitialized(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,i){assertSeriesInitialized(this);var a=[];each$5(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];n.call(i,s,o)&&a.push(o)},this),this._seriesIndices=a,this._seriesIndicesMap=createHashMap(a)},t.prototype.restoreData=function(n){reCreateSeriesIndices(this);var i=this._componentsMap,a=[];i.each(function(o,s){ComponentModel$1.hasClass(s)&&a.push(s)}),ComponentModel$1.topologicalTravel(a,ComponentModel$1.getAllClassMainTypes(),function(o){each$5(i.get(o),function(s){s&&(o!=="series"||!isNotTargetSeries(s,n))&&s.restoreData()})})},t.internalField=function(){reCreateSeriesIndices=function(n){var i=n._seriesIndices=[];each$5(n._componentsMap.get("series"),function(a){a&&i.push(a.componentIndex)}),n._seriesIndicesMap=createHashMap(i)},assertSeriesInitialized=function(n){},initBase=function(n,i){n.option={},n.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,n._componentsMap=createHashMap({series:[]}),n._componentsCount=createHashMap();var a=i.aria;isObject$2(a)&&a.enabled==null&&(a.enabled=!0),mergeTheme(i,n._theme.option),merge(i,globalDefault,!1),n._mergeOption(i,null)}}(),t}(Model$1);function isNotTargetSeries(r,t){if(t){var n=t.seriesIndex,i=t.seriesId,a=t.seriesName;return n!=null&&r.componentIndex!==n||i!=null&&r.id!==i||a!=null&&r.name!==a}}function mergeTheme(r,t){var n=r.color&&!r.colorLayer;each$5(t,function(i,a){a==="colorLayer"&&n||ComponentModel$1.hasClass(a)||(typeof i=="object"?r[a]=r[a]?merge(r[a],i,!1):clone$2(i):r[a]==null&&(r[a]=i))})}function queryByIdOrName(r,t,n){if(isArray(t)){var i=createHashMap();return each$5(t,function(o){if(o!=null){var s=convertOptionIdName(o,null);s!=null&&i.set(o,!0)}}),filter(n,function(o){return o&&i.get(o[r])})}else{var a=convertOptionIdName(t,null);return filter(n,function(o){return o&&a!=null&&o[r]===a})}}function filterBySubType(r,t){return t.hasOwnProperty("subType")?filter(r,function(n){return n&&n.subType===t.subType}):r}function normalizeSetOptionInput(r){var t=createHashMap();return r&&each$5(normalizeToArray(r.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function r(t){each$5(availableMethods,function(n){this[n]=bind$1(t[n],t)},this)}return r}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(t,n){var i=[];each$5(coordinateSystemCreators,function(a,o){var s=a.create(t,n);i=i.concat(s||[])}),this._coordinateSystems=i},r.prototype.update=function(t,n){each$5(this._coordinateSystems,function(i){i.update&&i.update(t,n)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(t,n){coordinateSystemCreators[t]=n},r.get=function(t){return coordinateSystemCreators[t]},r}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function r(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return r.prototype.setOption=function(t,n,i){t&&(each$5(normalizeToArray(t.series),function(s){s&&s.data&&isTypedArray(s.data)&&setAsPrimitive(s.data)}),each$5(normalizeToArray(t.dataset),function(s){s&&s.source&&isTypedArray(s.source)&&setAsPrimitive(s.source)})),t=clone$2(t);var a=this._optionBackup,o=parseRawOption(t,n,!a);this._newBaseOption=o.baseOption,a?(o.timelineOptions.length&&(a.timelineOptions=o.timelineOptions),o.mediaList.length&&(a.mediaList=o.mediaList),o.mediaDefault&&(a.mediaDefault=o.mediaDefault)):this._optionBackup=o},r.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],clone$2(t?n.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(t){var n,i=this._timelineOptions;if(i.length){var a=t.getComponent("timeline");a&&(n=clone$2(i[a.getCurrentIndex()]))}return n},r.prototype.getMediaOption=function(t){var n=this._api.getWidth(),i=this._api.getHeight(),a=this._mediaList,o=this._mediaDefault,s=[],l=[];if(!a.length&&!o)return l;for(var u=0,c=a.length;u<c;u++)applyMediaQuery(a[u].query,n,i)&&s.push(u);return!s.length&&o&&(s=[-1]),s.length&&!indicesEquals(s,this._currentMediaIndices)&&(l=map$1(s,function(f){return clone$2(f===-1?o.option:a[f].option)})),this._currentMediaIndices=s,l},r}();function parseRawOption(r,t,n){var i=[],a,o,s=r.baseOption,l=r.timeline,u=r.options,c=r.media,f=!!r.media,d=!!(u||l||s&&s.timeline);s?(o=s,o.timeline||(o.timeline=l)):((d||f)&&(r.options=r.media=null),o=r),f&&isArray(c)&&each$5(c,function(v){v&&v.option&&(v.query?i.push(v):a||(a=v))}),g(o),each$5(u,function(v){return g(v)}),each$5(i,function(v){return g(v.option)});function g(v){each$5(t,function(M){M(v,n)})}return{baseOption:o,timelineOptions:u||[],mediaDefault:a,mediaList:i}}function applyMediaQuery(r,t,n){var i={width:t,height:n,aspectratio:t/n},a=!0;return each$5(r,function(o,s){var l=s.match(QUERY_REG);if(!(!l||!l[1]||!l[2])){var u=l[1],c=l[2].toLowerCase();compare(i[c],o,u)||(a=!1)}}),a}function compare(r,t,n){return n==="min"?r>=t:n==="max"?r<=t:r===t}function indicesEquals(r,t){return r.join(",")===t.join(",")}const OptionManager$1=OptionManager;var each$3=each$5,isObject$1=isObject$2,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(r){var t=r&&r.itemStyle;if(t)for(var n=0,i=POSSIBLE_STYLES.length;n<i;n++){var a=POSSIBLE_STYLES[n],o=t.normal,s=t.emphasis;o&&o[a]&&(r[a]=r[a]||{},r[a].normal?merge(r[a].normal,o[a]):r[a].normal=o[a],o[a]=null),s&&s[a]&&(r[a]=r[a]||{},r[a].emphasis?merge(r[a].emphasis,s[a]):r[a].emphasis=s[a],s[a]=null)}}function convertNormalEmphasis(r,t,n){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var i=r[t].normal,a=r[t].emphasis;i&&(n?(r[t].normal=r[t].emphasis=null,defaults(r[t],i)):r[t]=i),a&&(r.emphasis=r.emphasis||{},r.emphasis[t]=a,a.focus&&(r.emphasis.focus=a.focus),a.blurScope&&(r.emphasis.blurScope=a.blurScope))}}function removeEC3NormalStatus(r){convertNormalEmphasis(r,"itemStyle"),convertNormalEmphasis(r,"lineStyle"),convertNormalEmphasis(r,"areaStyle"),convertNormalEmphasis(r,"label"),convertNormalEmphasis(r,"labelLine"),convertNormalEmphasis(r,"upperLabel"),convertNormalEmphasis(r,"edgeLabel")}function compatTextStyle(r,t){var n=isObject$1(r)&&r[t],i=isObject$1(n)&&n.textStyle;if(i)for(var a=0,o=TEXT_STYLE_OPTIONS.length;a<o;a++){var s=TEXT_STYLE_OPTIONS[a];i.hasOwnProperty(s)&&(n[s]=i[s])}}function compatEC3CommonStyles(r){r&&(removeEC3NormalStatus(r),compatTextStyle(r,"label"),r.emphasis&&compatTextStyle(r.emphasis,"label"))}function processSeries(r){if(isObject$1(r)){compatEC2ItemStyle(r),removeEC3NormalStatus(r),compatTextStyle(r,"label"),compatTextStyle(r,"upperLabel"),compatTextStyle(r,"edgeLabel"),r.emphasis&&(compatTextStyle(r.emphasis,"label"),compatTextStyle(r.emphasis,"upperLabel"),compatTextStyle(r.emphasis,"edgeLabel"));var t=r.markPoint;t&&(compatEC2ItemStyle(t),compatEC3CommonStyles(t));var n=r.markLine;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var i=r.markArea;i&&compatEC3CommonStyles(i);var a=r.data;if(r.type==="graph"){a=a||r.nodes;var o=r.links||r.edges;if(o&&!isTypedArray(o))for(var s=0;s<o.length;s++)compatEC3CommonStyles(o[s]);each$5(r.categories,function(c){removeEC3NormalStatus(c)})}if(a&&!isTypedArray(a))for(var s=0;s<a.length;s++)compatEC3CommonStyles(a[s]);if(t=r.markPoint,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)compatEC3CommonStyles(l[s]);if(n=r.markLine,n&&n.data)for(var u=n.data,s=0;s<u.length;s++)isArray(u[s])?(compatEC3CommonStyles(u[s][0]),compatEC3CommonStyles(u[s][1])):compatEC3CommonStyles(u[s]);r.type==="gauge"?(compatTextStyle(r,"axisLabel"),compatTextStyle(r,"title"),compatTextStyle(r,"detail")):r.type==="treemap"?(convertNormalEmphasis(r.breadcrumb,"itemStyle"),each$5(r.levels,function(c){removeEC3NormalStatus(c)})):r.type==="tree"&&removeEC3NormalStatus(r.leaves)}}function toArr(r){return isArray(r)?r:r?[r]:[]}function toObj(r){return(isArray(r)?r[0]:r)||{}}function globalCompatStyle(r,t){each$3(toArr(r.series),function(i){isObject$1(i)&&processSeries(i)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$3(n,function(i){each$3(toArr(r[i]),function(a){a&&(compatTextStyle(a,"axisLabel"),compatTextStyle(a.axisPointer,"label"))})}),each$3(toArr(r.parallel),function(i){var a=i&&i.parallelAxisDefault;compatTextStyle(a,"axisLabel"),compatTextStyle(a&&a.axisPointer,"label")}),each$3(toArr(r.calendar),function(i){convertNormalEmphasis(i,"itemStyle"),compatTextStyle(i,"dayLabel"),compatTextStyle(i,"monthLabel"),compatTextStyle(i,"yearLabel")}),each$3(toArr(r.radar),function(i){compatTextStyle(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),each$3(toArr(r.geo),function(i){isObject$1(i)&&(compatEC3CommonStyles(i),each$3(toArr(i.regions),function(a){compatEC3CommonStyles(a)}))}),each$3(toArr(r.timeline),function(i){compatEC3CommonStyles(i),convertNormalEmphasis(i,"label"),convertNormalEmphasis(i,"itemStyle"),convertNormalEmphasis(i,"controlStyle",!0);var a=i.data;isArray(a)&&each$5(a,function(o){isObject$2(o)&&(convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"))})}),each$3(toArr(r.toolbox),function(i){convertNormalEmphasis(i,"iconStyle"),each$3(i.feature,function(a){convertNormalEmphasis(a,"iconStyle")})}),compatTextStyle(toObj(r.axisPointer),"label"),compatTextStyle(toObj(r.tooltip).axisPointer,"label")}function get(r,t){for(var n=t.split(","),i=r,a=0;a<n.length&&(i=i&&i[n[a]],i!=null);a++);return i}function set(r,t,n,i){for(var a=t.split(","),o=r,s,l=0;l<a.length-1;l++)s=a[l],o[s]==null&&(o[s]={}),o=o[s];(i||o[a[l]]==null)&&(o[a[l]]=n)}function compatLayoutProperties(r){r&&each$5(LAYOUT_PROPERTIES,function(t){t[0]in r&&!(t[1]in r)&&(r[t[1]]=r[t[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(r){var t=r&&r.itemStyle;if(t)for(var n=0;n<BAR_ITEM_STYLE_MAP.length;n++){var i=BAR_ITEM_STYLE_MAP[n][1],a=BAR_ITEM_STYLE_MAP[n][0];t[i]!=null&&(t[a]=t[i])}}function compatPieLabel(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function compatSunburstState(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function compatGraphFocus(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function traverseTree(r,t){if(r)for(var n=0;n<r.length;n++)t(r[n]),r[n]&&traverseTree(r[n].children,t)}function globalBackwardCompat(r,t){globalCompatStyle(r,t),r.series=normalizeToArray(r.series),each$5(r.series,function(n){if(isObject$2(n)){var i=n.type;if(i==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(i==="pie"||i==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),compatPieLabel(n.label);var a=n.data;if(a&&!isTypedArray(a))for(var o=0;o<a.length;o++)compatPieLabel(a[o]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(i==="gauge"){var s=get(n,"pointer.color");s!=null&&set(n,"itemStyle.color",s)}else if(i==="bar"){compatBarItemStyle(n),compatBarItemStyle(n.backgroundStyle),compatBarItemStyle(n.emphasis);var a=n.data;if(a&&!isTypedArray(a))for(var o=0;o<a.length;o++)typeof a[o]=="object"&&(compatBarItemStyle(a[o]),compatBarItemStyle(a[o]&&a[o].emphasis))}else if(i==="sunburst"){var l=n.highlightPolicy;l&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=l)),compatSunburstState(n),traverseTree(n.data,compatSunburstState)}else i==="graph"||i==="sankey"?compatGraphFocus(n):i==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&defaults(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),compatLayoutProperties(n)}}),r.dataRange&&(r.visualMap=r.dataRange),each$5(COMPATITABLE_COMPONENTS,function(n){var i=r[n];i&&(isArray(i)||(i=[i]),each$5(i,function(a){compatLayoutProperties(a)}))})}function dataStack(r){var t=createHashMap();r.eachSeries(function(n){var i=n.get("stack");if(i){var a=t.get(i)||t.set(i,[]),o=n.getData(),s={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:n};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;a.length&&o.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(s)}}),t.each(calculateStack)}function calculateStack(r){each$5(r,function(t,n){var i=[],a=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],s=t.data,l=t.isStackedByIndex,u=t.seriesModel.get("stackStrategy")||"samesign";s.modify(o,function(c,f,d){var g=s.get(t.stackedDimension,d);if(isNaN(g))return a;var v,M;l?M=s.getRawIndex(d):v=s.get(t.stackedByDimension,d);for(var P=NaN,R=n-1;R>=0;R--){var I=r[R];if(l||(M=I.data.rawIndexOf(I.stackedByDimension,v)),M>=0){var $=I.data.getByRawIndex(I.stackResultDimension,M);if(u==="all"||u==="positive"&&$>0||u==="negative"&&$<0||u==="samesign"&&g>=0&&$>0||u==="samesign"&&g<=0&&$<0){g=addSafe(g,$),P=$;break}}}return i[0]=g,i[1]=P,i})})}var SourceImpl=function(){function r(t){this.data=t.data||(t.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=t.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=t.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var i=0;i<n.length;i++){var a=n[i];a.type==null&&guessOrdinal(this,i)===BE_ORDINAL.Must&&(a.type="ordinal")}}return r}();function isSourceInstance(r){return r instanceof SourceImpl}function createSource(r,t,n){n=n||detectSourceFormat(r);var i=t.seriesLayoutBy,a=determineSourceDimensions(r,n,i,t.sourceHeader,t.dimensions),o=new SourceImpl({data:r,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:clone$2(t)});return o}function createSourceFromSeriesDataOption(r){return new SourceImpl({data:r,sourceFormat:isTypedArray(r)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(r){return new SourceImpl({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:clone$2(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function detectSourceFormat(r){var t=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(r))t=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray(r)){r.length===0&&(t=SOURCE_FORMAT_ARRAY_ROWS);for(var n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){if(isArray(a)){t=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$2(a)){t=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$2(r)){for(var o in r)if(hasOwn(r,o)&&isArrayLike(r[o])){t=SOURCE_FORMAT_KEYED_COLUMNS;break}}return t}function determineSourceDimensions(r,t,n,i,a){var o,s;if(!r)return{dimensionsDefine:normalizeDimensionsOption(a),startIndex:s,dimensionsDetectedCount:o};if(t===SOURCE_FORMAT_ARRAY_ROWS){var l=r;i==="auto"||i==null?arrayRowsTravelFirst(function(c){c!=null&&c!=="-"&&(isString(c)?s==null&&(s=1):s=0)},n,l,10):s=isNumber(i)?i:i?1:0,!a&&s===1&&(a=[],arrayRowsTravelFirst(function(c,f){a[f]=c!=null?c+"":""},n,l,1/0)),o=a?a.length:n===SERIES_LAYOUT_BY_ROW?l.length:l[0]?l[0].length:null}else if(t===SOURCE_FORMAT_OBJECT_ROWS)a||(a=objectRowsCollectDimensions(r));else if(t===SOURCE_FORMAT_KEYED_COLUMNS)a||(a=[],each$5(r,function(c,f){a.push(f)}));else if(t===SOURCE_FORMAT_ORIGINAL){var u=getDataItemValue(r[0]);o=isArray(u)&&u.length||1}return{startIndex:s,dimensionsDefine:normalizeDimensionsOption(a),dimensionsDetectedCount:o}}function objectRowsCollectDimensions(r){for(var t=0,n;t<r.length&&!(n=r[t++]););if(n)return keys(n)}function normalizeDimensionsOption(r){if(r){var t=createHashMap();return map$1(r,function(n,i){n=isObject$2(n)?n:{name:n};var a={name:n.name,displayName:n.displayName,type:n.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var o=t.get(a.name);return o?a.name+="-"+o.count++:t.set(a.name,{count:1}),a})}}function arrayRowsTravelFirst(r,t,n,i){if(t===SERIES_LAYOUT_BY_ROW)for(var a=0;a<n.length&&a<i;a++)r(n[a]?n[a][0]:null,a);else for(var o=n[0]||[],a=0;a<o.length&&a<i;a++)r(o[a],a)}function shouldRetrieveDataByName(r){var t=r.sourceFormat;return t===SOURCE_FORMAT_OBJECT_ROWS||t===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function r(t,n){var i=isSourceInstance(t)?t:createSourceFromSeriesDataOption(t);this._source=i;var a=this._data=i.data;i.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=n,this._data=a),mountMethods(this,a,i)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,n){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=function(){var t=r.prototype;t.pure=!1,t.persistent=!0}(),r.internalField=function(){var t;mountMethods=function(s,l,u){var c=u.sourceFormat,f=u.seriesLayoutBy,d=u.startIndex,g=u.dimensionsDefine,v=providerMethods[getMethodMapKey(c,f)];if(extend(s,v),c===SOURCE_FORMAT_TYPED_ARRAY)s.getItem=n,s.count=a,s.fillStorage=i;else{var M=getRawSourceItemGetter(c,f);s.getItem=bind$1(M,null,l,d,g);var P=getRawSourceDataCounter(c,f);s.count=bind$1(P,null,l,d,g)}};var n=function(s,l){s=s-this._offset,l=l||[];for(var u=this._data,c=this._dimSize,f=c*s,d=0;d<c;d++)l[d]=u[f+d];return l},i=function(s,l,u,c){for(var f=this._data,d=this._dimSize,g=0;g<d;g++){for(var v=c[g],M=v[0]==null?1/0:v[0],P=v[1]==null?-1/0:v[1],R=l-s,I=u[g],$=0;$<R;$++){var N=f[$*d+g];I[s+$]=N,N<M&&(M=N),N>P&&(P=N)}v[0]=M,v[1]=P}},a=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(t={},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:o},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:o},t[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(s){var l=this._data;each$5(s,function(u,c){for(var f=l[c]||(l[c]=[]),d=0;d<(u||[]).length;d++)f.push(u[d])})}},t[SOURCE_FORMAT_ORIGINAL]={appendData:o},t[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(s){for(var l=0;l<s.length;l++)this._data.push(s[l])}}(),r}(),getItemSimply=function(r,t,n,i){return r[i]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,t,n,i){return r[i+t]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,t,n,i,a){i+=t;for(var o=a||[],s=r,l=0;l<s.length;l++){var u=s[l];o[l]=u?u[i]:null}return o},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,t,n,i,a){for(var o=a||[],s=0;s<n.length;s++){var l=n[s].name,u=r[l];o[s]=u?u[i]:null}return o},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(r,t){var n=rawSourceItemGetterMap[getMethodMapKey(r,t)];return n}var countSimply=function(r,t,n){return r.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,t,n){return Math.max(0,r.length-t)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,t,n){var i=r[0];return i?Math.max(0,i.length-t):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,t,n){var i=n[0].name,a=r[i];return a?a.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(r,t){var n=rawSourceDataCounterMap[getMethodMapKey(r,t)];return n}var getRawValueSimply=function(r,t,n){return r[t]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(r,t,n){return r[n]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(r,t,n){var i=getDataItemValue(r);return i instanceof Array?i[t]:i},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(r){var t=rawSourceValueGetterMap[r];return t}function getMethodMapKey(r,t){return r===SOURCE_FORMAT_ARRAY_ROWS?r+"_"+t:r}function retrieveRawValue(r,t,n){if(r){var i=r.getRawDataItem(t);if(i!=null){var a=r.getStore(),o=a.getSource().sourceFormat;if(n!=null){var s=r.getDimensionIndex(n),l=a.getDimensionProperty(s);return getRawSourceValueGetter(o)(i,s,l)}else{var u=i;return o===SOURCE_FORMAT_ORIGINAL&&(u=getDataItemValue(i)),u}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function r(){}return r.prototype.getDataParams=function(t,n){var i=this.getData(n),a=this.getRawValue(t,n),o=i.getRawIndex(t),s=i.getName(t),l=i.getRawDataItem(t),u=i.getItemVisual(t,"style"),c=u&&u[i.getItemVisual(t,"drawType")||"fill"],f=u&&u.stroke,d=this.mainType,g=d==="series",v=i.userOutput&&i.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:g?this.subType:null,seriesIndex:this.seriesIndex,seriesId:g?this.id:null,seriesName:g?this.name:null,name:s,dataIndex:o,data:l,dataType:n,value:a,color:c,borderColor:f,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(t,n,i,a,o,s){n=n||"normal";var l=this.getData(i),u=this.getDataParams(t,i);if(s&&(u.value=s.interpolatedValue),a!=null&&isArray(u.value)&&(u.value=u.value[a]),!o){var c=l.getItemModel(t);o=c.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(isFunction(o))return u.status=n,u.dimensionIndex=a,o(u);if(isString(o)){var f=formatTpl(o,u);return f.replace(DIMENSION_LABEL_REG,function(d,g){var v=g.length,M=g;M.charAt(0)==="["&&M.charAt(v-1)==="]"&&(M=+M.slice(1,v-1));var P=retrieveRawValue(l,t,M);if(s&&isArray(s.interpolatedValue)){var R=l.getDimensionIndex(M);R>=0&&(P=s.interpolatedValue[R])}return P!=null?P+"":""})}},r.prototype.getRawValue=function(t,n){return retrieveRawValue(this.getData(n),t)},r.prototype.formatTooltip=function(t,n,i){},r}();function normalizeTooltipFormatResult(r){var t,n;return isObject$2(r)?r.type&&(n=r):t=r,{text:t,frag:n}}function createTask(r){return new Task(r)}var Task=function(){function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return r.prototype.perform=function(t){var n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var a=this.context;a.data=a.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!i&&(o=this._plan(this.context));var s=f(this._modBy),l=this._modDataCount||0,u=f(t&&t.modBy),c=t&&t.modDataCount||0;(s!==u||l!==c)&&(o="reset");function f($){return!($>=1)&&($=1),$}var d;(this._dirty||o==="reset")&&(this._dirty=!1,d=this._doReset(i)),this._modBy=u,this._modDataCount=c;var g=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,M=Math.min(g!=null?this._dueIndex+g:1/0,this._dueEnd);if(!i&&(d||v<M)){var P=this._progress;if(isArray(P))for(var R=0;R<P.length;R++)this._doProgress(P[R],v,M,u,c);else this._doProgress(P,v,M,u,c)}this._dueIndex=M;var I=this._settedOutputEnd!=null?this._settedOutputEnd:M;this._outputDueEnd=I}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(t,n,i,a,o){iterator.reset(n,i,a,o),this._callingProgress=t,this._callingProgress({start:n,end:i,count:i-n,next:iterator.next},this.context)},r.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,i;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(i=n.forceFirstProgress,n=n.progress),isArray(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),i},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},r}(),iterator=function(){var r,t,n,i,a,o={reset:function(u,c,f,d){t=u,r=c,n=f,i=d,a=Math.ceil(i/n),o.next=n>1&&i>0?l:s}};return o;function s(){return t<r?t++:null}function l(){var u=t%a*n+Math.ceil(t/a),c=t>=r?null:u<i?u:t;return t++,c}}();function parseDataValue(r,t){var n=t&&t.type;return n==="ordinal"?r:(n==="time"&&!isNumber(r)&&r!=null&&r!=="-"&&(r=+parseDate(r)),r==null||r===""?NaN:+r)}createHashMap({number:function(r){return parseFloat(r)},time:function(r){return+parseDate(r)},trim:function(r){return isString(r)?trim(r):r}});var SortOrderComparator=function(){function r(t,n){var i=t==="desc";this._resultLT=i?1:-1,n==null&&(n=i?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return r.prototype.evaluate=function(t,n){var i=isNumber(t)?t:numericToNumber(t),a=isNumber(n)?n:numericToNumber(n),o=isNaN(i),s=isNaN(a);if(o&&(i=this._incomparable),s&&(a=this._incomparable),o&&s){var l=isString(t),u=isString(n);l&&(i=u?t:0),u&&(a=l?n:0)}return i<a?this._resultLT:i>a?-this._resultLT:0},r}(),ExternalSource=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(t){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(t){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(t,n){},r.prototype.retrieveValueFromItem=function(t,n){},r.prototype.convertValue=function(t,n){return parseDataValue(t,n)},r}();function createExternalSource(r,t){var n=new ExternalSource,i=r.data,a=n.sourceFormat=r.sourceFormat,o=r.startIndex,s="";r.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(s);var l=[],u={},c=r.dimensionsDefine;if(c)each$5(c,function(P,R){var I=P.name,$={index:R,name:I,displayName:P.displayName};if(l.push($),I!=null){var N="";hasOwn(u,I)&&throwError(N),u[I]=$}});else for(var f=0;f<r.dimensionsDetectedCount;f++)l.push({index:f});var d=getRawSourceItemGetter(a,SERIES_LAYOUT_BY_COLUMN);t.__isBuiltIn&&(n.getRawDataItem=function(P){return d(i,o,l,P)},n.getRawData=bind$1(getRawData,null,r)),n.cloneRawData=bind$1(cloneRawData,null,r);var g=getRawSourceDataCounter(a,SERIES_LAYOUT_BY_COLUMN);n.count=bind$1(g,null,i,o,l);var v=getRawSourceValueGetter(a);n.retrieveValue=function(P,R){var I=d(i,o,l,P);return M(I,R)};var M=n.retrieveValueFromItem=function(P,R){if(P!=null){var I=l[R];if(I)return v(P,R,I.name)}};return n.getDimensionInfo=bind$1(getDimensionInfo,null,l,u),n.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,l),n}function getRawData(r){var t=r.sourceFormat;if(!isSupportedSourceFormat(t)){var n="";throwError(n)}return r.data}function cloneRawData(r){var t=r.sourceFormat,n=r.data;if(!isSupportedSourceFormat(t)){var i="";throwError(i)}if(t===SOURCE_FORMAT_ARRAY_ROWS){for(var a=[],o=0,s=n.length;o<s;o++)a.push(n[o].slice());return a}else if(t===SOURCE_FORMAT_OBJECT_ROWS){for(var a=[],o=0,s=n.length;o<s;o++)a.push(extend({},n[o]));return a}}function getDimensionInfo(r,t,n){if(n!=null){if(isNumber(n)||!isNaN(n)&&!hasOwn(t,n))return r[n];if(hasOwn(t,n))return t[n]}}function cloneAllDimensionInfo(r){return clone$2(r)}var externalTransformMap=createHashMap();function registerExternalTransform(r){r=clone$2(r);var t=r.type,n="";t||throwError(n);var i=t.split(":");i.length!==2&&throwError(n);var a=!1;i[0]==="echarts"&&(t=i[1],a=!0),r.__isBuiltIn=a,externalTransformMap.set(t,r)}function applyDataTransform(r,t,n){var i=normalizeToArray(r),a=i.length,o="";a||throwError(o);for(var s=0,l=a;s<l;s++){var u=i[s];t=applySingleDataTransform(u,t),s!==l-1&&(t.length=Math.max(t.length,1))}return t}function applySingleDataTransform(r,t,n,i){var a="";t.length||throwError(a),isObject$2(r)||throwError(a);var o=r.type,s=externalTransformMap.get(o);s||throwError(a);var l=map$1(t,function(c){return createExternalSource(c,s)}),u=normalizeToArray(s.transform({upstream:l[0],upstreamList:l,config:clone$2(r.config)}));return map$1(u,function(c,f){var d="";isObject$2(c)||throwError(d),c.data||throwError(d);var g=detectSourceFormat(c.data);isSupportedSourceFormat(g)||throwError(d);var v,M=t[0];if(M&&f===0&&!c.dimensions){var P=M.startIndex;P&&(c.data=M.data.slice(0,P).concat(c.data)),v={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:P,dimensions:M.metaRawOption.dimensions}}else v={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:c.dimensions};return createSource(c.data,v,null)})}function isSupportedSourceFormat(r){return r===SOURCE_FORMAT_ARRAY_ROWS||r===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(r){return r>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function prepareStore(r,t,n,i,a){var o=dataCtors[n||"float"];if(a){var s=r[t],l=s&&s.length;if(l!==i){for(var u=new o(i),c=0;c<l;c++)u[c]=s[c];r[t]=u}}else r[t]=new o(i)}var DataStore=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return r.prototype.initData=function(t,n,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=t.getSource(),o=this.defaultDimValueGetter=defaultDimValueGetters[a.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],shouldRetrieveDataByName(a),this._dimensions=map$1(n,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(t,n){var i=this._calcDimNameToIdx,a=this._dimensions,o=i.get(t);if(o!=null){if(a[o].type===n)return o}else o=a.length;return a[o]={type:n},i.set(t,o),this._chunks[o]=new dataCtors[n||"float"](this._rawCount),this._rawExtent[o]=getInitialExtent(),o},r.prototype.collectOrdinalMeta=function(t,n){var i=this._chunks[t],a=this._dimensions[t],o=this._rawExtent,s=a.ordinalOffset||0,l=i.length;s===0&&(o[t]=getInitialExtent());for(var u=o[t],c=s;c<l;c++){var f=i[c]=n.parseAndCollect(i[c]);isNaN(f)||(u[0]=Math.min(f,u[0]),u[1]=Math.max(f,u[1]))}a.ordinalMeta=n,a.ordinalOffset=l,a.type="ordinal"},r.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],i=n.ordinalMeta;return i},r.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},r.prototype.appendData=function(t){var n=this._provider,i=this.count();n.appendData(t);var a=n.count();return n.persistent||(a+=i),i<a&&this._initDataFromProvider(i,a,!0),[i,a]},r.prototype.appendValues=function(t,n){for(var i=this._chunks,a=this._dimensions,o=a.length,s=this._rawExtent,l=this.count(),u=l+Math.max(t.length,n||0),c=0;c<o;c++){var f=a[c];prepareStore(i,c,f.type,u,!0)}for(var d=[],g=l;g<u;g++)for(var v=g-l,M=0;M<o;M++){var f=a[M],P=defaultDimValueGetters.arrayRows.call(this,t[v]||d,f.property,v,M);i[M][g]=P;var R=s[M];P<R[0]&&(R[0]=P),P>R[1]&&(R[1]=P)}return this._rawCount=this._count=u,{start:l,end:u}},r.prototype._initDataFromProvider=function(t,n,i){for(var a=this._provider,o=this._chunks,s=this._dimensions,l=s.length,u=this._rawExtent,c=map$1(s,function($){return $.property}),f=0;f<l;f++){var d=s[f];u[f]||(u[f]=getInitialExtent()),prepareStore(o,f,d.type,n,i)}if(a.fillStorage)a.fillStorage(t,n,o,u);else for(var g=[],v=t;v<n;v++){g=a.getItem(v,g);for(var M=0;M<l;M++){var P=o[M],R=this._dimValueGetter(g,c[M],v,M);P[v]=R;var I=u[M];R<I[0]&&(I[0]=R),R>I[1]&&(I[1]=R)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=n,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(n)]:NaN},r.prototype.getValues=function(t,n){var i=[],a=[];if(n==null){n=t,t=[];for(var o=0;o<this._dimensions.length;o++)a.push(o)}else a=t;for(var o=0,s=a.length;o<s;o++)i.push(this.get(a[o],n));return i},r.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var i=this._chunks[t];return i?i[n]:NaN},r.prototype.getSum=function(t){var n=this._chunks[t],i=0;if(n)for(var a=0,o=this.count();a<o;a++){var s=this.get(t,a);isNaN(s)||(i+=s)}return i},r.prototype.getMedian=function(t){var n=[];this.each([t],function(o){isNaN(o)||n.push(o)});var i=n.sort(function(o,s){return o-s}),a=this.count();return a===0?0:a%2===1?i[(a-1)/2]:(i[a/2]+i[a/2-1])/2},r.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,i=n[t];if(i!=null&&i<this._count&&i===t)return t;for(var a=0,o=this._count-1;a<=o;){var s=(a+o)/2|0;if(n[s]<t)a=s+1;else if(n[s]>t)o=s-1;else return s}return-1},r.prototype.indicesOfNearest=function(t,n,i){var a=this._chunks,o=a[t],s=[];if(!o)return s;i==null&&(i=1/0);for(var l=1/0,u=-1,c=0,f=0,d=this.count();f<d;f++){var g=this.getRawIndex(f),v=n-o[g],M=Math.abs(v);M<=i&&((M<l||M===l&&v>=0&&u<0)&&(l=M,u=v,c=0),v===u&&(s[c++]=f))}return s.length=c,s},r.prototype.getIndices=function(){var t,n=this._indices;if(n){var i=n.constructor,a=this._count;if(i===Array){t=new i(a);for(var o=0;o<a;o++)t[o]=n[o]}else t=new i(n.buffer,0,a)}else{var i=getIndicesCtor(this._rawCount);t=new i(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},r.prototype.filter=function(t,n){if(!this._count)return this;for(var i=this.clone(),a=i.count(),o=getIndicesCtor(i._rawCount),s=new o(a),l=[],u=t.length,c=0,f=t[0],d=i._chunks,g=0;g<a;g++){var v=void 0,M=i.getRawIndex(g);if(u===0)v=n(g);else if(u===1){var P=d[f][M];v=n(P,g)}else{for(var R=0;R<u;R++)l[R]=d[t[R]][M];l[R]=g,v=n.apply(null,l)}v&&(s[c++]=M)}return c<a&&(i._indices=s),i._count=c,i._extent=[],i._updateGetRawIdx(),i},r.prototype.selectRange=function(t){var n=this.clone(),i=n._count;if(!i)return this;var a=keys(t),o=a.length;if(!o)return this;var s=n.count(),l=getIndicesCtor(n._rawCount),u=new l(s),c=0,f=a[0],d=t[f][0],g=t[f][1],v=n._chunks,M=!1;if(!n._indices){var P=0;if(o===1){for(var R=v[a[0]],I=0;I<i;I++){var $=R[I];($>=d&&$<=g||isNaN($))&&(u[c++]=P),P++}M=!0}else if(o===2){for(var R=v[a[0]],N=v[a[1]],F=t[a[1]][0],V=t[a[1]][1],I=0;I<i;I++){var $=R[I],H=N[I];($>=d&&$<=g||isNaN($))&&(H>=F&&H<=V||isNaN(H))&&(u[c++]=P),P++}M=!0}}if(!M)if(o===1)for(var I=0;I<s;I++){var G=n.getRawIndex(I),$=v[a[0]][G];($>=d&&$<=g||isNaN($))&&(u[c++]=G)}else for(var I=0;I<s;I++){for(var Y=!0,G=n.getRawIndex(I),W=0;W<o;W++){var q=a[W],$=v[q][G];($<t[q][0]||$>t[q][1])&&(Y=!1)}Y&&(u[c++]=n.getRawIndex(I))}return c<s&&(n._indices=u),n._count=c,n._extent=[],n._updateGetRawIdx(),n},r.prototype.map=function(t,n){var i=this.clone(t);return this._updateDims(i,t,n),i},r.prototype.modify=function(t,n){this._updateDims(this,t,n)},r.prototype._updateDims=function(t,n,i){for(var a=t._chunks,o=[],s=n.length,l=t.count(),u=[],c=t._rawExtent,f=0;f<n.length;f++)c[n[f]]=getInitialExtent();for(var d=0;d<l;d++){for(var g=t.getRawIndex(d),v=0;v<s;v++)u[v]=a[n[v]][g];u[s]=d;var M=i&&i.apply(null,u);if(M!=null){typeof M!="object"&&(o[0]=M,M=o);for(var f=0;f<M.length;f++){var P=n[f],R=M[f],I=c[P],$=a[P];$&&($[g]=R),R<I[0]&&(I[0]=R),R>I[1]&&(I[1]=R)}}}},r.prototype.lttbDownSample=function(t,n){var i=this.clone([t],!0),a=i._chunks,o=a[t],s=this.count(),l=0,u=Math.floor(1/n),c=this.getRawIndex(0),f,d,g,v=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(s/u)+2)*2,s));v[l++]=c;for(var M=1;M<s-1;M+=u){for(var P=Math.min(M+u,s-1),R=Math.min(M+u*2,s),I=(R+P)/2,$=0,N=P;N<R;N++){var F=this.getRawIndex(N),V=o[F];isNaN(V)||($+=V)}$/=R-P;var H=M,G=Math.min(M+u,s),Y=M-1,W=o[c];f=-1,g=H;for(var q=-1,X=0,N=H;N<G;N++){var F=this.getRawIndex(N),V=o[F];if(isNaN(V)){X++,q<0&&(q=F);continue}d=Math.abs((Y-I)*(V-W)-(Y-N)*($-W)),d>f&&(f=d,g=F)}X>0&&X<G-H&&(v[l++]=Math.min(q,g),g=Math.max(q,g)),v[l++]=g,c=g}return v[l++]=this.getRawIndex(s-1),i._count=l,i._indices=v,i.getRawIndex=this._getRawIdx,i},r.prototype.downSample=function(t,n,i,a){for(var o=this.clone([t],!0),s=o._chunks,l=[],u=Math.floor(1/n),c=s[t],f=this.count(),d=o._rawExtent[t]=getInitialExtent(),g=new(getIndicesCtor(this._rawCount))(Math.ceil(f/u)),v=0,M=0;M<f;M+=u){u>f-M&&(u=f-M,l.length=u);for(var P=0;P<u;P++){var R=this.getRawIndex(M+P);l[P]=c[R]}var I=i(l),$=this.getRawIndex(Math.min(M+a(l,I)||0,f-1));c[$]=I,I<d[0]&&(d[0]=I),I>d[1]&&(d[1]=I),g[v++]=$}return o._count=v,o._indices=g,o._updateGetRawIdx(),o},r.prototype.each=function(t,n){if(this._count)for(var i=t.length,a=this._chunks,o=0,s=this.count();o<s;o++){var l=this.getRawIndex(o);switch(i){case 0:n(o);break;case 1:n(a[t[0]][l],o);break;case 2:n(a[t[0]][l],a[t[1]][l],o);break;default:for(var u=0,c=[];u<i;u++)c[u]=a[t[u]][l];c[u]=o,n.apply(null,c)}}},r.prototype.getDataExtent=function(t){var n=this._chunks[t],i=getInitialExtent();if(!n)return i;var a=this.count(),o=!this._indices,s;if(o)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=i;for(var l=s[0],u=s[1],c=0;c<a;c++){var f=this.getRawIndex(c),d=n[f];d<l&&(l=d),d>u&&(u=d)}return s=[l,u],this._extent[t]=s,s},r.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var i=[],a=this._chunks,o=0;o<a.length;o++)i.push(a[o][n]);return i},r.prototype.clone=function(t,n){var i=new r,a=this._chunks,o=t&&reduce(t,function(l,u){return l[u]=!0,l},{});if(o)for(var s=0;s<a.length;s++)i._chunks[s]=o[s]?cloneChunk(a[s]):a[s];else i._chunks=a;return this._copyCommonProps(i),n||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},r.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=clone$2(this._extent),t._rawExtent=clone$2(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var i=this._indices.length;n=new t(i);for(var a=0;a<i;a++)n[a]=this._indices[a]}else n=new t(this._indices);return n}return null},r.prototype._getRawIdxIdentity=function(t){return t},r.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function t(n,i,a,o){return parseDataValue(n[o],this._dimensions[o])}defaultDimValueGetters={arrayRows:t,objectRows:function(n,i,a,o){return parseDataValue(n[i],this._dimensions[o])},keyedColumns:t,original:function(n,i,a,o){var s=n&&(n.value==null?n:n.value);return parseDataValue(s instanceof Array?s[o]:s,this._dimensions[o])},typedArray:function(n,i,a,o){return n[o]}}}(),r}(),SourceManager=function(){function r(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),i=!!n.length,a,o;if(isSeries(t)){var s=t,l=void 0,u=void 0,c=void 0;if(i){var f=n[0];f.prepareSource(),c=f.getSource(),l=c.data,u=c.sourceFormat,o=[f._getVersionSign()]}else l=s.get("data",!0),u=isTypedArray(l)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,o=[];var d=this._getSourceMetaRawOption()||{},g=c&&c.metaRawOption||{},v=retrieve2(d.seriesLayoutBy,g.seriesLayoutBy)||null,M=retrieve2(d.sourceHeader,g.sourceHeader),P=retrieve2(d.dimensions,g.dimensions),R=v!==g.seriesLayoutBy||!!M!=!!g.sourceHeader||P;a=R?[createSource(l,{seriesLayoutBy:v,sourceHeader:M,dimensions:P},u)]:[]}else{var I=t;if(i){var $=this._applyTransform(n);a=$.sourceList,o=$.upstreamSignList}else{var N=I.get("source",!0);a=[createSource(N,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(a,o)},r.prototype._applyTransform=function(t){var n=this._sourceHost,i=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(a!=null){var o="";t.length!==1&&doThrow(o)}var s,l=[],u=[];return each$5(t,function(c){c.prepareSource();var f=c.getSource(a||0),d="";a!=null&&!f&&doThrow(d),l.push(f),u.push(c._getVersionSign())}),i?s=applyDataTransform(i,l,{datasetIndex:n.componentIndex}):a!=null&&(s=[cloneSourceShallow(l[0])]),{sourceList:s,upstreamSignList:u}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var i=t[n];if(i._isDirty()||this._upstreamSignList[n]!==i._getVersionSign())return!0}},r.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return n},r.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},r.prototype._innerGetDataStore=function(t,n,i){var a=0,o=this._storeList,s=o[a];s||(s=o[a]={});var l=s[i];if(!l){var u=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&u?l=u._innerGetDataStore(t,n,i):(l=new DataStore,l.initData(new DefaultDataProvider(n,t.length),t)),s[i]=l}return l},r.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(isSeries(t)){var n=querySeriesUpstreamDatasetModel(t);return n?[n.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(t),function(i){return i.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,i,a;if(isSeries(t))n=t.get("seriesLayoutBy",!0),i=t.get("sourceHeader",!0),a=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;n=o.get("seriesLayoutBy",!0),i=o.get("sourceHeader",!0),a=o.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:i,dimensions:a}},r}();function isSeries(r){return r.mainType==="series"}function doThrow(r){throw new Error(r)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(r,t){var n=r.color||"#6e7079",i=r.fontSize||12,a=r.fontWeight||"400",o=r.color||"#464646",s=r.fontSize||14,l=r.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+encodeHTML(i+"")+"px;color:"+encodeHTML(n)+";font-weight:"+encodeHTML(a+""),valueStyle:"font-size:"+encodeHTML(s+"")+"px;color:"+encodeHTML(o)+";font-weight:"+encodeHTML(l+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:a},valueStyle:{fontSize:s,fill:o,fontWeight:l}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(r,t){return t.type=r,t}function isSectionFragment(r){return r.type==="section"}function getBuilder(r){return isSectionFragment(r)?buildSection:buildNameValue}function getBlockGapLevel(r){if(isSectionFragment(r)){var t=0,n=r.blocks.length,i=n>1||n>0&&!r.noHeader;return each$5(r.blocks,function(a){var o=getBlockGapLevel(a);o>=t&&(t=o+ +(i&&(!o||isSectionFragment(a)&&!a.noHeader)))}),t}return 0}function buildSection(r,t,n,i){var a=t.noHeader,o=getGap(getBlockGapLevel(t)),s=[],l=t.blocks||[];assert(!l||isArray(l)),l=l||[];var u=r.orderMode;if(t.sortBlocks&&u){l=l.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(c,u)){var f=new SortOrderComparator(c[u],null);l.sort(function(M,P){return f.evaluate(M.sortParam,P.sortParam)})}else u==="seriesDesc"&&l.reverse()}each$5(l,function(M,P){var R=t.valueFormatter,I=getBuilder(M)(R?extend(extend({},r),{valueFormatter:R}):r,M,P>0?o.html:0,i);I!=null&&s.push(I)});var d=r.renderMode==="richText"?s.join(o.richText):wrapBlockHTML(s.join(""),a?n:o.html);if(a)return d;var g=makeValueReadable(t.header,"ordinal",r.useUTC),v=getTooltipTextStyle(i,r.renderMode).nameStyle;return r.renderMode==="richText"?wrapInlineNameRichText(r,g,v)+o.richText+d:wrapBlockHTML('<div style="'+v+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(g)+"</div>"+d,n)}function buildNameValue(r,t,n,i){var a=r.renderMode,o=t.noName,s=t.noValue,l=!t.markerType,u=t.name,c=r.useUTC,f=t.valueFormatter||r.valueFormatter||function(F){return F=isArray(F)?F:[F],map$1(F,function(V,H){return makeValueReadable(V,isArray(v)?v[H]:v,c)})};if(!(o&&s)){var d=l?"":r.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",a),g=o?"":makeValueReadable(u,"ordinal",c),v=t.valueType,M=s?[]:f(t.value),P=!l||!o,R=!l&&o,I=getTooltipTextStyle(i,a),$=I.nameStyle,N=I.valueStyle;return a==="richText"?(l?"":d)+(o?"":wrapInlineNameRichText(r,g,$))+(s?"":wrapInlineValueRichText(r,M,P,R,N)):wrapBlockHTML((l?"":d)+(o?"":wrapInlineNameHTML(g,!l,$))+(s?"":wrapInlineValueHTML(M,P,R,N)),n)}}function buildTooltipMarkup(r,t,n,i,a,o){if(r){var s=getBuilder(r),l={useUTC:a,renderMode:n,orderMode:i,markupStyleCreator:t,valueFormatter:r.valueFormatter};return s(l,r,0,o)}}function getGap(r){return{html:HTML_GAPS[r],richText:RICH_TEXT_GAPS[r]}}function wrapBlockHTML(r,t){var n='<div style="clear:both"></div>',i="margin: "+t+"px 0 0";return'<div style="'+i+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+r+n+"</div>"}function wrapInlineNameHTML(r,t,n){var i=t?"margin-left:2px":"";return'<span style="'+n+";"+i+'">'+encodeHTML(r)+"</span>"}function wrapInlineValueHTML(r,t,n,i){var a=n?"10px":"20px",o=t?"float:right;margin-left:"+a:"";return r=isArray(r)?r:[r],'<span style="'+o+";"+i+'">'+map$1(r,function(s){return encodeHTML(s)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(r,t,n){return r.markupStyleCreator.wrapRichTextStyle(t,n)}function wrapInlineValueRichText(r,t,n,i,a){var o=[a],s=i?10:20;return n&&o.push({padding:[0,0,0,s],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(isArray(t)?t.join("  "):t,o)}function retrieveVisualColorForTooltipMarker(r,t){var n=r.getData().getItemVisual(t,"style"),i=n[r.visualDrawType];return convertToColorString(i)}function getPaddingFromTooltipModel(r,t){var n=r.get("padding");return n??(t==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function r(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(t,n,i){var a=i==="richText"?this._generateStyleName():null,o=getTooltipMarker({color:n,type:t,renderMode:i,markerId:a});return isString(o)?o:(this.richTextStyles[a]=o.style,o.content)},r.prototype.wrapRichTextStyle=function(t,n){var i={};isArray(n)?each$5(n,function(o){return extend(i,o)}):extend(i,n);var a=this._generateStyleName();return this.richTextStyles[a]=i,"{"+a+"|"+t+"}"},r}();function defaultSeriesFormatTooltip(r){var t=r.series,n=r.dataIndex,i=r.multipleSeries,a=t.getData(),o=a.mapDimensionsAll("defaultedTooltip"),s=o.length,l=t.getRawValue(n),u=isArray(l),c=retrieveVisualColorForTooltipMarker(t,n),f,d,g,v;if(s>1||u&&!s){var M=formatTooltipArrayValue(l,t,n,o,c);f=M.inlineValues,d=M.inlineValueTypes,g=M.blocks,v=M.inlineValues[0]}else if(s){var P=a.getDimensionInfo(o[0]);v=f=retrieveRawValue(a,n,o[0]),d=P.type}else v=f=u?l[0]:l;var R=isNameSpecified(t),I=R&&t.name||"",$=a.getName(n),N=i?I:$;return createTooltipMarkup("section",{header:I,noHeader:i||!R,sortParam:v,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:c,name:N,noName:!trim(N),value:f,valueType:d})].concat(g||[])})}function formatTooltipArrayValue(r,t,n,i,a){var o=t.getData(),s=reduce(r,function(d,g,v){var M=o.getDimensionInfo(v);return d=d||M&&M.tooltip!==!1&&M.displayName!=null},!1),l=[],u=[],c=[];i.length?each$5(i,function(d){f(retrieveRawValue(o,n,d),d)}):each$5(r,f);function f(d,g){var v=o.getDimensionInfo(g);!v||v.otherDims.tooltip===!1||(s?c.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:a,name:v.displayName,value:d,valueType:v.type})):(l.push(d),u.push(v.type)))}return{inlineValues:l,inlineValueTypes:u,blocks:c}}var inner$9=makeInner();function getSelectionKey(r,t){return r.getName(t)||r.getId(t)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,i,a){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,a);var o=inner$9(this).sourceManager=new SourceManager(this);o.prepareSource();var s=this.getInitialData(n,a);wrapData(s,this),this.dataTask.context.data=s,inner$9(this).dataBeforeProcessed=s,autoSeriesName(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(n,i){var a=fetchLayoutMode(this),o=a?getLayoutParams(n):{},s=this.subType;ComponentModel$1.hasClass(s)&&(s+="Series"),merge(n,i.getTheme().get(this.subType)),merge(n,this.getDefaultOption()),defaultEmphasis(n,"label",["show"]),this.fillDataTextStyle(n.data),a&&mergeLayoutParam(n,o,a)},t.prototype.mergeOption=function(n,i){n=merge(this.option,n,!0),this.fillDataTextStyle(n.data);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,n,a);var o=inner$9(this).sourceManager;o.dirty(),o.prepareSource();var s=this.getInitialData(n,i);wrapData(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,inner$9(this).dataBeforeProcessed=s,autoSeriesName(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(n){if(n&&!isTypedArray(n))for(var i=["show"],a=0;a<n.length;a++)n[a]&&n[a].label&&defaultEmphasis(n[a],"label",i)},t.prototype.getInitialData=function(n,i){},t.prototype.appendData=function(n){var i=this.getRawData();i.appendData(n.data)},t.prototype.getData=function(n){var i=getCurrentTask(this);if(i){var a=i.context.data;return n==null?a:a.getLinkedData(n)}else return inner$9(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var i=getCurrentTask(this);if(i){var a=i.context;a.outputData=n,i!==this.dataTask&&(a.data=n)}inner$9(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return createHashMap(n)},t.prototype.getSourceManager=function(){return inner$9(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return inner$9(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,i,a){return defaultSeriesFormatTooltip({series:this,dataIndex:n,multipleSeries:i})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(env$1.node&&!(n&&n.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,i,a){var o=this.ecModel,s=PaletteMixin.prototype.getColorFromPalette.call(this,n,i,a);return s||(s=o.getColorFromPalette(n,i,a)),s},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,i){this._innerSelect(this.getData(i),n)},t.prototype.unselect=function(n,i){var a=this.option.selectedMap;if(a){var o=this.option.selectedMode,s=this.getData(i);if(o==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var l=0;l<n.length;l++){var u=n[l],c=getSelectionKey(s,u);a[c]=!1,this._selectedDataIndicesMap[c]=-1}}},t.prototype.toggleSelect=function(n,i){for(var a=[],o=0;o<n.length;o++)a[0]=n[o],this.isSelected(n[o],i)?this.unselect(a,i):this.select(a,i)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,i=keys(n),a=[],o=0;o<i.length;o++){var s=n[i[o]];s>=0&&a.push(s)}return a},t.prototype.isSelected=function(n,i){var a=this.option.selectedMap;if(!a)return!1;var o=this.getData(i);return(a==="all"||a[getSelectionKey(o,n)])&&!o.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,i){var a,o,s=this.option,l=s.selectedMode,u=i.length;if(!(!l||!u)){if(l==="series")s.selectedMap="all";else if(l==="multiple"){isObject$2(s.selectedMap)||(s.selectedMap={});for(var c=s.selectedMap,f=0;f<u;f++){var d=i[f],g=getSelectionKey(n,d);c[g]=!0,this._selectedDataIndicesMap[g]=n.getRawIndex(d)}}else if(l==="single"||l===!0){var v=i[u-1],g=getSelectionKey(n,v);s.selectedMap=(a={},a[g]=!0,a),this._selectedDataIndicesMap=(o={},o[g]=n.getRawIndex(v),o)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var i=[];n.hasItemOption&&n.each(function(a){var o=n.getRawDataItem(a);o&&o.selected&&i.push(a)}),i.length>0&&this._innerSelect(n,i)}},t.registerClass=function(n){return ComponentModel$1.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(r){var t=r.name;isNameSpecified(r)||(r.name=getSeriesAutoName(r)||t)}function getSeriesAutoName(r){var t=r.getRawData(),n=t.mapDimensionsAll("seriesName"),i=[];return each$5(n,function(a){var o=t.getDimensionInfo(a);o.displayName&&i.push(o.displayName)}),i.join(" ")}function dataTaskCount(r){return r.model.getRawData().count()}function dataTaskReset(r){var t=r.model;return t.setData(t.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(r,t){t.outputData&&r.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function wrapData(r,t){each$5(concatArray(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(n){r.wrapMethod(n,curry$1(onDataChange,t))})}function onDataChange(r,t){var n=getCurrentTask(r);return n&&n.setOutputEnd((t||this).count()),t}function getCurrentTask(r){var t=(r.ecModel||{}).scheduler,n=t&&t.getPipeline(r.uid);if(n){var i=n.currentTask;if(i){var a=i.agentStubMap;a&&(i=a.get(r.uid))}return i}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewComponent")}return r.prototype.init=function(t,n){},r.prototype.render=function(t,n,i,a){},r.prototype.dispose=function(t,n){},r.prototype.updateView=function(t,n,i,a){},r.prototype.updateLayout=function(t,n,i,a){},r.prototype.updateVisual=function(t,n,i,a){},r.prototype.toggleBlurSeries=function(t,n,i){},r.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},r}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var r=makeInner();return function(t){var n=r(t),i=t.pipelineContext,a=!!n.large,o=!!n.progressiveRender,s=n.large=!!(i&&i.large),l=n.progressiveRender=!!(i&&i.progressiveRender);return(a!==s||o!==l)&&"reset"}}var inner$8=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return r.prototype.init=function(t,n){},r.prototype.render=function(t,n,i,a){},r.prototype.highlight=function(t,n,i,a){var o=t.getData(a&&a.dataType);o&&toggleHighlight(o,a,"emphasis")},r.prototype.downplay=function(t,n,i,a){var o=t.getData(a&&a.dataType);o&&toggleHighlight(o,a,"normal")},r.prototype.remove=function(t,n){this.group.removeAll()},r.prototype.dispose=function(t,n){},r.prototype.updateView=function(t,n,i,a){this.render(t,n,i,a)},r.prototype.updateLayout=function(t,n,i,a){this.render(t,n,i,a)},r.prototype.updateVisual=function(t,n,i,a){this.render(t,n,i,a)},r.prototype.eachRendered=function(t){traverseElements(this.group,t)},r.markUpdateMethod=function(t,n){inner$8(t).updateMethod=n},r.protoInitialize=function(){var t=r.prototype;t.type="chart"}(),r}();function elSetState(r,t,n){r&&isHighDownDispatcher(r)&&(t==="emphasis"?enterEmphasis:leaveEmphasis)(r,n)}function toggleHighlight(r,t,n){var i=queryDataIndex(r,t),a=t&&t.highlightKey!=null?getHighlightDigit(t.highlightKey):null;i!=null?each$5(normalizeToArray(i),function(o){elSetState(r.getItemGraphicEl(o),n,a)}):r.eachItemGraphicEl(function(o){elSetState(o,n,a)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(r){return renderPlanner(r.model)}function renderTaskReset(r){var t=r.model,n=r.ecModel,i=r.api,a=r.payload,o=t.pipelineContext.progressiveRender,s=r.view,l=a&&inner$8(a).updateMethod,u=o?"incrementalPrepareRender":l&&s[l]?l:"render";return u!=="render"&&s[u](t,n,i,a),progressMethodMap[u]}var progressMethodMap={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(r,t,n){var i,a=0,o=0,s=null,l,u,c,f;t=t||0;function d(){o=new Date().getTime(),s=null,r.apply(u,c||[])}var g=function(){for(var v=[],M=0;M<arguments.length;M++)v[M]=arguments[M];i=new Date().getTime(),u=this,c=v;var P=f||t,R=f||n;f=null,l=i-(R?a:o)-P,clearTimeout(s),R?s=setTimeout(d,P):l>=0?d():s=setTimeout(d,-l),a=i};return g.clear=function(){s&&(clearTimeout(s),s=null)},g.debounceNextCall=function(v){f=v},g}function createOrUpdate(r,t,n,i){var a=r[t];if(a){var o=a[ORIGIN_METHOD]||a,s=a[THROTTLE_TYPE],l=a[RATE];if(l!==n||s!==i){if(n==null||!i)return r[t]=o;a=r[t]=throttle(o,n,i==="debounce"),a[ORIGIN_METHOD]=o,a[THROTTLE_TYPE]=i,a[RATE]=n}return a}}function clear(r,t){var n=r[t];n&&n[ORIGIN_METHOD]&&(n.clear&&n.clear(),r[t]=n[ORIGIN_METHOD])}var inner$7=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(r,t){var n=r.visualStyleMapper||defaultStyleMappers[t];return n||(console.warn("Unknown style type '"+t+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(r,t){var n=r.visualDrawType||defaultColorKey[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var n=r.getData(),i=r.visualStyleAccessPath||"itemStyle",a=r.getModel(i),o=getStyleMapper(r,i),s=o(a),l=a.getShallow("decal");l&&(n.setVisual("decal",l),l.dirty=!0);var u=getDefaultColorKey(r,i),c=s[u],f=isFunction(c)?c:null,d=s.fill==="auto"||s.stroke==="auto";if(!s[u]||f||d){var g=r.getColorFromPalette(r.name,null,t.getSeriesCount());s[u]||(s[u]=g,n.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||isFunction(s.fill)?g:s.fill,s.stroke=s.stroke==="auto"||isFunction(s.stroke)?g:s.stroke}if(n.setVisual("style",s),n.setVisual("drawType",u),!t.isSeriesFiltered(r)&&f)return n.setVisual("colorFromPalette",!1),{dataEach:function(v,M){var P=r.getDataParams(M),R=extend({},s);R[u]=f(P),v.setItemVisual(M,"style",R)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!(r.ignoreStyleOnData||t.isSeriesFiltered(r))){var n=r.getData(),i=r.visualStyleAccessPath||"itemStyle",a=getStyleMapper(r,i),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(s,l){var u=s.getRawDataItem(l);if(u&&u[i]){sharedModel.option=u[i];var c=a(sharedModel),f=s.ensureUniqueItemVisual(l,"style");extend(f,c),sharedModel.option.decal&&(s.setItemVisual(l,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),o in c&&s.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(r){var t=createHashMap();r.eachSeries(function(n){var i=n.getColorBy();if(!n.isColorBySeries()){var a=n.type+"-"+i,o=t.get(a);o||(o={},t.set(a,o)),inner$7(n).scope=o}}),r.eachSeries(function(n){if(!(n.isColorBySeries()||r.isSeriesFiltered(n))){var i=n.getRawData(),a={},o=n.getData(),s=inner$7(n).scope,l=n.visualStyleAccessPath||"itemStyle",u=getDefaultColorKey(n,l);o.each(function(c){var f=o.getRawIndex(c);a[f]=c}),i.each(function(c){var f=a[c],d=o.getItemVisual(f,"colorFromPalette");if(d){var g=o.ensureUniqueItemVisual(f,"style"),v=i.getName(c)||c+"",M=i.count();g[u]=n.getColorFromPalette(v,s,M)}})}})}},PI$1=Math.PI;function defaultLoading(r,t){t=t||{},defaults(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Group$3,i=new Rect$2({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(i);var a=new ZRText$1({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new Rect$2({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(o);var s;return t.showSpinner&&(s=new Arc$1({shape:{startAngle:-PI$1/2,endAngle:-PI$1/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:PI$1*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:PI$1*3/2}).delay(300).start("circularInOut"),n.add(s)),n.resize=function(){var l=a.getBoundingRect().width,u=t.showSpinner?t.spinnerRadius:0,c=(r.getWidth()-u*2-(t.showSpinner&&l?10:0)-l)/2-(t.showSpinner&&l?0:5+l/2)+(t.showSpinner?0:l/2)+(l?0:u),f=r.getHeight()/2;t.showSpinner&&s.setShape({cx:c,cy:f}),o.setShape({x:c-u,y:f-u,width:u*2,height:u*2}),i.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},n.resize(),n}var Scheduler=function(){function r(t,n,i,a){this._stageTaskMap=createHashMap(),this.ecInstance=t,this.api=n,i=this._dataProcessorHandlers=i.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=i.concat(a)}return r.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(i){var a=i.overallTask;a&&a.dirty()})},r.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),a=i.context,o=!n&&i.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>i.blockIndex,s=o?i.step:null,l=a&&a.modDataCount,u=l!=null?Math.ceil(l/s):null;return{step:s,modBy:u,modDataCount:l}}},r.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},r.prototype.updateStreamModes=function(t,n){var i=this._pipelineMap.get(t.uid),a=t.getData(),o=a.count(),s=i.progressiveEnabled&&n.incrementalPrepareRender&&o>=i.threshold,l=t.get("large")&&o>=t.get("largeThreshold"),u=t.get("progressiveChunkMode")==="mod"?o:null;t.pipelineContext=i.context={progressiveRender:s,modDataCount:u,large:l}},r.prototype.restorePipelines=function(t){var n=this,i=n._pipelineMap=createHashMap();t.eachSeries(function(a){var o=a.getProgressive(),s=a.uid;i.set(s,{id:s,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:o&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),n._pipe(a,a.dataTask)})},r.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),i=this.api;each$5(this._allHandlers,function(a){var o=t.get(a.uid)||t.set(a.uid,{}),s="";assert(!(a.reset&&a.overallReset),s),a.reset&&this._createSeriesStageTask(a,o,n,i),a.overallReset&&this._createOverallStageTask(a,o,n,i)},this)},r.prototype.prepareView=function(t,n,i,a){var o=t.renderTask,s=o.context;s.model=n,s.ecModel=i,s.api=a,o.__block=!t.incrementalPrepareRender,this._pipe(n,o)},r.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},r.prototype.performVisualTasks=function(t,n,i){this._performStageTasks(this._visualHandlers,t,n,i)},r.prototype._performStageTasks=function(t,n,i,a){a=a||{};var o=!1,s=this;each$5(t,function(u,c){if(!(a.visualType&&a.visualType!==u.visualType)){var f=s._stageTaskMap.get(u.uid),d=f.seriesTaskMap,g=f.overallTask;if(g){var v,M=g.agentStubMap;M.each(function(R){l(a,R)&&(R.dirty(),v=!0)}),v&&g.dirty(),s.updatePayload(g,i);var P=s.getPerformArgs(g,a.block);M.each(function(R){R.perform(P)}),g.perform(P)&&(o=!0)}else d&&d.each(function(R,I){l(a,R)&&R.dirty();var $=s.getPerformArgs(R,a.block);$.skip=!u.performRawSeries&&n.isSeriesFiltered(R.context.model),s.updatePayload(R,i),R.perform($)&&(o=!0)})}});function l(u,c){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(c.__pipeline.id))}this.unfinished=o||this.unfinished},r.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(i){n=i.dataTask.perform()||n}),this.unfinished=n||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},r.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},r.prototype._createSeriesStageTask=function(t,n,i,a){var o=this,s=n.seriesTaskMap,l=n.seriesTaskMap=createHashMap(),u=t.seriesType,c=t.getTargetSeries;t.createOnAllSeries?i.eachRawSeries(f):u?i.eachRawSeriesByType(u,f):c&&c(i,a).each(f);function f(d){var g=d.uid,v=l.set(g,s&&s.get(g)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));v.context={model:d,ecModel:i,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(d,v)}},r.prototype._createOverallStageTask=function(t,n,i,a){var o=this,s=n.overallTask=n.overallTask||createTask({reset:overallTaskReset});s.context={ecModel:i,api:a,overallReset:t.overallReset,scheduler:o};var l=s.agentStubMap,u=s.agentStubMap=createHashMap(),c=t.seriesType,f=t.getTargetSeries,d=!0,g=!1,v="";assert(!t.createOnAllSeries,v),c?i.eachRawSeriesByType(c,M):f?f(i,a).each(M):(d=!1,each$5(i.getSeries(),M));function M(P){var R=P.uid,I=u.set(R,l&&l.get(R)||(g=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));I.context={model:P,overallProgress:d},I.agent=s,I.__block=d,o._pipe(P,I)}g&&s.dirty()},r.prototype._pipe=function(t,n){var i=t.uid,a=this._pipelineMap.get(i);!a.head&&(a.head=n),a.tail&&a.tail.pipe(n),a.tail=n,n.__idxInPipeline=a.count++,n.__pipeline=a},r.wrapStageHandler=function(t,n){return isFunction(t)&&(t={overallReset:t,seriesType:detectSeriseType(t)}),t.uid=getUID("stageHandler"),n&&(t.visualType=n),t},r}();function overallTaskReset(r){r.overallReset(r.ecModel,r.api,r.payload)}function stubReset(r){return r.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function seriesTaskReset(r){r.useClearVisual&&r.data.clearAllVisual();var t=r.resetDefines=normalizeToArray(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?map$1(t,function(n,i){return makeSeriesTaskProgress(i)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(r){return function(t,n){var i=n.data,a=n.resetDefines[r];if(a&&a.dataEach)for(var o=t.start;o<t.end;o++)a.dataEach(i,o);else a&&a.progress&&a.progress(t,i)}}function seriesTaskCount(r){return r.data.count()}function detectSeriseType(r){seriesType=null;try{r(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1);mockMethods(apiMock,ExtensionAPI$1);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(r){seriesType=r};ecModelMock.eachComponent=function(r){r.mainType==="series"&&r.subType&&(seriesType=r.subType)};function mockMethods(r,t){for(var n in t.prototype)r[n]=noop}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function r(){}return r.prototype.normalizeQuery=function(t){var n={},i={},a={};if(isString(t)){var o=parseClassType(t);n.mainType=o.main||null,n.subType=o.sub||null}else{var s=["Index","Name","Id"],l={name:1,dataIndex:1,dataType:1};each$5(t,function(u,c){for(var f=!1,d=0;d<s.length;d++){var g=s[d],v=c.lastIndexOf(g);if(v>0&&v===c.length-g.length){var M=c.slice(0,v);M!=="data"&&(n.mainType=M,n[g.toLowerCase()]=u,f=!0)}}l.hasOwnProperty(c)&&(i[c]=u,f=!0),f||(a[c]=u)})}return{cptQuery:n,dataQuery:i,otherQuery:a}},r.prototype.filter=function(t,n){var i=this.eventInfo;if(!i)return!0;var a=i.targetEl,o=i.packedEvent,s=i.model,l=i.view;if(!s||!l)return!0;var u=n.cptQuery,c=n.dataQuery;return f(u,s,"mainType")&&f(u,s,"subType")&&f(u,s,"index","componentIndex")&&f(u,s,"name")&&f(u,s,"id")&&f(c,o,"name")&&f(c,o,"dataIndex")&&f(c,o,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(t,n.otherQuery,a,o));function f(d,g,v,M){return d[v]==null||g[M||v]===d[v]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var n=r.getData();if(r.legendIcon&&n.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var i={},a={},o=!1,s=0;s<SYMBOL_PROPS_WITH_CB.length;s++){var l=SYMBOL_PROPS_WITH_CB[s],u=r.get(l);isFunction(u)?(o=!0,a[l]=u):i[l]=u}if(i.symbol=i.symbol||r.defaultSymbol,n.setVisual(extend({legendIcon:r.legendIcon||i.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},i)),t.isSeriesFiltered(r))return;var c=keys(a);function f(d,g){for(var v=r.getRawValue(g),M=r.getDataParams(g),P=0;P<c.length;P++){var R=c[P];d.setItemVisual(g,R,a[R](v,M))}}return{dataEach:o?f:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!r.hasSymbolVisual||t.isSeriesFiltered(r))return;var n=r.getData();function i(a,o){for(var s=a.getItemModel(o),l=0;l<SYMBOL_PROPS.length;l++){var u=SYMBOL_PROPS[l],c=s.getShallow(u,!0);c!=null&&a.setItemVisual(o,u,c)}}return{dataEach:n.hasItemOption?i:null}}};function getItemVisualFromData(r,t,n){switch(n){case"color":var i=r.getItemVisual(t,"style");return i[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,n)}}function getVisualFromData(r,t){switch(t){case"color":var n=r.getVisual("style");return n[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function createLegacyDataSelectAction(r,t){function n(i,a){var o=[];return i.eachComponent({mainType:"series",subType:r,query:a},function(s){o.push(s.seriesIndex)}),o}each$5([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(i){t(i[0],function(a,o,s){a=extend({},a),s.dispatchAction(extend(a,{type:i[1],seriesIndex:n(o,a)}))})})}function handleSeriesLegacySelectEvents(r,t,n,i,a){var o=r+t;n.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(s){for(var l=s.seriesIndex,u=s.option.selectedMap,c=a.selected,f=0;f<c.length;f++)if(c[f].seriesIndex===l){var d=s.getData(),g=queryDataIndex(d,a.fromActionPayload);n.trigger(o,{type:o,seriesId:s.id,name:isArray(g)?d.getName(g[0]):d.getName(g),selected:isString(u)?u:extend({},u)})}})}function handleLegacySelectEvents(r,t,n){r.on("selectchanged",function(i){var a=n.getModel();i.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",t,a,i),handleSeriesLegacySelectEvents("pie","selectchanged",t,a,i)):i.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",t,a,i),handleSeriesLegacySelectEvents("pie","selected",t,a,i)):i.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",t,a,i),handleSeriesLegacySelectEvents("pie","unselected",t,a,i))})}function findEventDispatcher(r,t,n){for(var i;r&&!(t(r)&&(i=r,n));)r=r.__hostTarget||r.parent;return i}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function r(){this._id="__ec_inner_"+wmUniqueIndex++}return r.prototype.get=function(t){return this._guard(t)[this._id]},r.prototype.set=function(t,n){var i=this._guard(t);return supportDefineProperty?Object.defineProperty(i,this._id,{value:n,enumerable:!1,configurable:!0}):i[this._id]=n,this},r.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},r.prototype.has=function(t){return!!this._guard(t)[this._id]},r.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},r}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var n=t.cx,i=t.cy,a=t.width/2,o=t.height/2;r.moveTo(n,i-o),r.lineTo(n+a,i+o),r.lineTo(n-a,i+o),r.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var n=t.cx,i=t.cy,a=t.width/2,o=t.height/2;r.moveTo(n,i-o),r.lineTo(n+a,i),r.lineTo(n,i+o),r.lineTo(n-a,i),r.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var n=t.x,i=t.y,a=t.width/5*3,o=Math.max(a,t.height),s=a/2,l=s*s/(o-s),u=i-o+s+l,c=Math.asin(l/s),f=Math.cos(c)*s,d=Math.sin(c),g=Math.cos(c),v=s*.6,M=s*.7;r.moveTo(n-f,u+l),r.arc(n,u,s,Math.PI-c,Math.PI*2+c),r.bezierCurveTo(n+f-d*v,u+l+g*v,n,i-M,n,i),r.bezierCurveTo(n,i-M,n-f+d*v,u+l+g*v,n-f,u+l),r.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var n=t.height,i=t.width,a=t.x,o=t.y,s=i/3*2;r.moveTo(a,o),r.lineTo(a+s,o+n),r.lineTo(a,o+n/4*3),r.lineTo(a-s,o+n),r.lineTo(a,o),r.closePath()}}),symbolCtors={line:Line$1,rect:Rect$2,roundRect:Rect$2,square:Rect$2,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(r,t,n,i,a){a.x1=r,a.y1=t+i/2,a.x2=r+n,a.y2=t+i/2},rect:function(r,t,n,i,a){a.x=r,a.y=t,a.width=n,a.height=i},roundRect:function(r,t,n,i,a){a.x=r,a.y=t,a.width=n,a.height=i,a.r=Math.min(n,i)/4},square:function(r,t,n,i,a){var o=Math.min(n,i);a.x=r,a.y=t,a.width=o,a.height=o},circle:function(r,t,n,i,a){a.cx=r+n/2,a.cy=t+i/2,a.r=Math.min(n,i)/2},diamond:function(r,t,n,i,a){a.cx=r+n/2,a.cy=t+i/2,a.width=n,a.height=i},pin:function(r,t,n,i,a){a.x=r+n/2,a.y=t+i/2,a.width=n,a.height=i},arrow:function(r,t,n,i,a){a.x=r+n/2,a.y=t+i/2,a.width=n,a.height=i},triangle:function(r,t,n,i,a){a.cx=r+n/2,a.cy=t+i/2,a.width=n,a.height=i}},symbolBuildProxies={};each$5(symbolCtors,function(r,t){symbolBuildProxies[t]=new r});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,n){var i=calculateTextPosition(r,t,n),a=this.shape;return a&&a.symbolType==="pin"&&t.position==="inside"&&(i.y=n.y+n.height*.4),i},buildPath:function(r,t,n){var i=t.symbolType;if(i!=="none"){var a=symbolBuildProxies[i];a||(i="rect",a=symbolBuildProxies[i]),symbolShapeMakers[i](t.x,t.y,t.width,t.height,a.shape),a.buildPath(r,a.shape,n)}}});function symbolPathSetColor(r,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=r,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=r:n.fill=r,this.markRedraw()}}function createSymbol(r,t,n,i,a,o,s){var l=r.indexOf("empty")===0;l&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var u;return r.indexOf("image://")===0?u=makeImage(r.slice(8),new BoundingRect$1(t,n,i,a),s?"center":"cover"):r.indexOf("path://")===0?u=makePath(r.slice(7),{},new BoundingRect$1(t,n,i,a),s?"center":"cover"):u=new SymbolClz$1({shape:{symbolType:r,x:t,y:n,width:i,height:a}}),u.__isEmptyBrush=l,u.setColor=symbolPathSetColor,o&&u.setColor(o),u}function normalizeSymbolSize(r){return isArray(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function normalizeSymbolOffset(r,t){if(r!=null)return isArray(r)||(r=[r,r]),[parsePercent(r[0],t[0])||0,parsePercent(retrieve2(r[1],r[0]),t[1])||0]}function isSafeNum(r){return isFinite(r)}function createLinearGradient(r,t,n){var i=t.x==null?0:t.x,a=t.x2==null?1:t.x2,o=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(i=i*n.width+n.x,a=a*n.width+n.x,o=o*n.height+n.y,s=s*n.height+n.y),i=isSafeNum(i)?i:0,a=isSafeNum(a)?a:1,o=isSafeNum(o)?o:0,s=isSafeNum(s)?s:0;var l=r.createLinearGradient(i,o,a,s);return l}function createRadialGradient(r,t,n){var i=n.width,a=n.height,o=Math.min(i,a),s=t.x==null?.5:t.x,l=t.y==null?.5:t.y,u=t.r==null?.5:t.r;t.global||(s=s*i+n.x,l=l*a+n.y,u=u*o),s=isSafeNum(s)?s:.5,l=isSafeNum(l)?l:.5,u=u>=0&&isSafeNum(u)?u:.5;var c=r.createRadialGradient(s,l,0,s,l,u);return c}function getCanvasGradient(r,t,n){for(var i=t.type==="radial"?createRadialGradient(r,t,n):createLinearGradient(r,t,n),a=t.colorStops,o=0;o<a.length;o++)i.addColorStop(a[o].offset,a[o].color);return i}function isClipPathChanged(r,t){if(r===t||!r&&!t)return!1;if(!r||!t||r.length!==t.length)return!0;for(var n=0;n<r.length;n++)if(r[n]!==t[n])return!0;return!1}function parseInt10(r){return parseInt(r,10)}function getSize(r,t,n){var i=["width","height"][t],a=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(n[i]!=null&&n[i]!=="auto")return parseFloat(n[i]);var l=document.defaultView.getComputedStyle(r);return(r[a]||parseInt10(l[i])||parseInt10(r.style[i]))-(parseInt10(l[o])||0)-(parseInt10(l[s])||0)|0}function normalizeLineDash(r,t){return!r||r==="solid"||!(t>0)?null:r==="dashed"?[4*t,2*t]:r==="dotted"?[t]:isNumber(r)?[r]:isArray(r)?r:null}function getLineDash(r){var t=r.style,n=t.lineDash&&t.lineWidth>0&&normalizeLineDash(t.lineDash,t.lineWidth),i=t.lineDashOffset;if(n){var a=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;a&&a!==1&&(n=map$1(n,function(o){return o/a}),i/=a)}return[n,i]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(r){var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))}function isValidStrokeFillStyle(r){return typeof r=="string"&&r!=="none"}function styleHasFill(r){var t=r.fill;return t!=null&&t!=="none"}function doFillPath(r,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity,r.fill(),r.globalAlpha=n}else r.fill()}function doStrokePath(r,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity,r.stroke(),r.globalAlpha=n}else r.stroke()}function createCanvasPattern(r,t,n){var i=createOrUpdateImage(t.image,t.__image,n);if(isImageReady(i)){var a=r.createPattern(i,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*RADIAN_TO_DEGREE),o.scaleSelf(t.scaleX||1,t.scaleY||1),a.setTransform(o)}return a}}function brushPath(r,t,n,i){var a,o=styleHasStroke(n),s=styleHasFill(n),l=n.strokePercent,u=l<1,c=!t.path;(!t.silent||u)&&c&&t.createPathProxy();var f=t.path||pathProxyForDraw,d=t.__dirty;if(!i){var g=n.fill,v=n.stroke,M=s&&!!g.colorStops,P=o&&!!v.colorStops,R=s&&!!g.image,I=o&&!!v.image,$=void 0,N=void 0,F=void 0,V=void 0,H=void 0;(M||P)&&(H=t.getBoundingRect()),M&&($=d?getCanvasGradient(r,g,H):t.__canvasFillGradient,t.__canvasFillGradient=$),P&&(N=d?getCanvasGradient(r,v,H):t.__canvasStrokeGradient,t.__canvasStrokeGradient=N),R&&(F=d||!t.__canvasFillPattern?createCanvasPattern(r,g,t):t.__canvasFillPattern,t.__canvasFillPattern=F),I&&(V=d||!t.__canvasStrokePattern?createCanvasPattern(r,v,t):t.__canvasStrokePattern,t.__canvasStrokePattern=F),M?r.fillStyle=$:R&&(F?r.fillStyle=F:s=!1),P?r.strokeStyle=N:I&&(V?r.strokeStyle=V:o=!1)}var G=t.getGlobalScale();f.setScale(G[0],G[1],t.segmentIgnoreThreshold);var Y,W;r.setLineDash&&n.lineDash&&(a=getLineDash(t),Y=a[0],W=a[1]);var q=!0;(c||d&SHAPE_CHANGED_BIT)&&(f.setDPR(r.dpr),u?f.setContext(null):(f.setContext(r),q=!1),f.reset(),t.buildPath(f,t.shape,i),f.toStatic(),t.pathUpdated()),q&&f.rebuildPath(r,u?l:1),Y&&(r.setLineDash(Y),r.lineDashOffset=W),i||(n.strokeFirst?(o&&doStrokePath(r,n),s&&doFillPath(r,n)):(s&&doFillPath(r,n),o&&doStrokePath(r,n))),Y&&r.setLineDash([])}function brushImage(r,t,n){var i=t.__image=createOrUpdateImage(n.image,t.__image,t,t.onload);if(!(!i||!isImageReady(i))){var a=n.x||0,o=n.y||0,s=t.getWidth(),l=t.getHeight(),u=i.width/i.height;if(s==null&&l!=null?s=l*u:l==null&&s!=null?l=s/u:s==null&&l==null&&(s=i.width,l=i.height),n.sWidth&&n.sHeight){var c=n.sx||0,f=n.sy||0;r.drawImage(i,c,f,n.sWidth,n.sHeight,a,o,s,l)}else if(n.sx&&n.sy){var c=n.sx,f=n.sy,d=s-c,g=l-f;r.drawImage(i,c,f,d,g,a,o,s,l)}else r.drawImage(i,a,o,s,l)}}function brushText(r,t,n){var i,a=n.text;if(a!=null&&(a+=""),a){r.font=n.font||DEFAULT_FONT,r.textAlign=n.textAlign,r.textBaseline=n.textBaseline;var o=void 0,s=void 0;r.setLineDash&&n.lineDash&&(i=getLineDash(t),o=i[0],s=i[1]),o&&(r.setLineDash(o),r.lineDashOffset=s),n.strokeFirst?(styleHasStroke(n)&&r.strokeText(a,n.x,n.y),styleHasFill(n)&&r.fillText(a,n.x,n.y)):(styleHasFill(n)&&r.fillText(a,n.x,n.y),styleHasStroke(n)&&r.strokeText(a,n.x,n.y)),o&&r.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(r,t,n,i,a){var o=!1;if(!i&&(n=n||{},t===n))return!1;if(i||t.opacity!==n.opacity){flushPathDrawn(r,a),o=!0;var s=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(s)?DEFAULT_COMMON_STYLE.opacity:s}(i||t.blend!==n.blend)&&(o||(flushPathDrawn(r,a),o=!0),r.globalCompositeOperation=t.blend||DEFAULT_COMMON_STYLE.blend);for(var l=0;l<SHADOW_NUMBER_PROPS.length;l++){var u=SHADOW_NUMBER_PROPS[l];(i||t[u]!==n[u])&&(o||(flushPathDrawn(r,a),o=!0),r[u]=r.dpr*(t[u]||0))}return(i||t.shadowColor!==n.shadowColor)&&(o||(flushPathDrawn(r,a),o=!0),r.shadowColor=t.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),o}function bindPathAndTextCommonStyle(r,t,n,i,a){var o=getStyle(t,a.inHover),s=i?null:n&&getStyle(n,a.inHover)||{};if(o===s)return!1;var l=bindCommonProps(r,o,s,i,a);if((i||o.fill!==s.fill)&&(l||(flushPathDrawn(r,a),l=!0),isValidStrokeFillStyle(o.fill)&&(r.fillStyle=o.fill)),(i||o.stroke!==s.stroke)&&(l||(flushPathDrawn(r,a),l=!0),isValidStrokeFillStyle(o.stroke)&&(r.strokeStyle=o.stroke)),(i||o.opacity!==s.opacity)&&(l||(flushPathDrawn(r,a),l=!0),r.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var u=o.lineWidth,c=u/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);r.lineWidth!==c&&(l||(flushPathDrawn(r,a),l=!0),r.lineWidth=c)}for(var f=0;f<STROKE_PROPS.length;f++){var d=STROKE_PROPS[f],g=d[0];(i||o[g]!==s[g])&&(l||(flushPathDrawn(r,a),l=!0),r[g]=o[g]||d[1])}return l}function bindImageStyle(r,t,n,i,a){return bindCommonProps(r,getStyle(t,a.inHover),n&&getStyle(n,a.inHover),i,a)}function setContextTransform(r,t){var n=t.transform,i=r.dpr||1;n?r.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):r.setTransform(i,0,0,i,0,0)}function updateClipStatus(r,t,n){for(var i=!1,a=0;a<r.length;a++){var o=r[a];i=i||o.isZeroArea(),setContextTransform(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}n.allClipped=i}function isTransformChanged(r,t){return r&&t?r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]:!(!r&&!t)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(r){var t=styleHasFill(r),n=styleHasStroke(r);return!(r.lineDash||!(+t^+n)||t&&typeof r.fill!="string"||n&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function flushPathDrawn(r,t){t.batchFill&&r.fill(),t.batchStroke&&r.stroke(),t.batchFill="",t.batchStroke=""}function getStyle(r,t){return t&&r.__hoverStyle||r.style}function brushSingle(r,t){brush(r,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush(r,t,n,i){var a=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~REDRAW_BIT,t.__isRendered=!1;return}var o=t.__clipPaths,s=n.prevElClipPaths,l=!1,u=!1;if((!s||isClipPathChanged(o,s))&&(s&&s.length&&(flushPathDrawn(r,n),r.restore(),u=l=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(flushPathDrawn(r,n),r.save(),updateClipStatus(o,r,n),l=!0),n.prevElClipPaths=o),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var c=n.prevEl;c||(u=l=!0);var f=t instanceof Path$1&&t.autoBatch&&canPathBatch(t.style);l||isTransformChanged(a,c.transform)?(flushPathDrawn(r,n),setContextTransform(r,t)):f||flushPathDrawn(r,n);var d=getStyle(t,n.inHover);t instanceof Path$1?(n.lastDrawType!==DRAW_TYPE_PATH&&(u=!0,n.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(r,t,c,u,n),(!f||!n.batchFill&&!n.batchStroke)&&r.beginPath(),brushPath(r,t,d,f),f&&(n.batchFill=d.fill||"",n.batchStroke=d.stroke||"")):t instanceof TSpan$1?(n.lastDrawType!==DRAW_TYPE_TEXT&&(u=!0,n.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(r,t,c,u,n),brushText(r,t,d)):t instanceof ZRImage$1?(n.lastDrawType!==DRAW_TYPE_IMAGE&&(u=!0,n.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(r,t,c,u,n),brushImage(r,t,d)):t.getTemporalDisplayables&&(n.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(u=!0,n.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(r,t,n)),f&&i&&flushPathDrawn(r,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function brushIncremental(r,t,n){var i=t.getDisplayables(),a=t.getTemporalDisplayables();r.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},s,l;for(s=t.getCursor(),l=i.length;s<l;s++){var u=i[s];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),brush(r,u,o,s===l-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),o.prevEl=u}for(var c=0,f=a.length;c<f;c++){var u=a[c];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),brush(r,u,o,c===f-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),o.prevEl=u}t.clearTemporalDisplayables(),t.notClear=!0,r.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(r,t){if(r==="none")return null;var n=t.getDevicePixelRatio(),i=t.getZr(),a=i.painter.type==="svg";r.dirty&&decalMap.delete(r);var o=decalMap.get(r);if(o)return o;var s=defaults(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var l={repeat:"repeat"};return u(l),l.rotation=s.rotation,l.scaleX=l.scaleY=a?1:1/n,decalMap.set(r,l),r.dirty=!1,l;function u(c){for(var f=[n],d=!0,g=0;g<decalKeys.length;++g){var v=s[decalKeys[g]];if(v!=null&&!isArray(v)&&!isString(v)&&!isNumber(v)&&typeof v!="boolean"){d=!1;break}f.push(v)}var M;if(d){M=f.join(",")+(a?"-svg":"");var P=decalCache.get(M);P&&(a?c.svgElement=P:c.image=P)}var R=normalizeDashArrayX(s.dashArrayX),I=normalizeDashArrayY(s.dashArrayY),$=normalizeSymbolArray(s.symbol),N=getLineBlockLengthX(R),F=getLineBlockLengthY(I),V=!a&&platformApi.createCanvas(),H=a&&{tag:"g",attrs:{},key:"dcl",children:[]},G=W(),Y;V&&(V.width=G.width*n,V.height=G.height*n,Y=V.getContext("2d")),q(),d&&decalCache.put(M,V||H),c.image=V,c.svgElement=H,c.svgWidth=G.width,c.svgHeight=G.height;function W(){for(var X=1,K=0,Q=N.length;K<Q;++K)X=getLeastCommonMultiple(X,N[K]);for(var te=1,K=0,Q=$.length;K<Q;++K)te=getLeastCommonMultiple(te,$[K].length);X*=te;var ae=F*N.length*$.length;return{width:Math.max(1,Math.min(X,s.maxTileWidth)),height:Math.max(1,Math.min(ae,s.maxTileHeight))}}function q(){Y&&(Y.clearRect(0,0,V.width,V.height),s.backgroundColor&&(Y.fillStyle=s.backgroundColor,Y.fillRect(0,0,V.width,V.height)));for(var X=0,K=0;K<I.length;++K)X+=I[K];if(X<=0)return;for(var Q=-F,te=0,ae=0,re=0;Q<G.height;){if(te%2===0){for(var de=ae/2%$.length,se=0,ce=0,ye=0;se<G.width*2;){for(var Te=0,K=0;K<R[re].length;++K)Te+=R[re][K];if(Te<=0)break;if(ce%2===0){var me=(1-s.symbolSize)*.5,xe=se+R[re][ce]*me,Ce=Q+I[te]*me,Pe=R[re][ce]*s.symbolSize,Ae=I[te]*s.symbolSize,De=ye/2%$[de].length;Oe(xe,Ce,Pe,Ae,$[de][De])}se+=R[re][ce],++ye,++ce,ce===R[re].length&&(ce=0)}++re,re===R.length&&(re=0)}Q+=I[te],++ae,++te,te===I.length&&(te=0)}function Oe(Re,we,_e,Z,J){var ee=a?1:n,ie=createSymbol(J,Re*ee,we*ee,_e*ee,Z*ee,s.color,s.symbolKeepAspect);if(a){var ne=i.painter.renderOneToVNode(ie);ne&&H.children.push(ne)}else brushSingle(Y,ie)}}}}function normalizeSymbolArray(r){if(!r||r.length===0)return[["rect"]];if(isString(r))return[[r]];for(var t=!0,n=0;n<r.length;++n)if(!isString(r[n])){t=!1;break}if(t)return normalizeSymbolArray([r]);for(var i=[],n=0;n<r.length;++n)isString(r[n])?i.push([r[n]]):i.push(r[n]);return i}function normalizeDashArrayX(r){if(!r||r.length===0)return[[0,0]];if(isNumber(r)){var t=Math.ceil(r);return[[t,t]]}for(var n=!0,i=0;i<r.length;++i)if(!isNumber(r[i])){n=!1;break}if(n)return normalizeDashArrayX([r]);for(var a=[],i=0;i<r.length;++i)if(isNumber(r[i])){var t=Math.ceil(r[i]);a.push([t,t])}else{var t=map$1(r[i],function(l){return Math.ceil(l)});t.length%2===1?a.push(t.concat(t)):a.push(t)}return a}function normalizeDashArrayY(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(isNumber(r)){var t=Math.ceil(r);return[t,t]}var n=map$1(r,function(i){return Math.ceil(i)});return r.length%2?n.concat(n):n}function getLineBlockLengthX(r){return map$1(r,function(t){return getLineBlockLengthY(t)})}function getLineBlockLengthY(r){for(var t=0,n=0;n<r.length;++n)t+=r[n];return r.length%2===1?t*2:t}function decalVisual(r,t){r.eachRawSeries(function(n){if(!r.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each(function(s){var l=i.getItemVisual(s,"decal");if(l){var u=i.ensureUniqueItemVisual(s,"style");u.decal=createOrUpdatePatternFromDecal(l,t)}});var a=i.getVisual("decal");if(a){var o=i.getVisual("style");o.decal=createOrUpdatePatternFromDecal(a,t)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(r,t){implsStore[r]=t}function getImpl(r){return implsStore[r]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,r,t)}}function createRegisterEventWithLowercaseMessageCenter(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return toLowercaseNameAndCallEventful(this,r,t)}}function toLowercaseNameAndCallEventful(r,t,n){return n[0]=n[0]&&n[0].toLowerCase(),Eventful$1.prototype[t].apply(r,n)}var MessageCenter=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(r){__extends(t,r);function t(n,i,a){var o=r.call(this,new ECEventProcessor)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],a=a||{},isString(i)&&(i=themeStorage[i]),o._dom=n;var s="canvas",l="auto",u=!1,c=o._zr=init$1(n,{renderer:a.renderer||s,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:retrieve2(a.useDirtyRect,u),useCoarsePointer:retrieve2(a.useCoarsePointer,l),pointerSize:a.pointerSize});o._ssr=a.ssr,o._throttledZrFlush=throttle(bind$1(c.flush,c),17),i=clone$2(i),i&&globalBackwardCompat(i,!0),o._theme=i,o._locale=createLocaleObject(a.locale||SYSTEM_LANG),o._coordSysMgr=new CoordinateSystem;var f=o._api=createExtensionAPI(o);function d(g,v){return g.__prio-v.__prio}return sort(visualFuncs,d),sort(dataProcessorFuncs,d),o._scheduler=new Scheduler$1(o,f,dataProcessorFuncs,visualFuncs),o._messageCenter=new MessageCenter,o._initEvents(),o.resize=bind$1(o.resize,o),c.animation.on("frame",o._onframe,o),bindRenderedEvent(c,o),bindMouseEvent(c,o),setAsPrimitive(o),o}return t.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var n=this._scheduler;if(this[PENDING_UPDATE]){var i=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(u){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,u}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,i),triggerUpdatedEvent.call(this,i)}else if(n.unfinished){var a=TEST_FRAME_REMAIN_TIME,o=this._model,s=this._api;n.unfinished=!1;do{var l=+new Date;n.performSeriesTasks(o),n.performDataProcessorTasks(o),updateStreamModes(this,o),n.performVisualTasks(o),renderSeries(this,this._model,s,"remain",{}),a-=+new Date-l}while(a>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,i,a){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var o,s,l;if(isObject$2(i)&&(a=i.lazyUpdate,o=i.silent,s=i.replaceMerge,l=i.transition,i=i.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||i){var u=new OptionManager$1(this._api),c=this._theme,f=this._model=new GlobalModel$1;f.scheduler=this._scheduler,f.ssr=this._ssr,f.init(null,null,null,c,this._locale,u)}this._model.setOption(n,{replaceMerge:s},optionPreprocessorFuncs);var d={seriesTransition:l,optionChanged:!0};if(a)this[PENDING_UPDATE]={silent:o,updateParams:d},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,d)}catch(g){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,g}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var i=this._zr.painter;return i.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var n=this._zr,i=n.storage.getDisplayList();return each$5(i,function(a){a.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var i=n.excludeComponents,a=this._model,o=[],s=this;each$5(i,function(u){a.eachComponent({mainType:u},function(c){var f=s._componentsMap[c.__viewId];f.group.ignore||(o.push(f),f.group.ignore=!0)})});var l=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return each$5(o,function(u){u.group.ignore=!1}),l},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var i=n.type==="svg",a=this.group,o=Math.min,s=Math.max,l=1/0;if(connectedGroups[a]){var u=l,c=l,f=-l,d=-l,g=[],v=n&&n.pixelRatio||this.getDevicePixelRatio();each$5(instances,function(N,F){if(N.group===a){var V=i?N.getZr().painter.getSvgDom().innerHTML:N.renderToCanvas(clone$2(n)),H=N.getDom().getBoundingClientRect();u=o(H.left,u),c=o(H.top,c),f=s(H.right,f),d=s(H.bottom,d),g.push({dom:V,left:H.left,top:H.top})}}),u*=v,c*=v,f*=v,d*=v;var M=f-u,P=d-c,R=platformApi.createCanvas(),I=init$1(R,{renderer:i?"svg":"canvas"});if(I.resize({width:M,height:P}),i){var $="";return each$5(g,function(N){var F=N.left-u,V=N.top-c;$+='<g transform="translate('+F+","+V+')">'+N.dom+"</g>"}),I.painter.getSvgRoot().innerHTML=$,n.connectedBackgroundColor&&I.painter.setBackgroundColor(n.connectedBackgroundColor),I.refreshImmediately(),I.painter.toDataURL()}else return n.connectedBackgroundColor&&I.add(new Rect$2({shape:{x:0,y:0,width:M,height:P},style:{fill:n.connectedBackgroundColor}})),each$5(g,function(N){var F=new ZRImage$1({style:{x:N.left*v-u,y:N.top*v-c,image:N.dom}});I.add(F)}),I.refreshImmediately(),R.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,i){return doConvertPixel(this,"convertToPixel",n,i)},t.prototype.convertFromPixel=function(n,i){return doConvertPixel(this,"convertFromPixel",n,i)},t.prototype.containPixel=function(n,i){if(this._disposed){this.id;return}var a=this._model,o,s=parseFinder(a,n);return each$5(s,function(l,u){u.indexOf("Models")>=0&&each$5(l,function(c){var f=c.coordinateSystem;if(f&&f.containPoint)o=o||!!f.containPoint(i);else if(u==="seriesModels"){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(o=o||d.containPoint(i,c))}},this)},this),!!o},t.prototype.getVisual=function(n,i){var a=this._model,o=parseFinder(a,n,{defaultMainType:"series"}),s=o.seriesModel,l=s.getData(),u=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?l.indexOfRawIndex(o.dataIndex):null;return u!=null?getItemVisualFromData(l,u,i):getVisualFromData(l,i)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;each$5(MOUSE_EVENT_NAMES,function(i){var a=function(o){var s=n.getModel(),l=o.target,u,c=i==="globalout";if(c?u={}:l&&findEventDispatcher(l,function(M){var P=getECData(M);if(P&&P.dataIndex!=null){var R=P.dataModel||s.getSeriesByIndex(P.seriesIndex);return u=R&&R.getDataParams(P.dataIndex,P.dataType,l)||{},!0}else if(P.eventData)return u=extend({},P.eventData),!0},!0),u){var f=u.componentType,d=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",d=u.seriesIndex);var g=f&&d!=null&&s.getComponent(f,d),v=g&&n[g.mainType==="series"?"_chartsMap":"_componentsMap"][g.__viewId];u.event=o,u.type=i,n._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:g,view:v},n.trigger(i,u)}};a.zrEventfulCallAtLast=!0,n._zr.on(i,a,n)}),each$5(eventActionMap,function(i,a){n._messageCenter.on(a,function(o){this.trigger(a,o)},n)}),each$5(["selectchanged"],function(i){n._messageCenter.on(i,function(a){this.trigger(i,a)},n)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var i=this,a=i._api,o=i._model;each$5(i._componentsViews,function(s){s.dispose(o,a)}),each$5(i._chartsViews,function(s){s.dispose(o,a)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete instances[i.id]},t.prototype.resize=function(n){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(n);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!i){var a=i.resetOption("media"),o=n&&n.silent;this[PENDING_UPDATE]&&(o==null&&(o=this[PENDING_UPDATE].silent),a=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{a&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},n&&n.animation)})}catch(s){throw this[IN_MAIN_PROCESS_KEY]=!1,s}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}}},t.prototype.showLoading=function(n,i){if(this._disposed){this.id;return}if(isObject$2(n)&&(i=n,n=""),n=n||"default",this.hideLoading(),!!loadingEffects[n]){var a=loadingEffects[n](this._api,i),o=this._zr;this._loadingFX=a,o.add(a)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var i=extend({},n);return i.type=eventActionMap[n.type],i},t.prototype.dispatchAction=function(n,i){if(this._disposed){this.id;return}if(isObject$2(i)||(i={silent:!!i}),!!actions[n.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(n);return}var a=i.silent;doDispatchAction.call(this,n,a);var o=i.flush;o?this._zr.flush():o!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,a),triggerUpdatedEvent.call(this,a)}},t.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var i=n.seriesIndex,a=this.getModel(),o=a.getSeriesByIndex(i);o.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){prepare=function(d){var g=d._scheduler;g.restorePipelines(d._model),g.prepareStageTasks(),prepareView(d,!0),prepareView(d,!1),g.plan()},prepareView=function(d,g){for(var v=d._model,M=d._scheduler,P=g?d._componentsViews:d._chartsViews,R=g?d._componentsMap:d._chartsMap,I=d._zr,$=d._api,N=0;N<P.length;N++)P[N].__alive=!1;g?v.eachComponent(function(H,G){H!=="series"&&F(G)}):v.eachSeries(F);function F(H){var G=H.__requireNewView;H.__requireNewView=!1;var Y="_ec_"+H.id+"_"+H.type,W=!G&&R[Y];if(!W){var q=parseClassType(H.type),X=g?ComponentView$1.getClass(q.main,q.sub):ChartView$1.getClass(q.sub);W=new X,W.init(v,$),R[Y]=W,P.push(W),I.add(W.group)}H.__viewId=W.__id=Y,W.__alive=!0,W.__model=H,W.group.__ecComponentInfo={mainType:H.mainType,index:H.componentIndex},!g&&M.prepareView(W,H,v,$)}for(var N=0;N<P.length;){var V=P[N];V.__alive?N++:(!g&&V.renderTask.dispose(),I.remove(V.group),V.dispose(v,$),P.splice(N,1),R[V.__id]===V&&delete R[V.__id],V.__id=V.group.__ecComponentInfo=null)}},updateDirectly=function(d,g,v,M,P){var R=d._model;if(R.setUpdatePayload(v),!M){each$5([].concat(d._componentsViews).concat(d._chartsViews),V);return}var I={};I[M+"Id"]=v[M+"Id"],I[M+"Index"]=v[M+"Index"],I[M+"Name"]=v[M+"Name"];var $={mainType:M,query:I};P&&($.subType=P);var N=v.excludeSeriesId,F;N!=null&&(F=createHashMap(),each$5(normalizeToArray(N),function(H){var G=convertOptionIdName(H,null);G!=null&&F.set(G,!0)})),R&&R.eachComponent($,function(H){var G=F&&F.get(H.id)!=null;if(!G)if(isHighDownPayload(v))if(H instanceof SeriesModel$1)v.type===HIGHLIGHT_ACTION_TYPE&&!v.notBlur&&!H.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(H,v,d._api);else{var Y=findComponentHighDownDispatchers(H.mainType,H.componentIndex,v.name,d._api),W=Y.focusSelf,q=Y.dispatchers;v.type===HIGHLIGHT_ACTION_TYPE&&W&&!v.notBlur&&blurComponent(H.mainType,H.componentIndex,d._api),q&&each$5(q,function(X){v.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(X):leaveEmphasis(X)})}else isSelectChangePayload(v)&&H instanceof SeriesModel$1&&(toggleSelectionFromPayload(H,v,d._api),updateSeriesElementSelection(H),markStatusToUpdate(d))},d),R&&R.eachComponent($,function(H){var G=F&&F.get(H.id)!=null;G||V(d[M==="series"?"_chartsMap":"_componentsMap"][H.__viewId])},d);function V(H){H&&H.__alive&&H[g]&&H[g](H.__model,R,d._api,v)}},updateMethods={prepareAndUpdate:function(d){prepare(this),updateMethods.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,g){var v=this._model,M=this._api,P=this._zr,R=this._coordSysMgr,I=this._scheduler;if(v){v.setUpdatePayload(d),I.restoreData(v,d),I.performSeriesTasks(v),R.create(v,M),I.performDataProcessorTasks(v,d),updateStreamModes(this,v),R.update(v,M),n(v),I.performVisualTasks(v,d),render(this,v,M,d,g);var $=v.get("backgroundColor")||"transparent",N=v.get("darkMode");P.setBackgroundColor($),N!=null&&N!=="auto"&&P.setDarkMode(N),lifecycle$1.trigger("afterupdate",v,M)}},updateTransform:function(d){var g=this,v=this._model,M=this._api;if(v){v.setUpdatePayload(d);var P=[];v.eachComponent(function(I,$){if(I!=="series"){var N=g.getViewOfComponentModel($);if(N&&N.__alive)if(N.updateTransform){var F=N.updateTransform($,v,M,d);F&&F.update&&P.push(N)}else P.push(N)}});var R=createHashMap();v.eachSeries(function(I){var $=g._chartsMap[I.__viewId];if($.updateTransform){var N=$.updateTransform(I,v,M,d);N&&N.update&&R.set(I.uid,1)}else R.set(I.uid,1)}),n(v),this._scheduler.performVisualTasks(v,d,{setDirty:!0,dirtyMap:R}),renderSeries(this,v,M,d,{},R),lifecycle$1.trigger("afterupdate",v,M)}},updateView:function(d){var g=this._model;g&&(g.setUpdatePayload(d),ChartView$1.markUpdateMethod(d,"updateView"),n(g),this._scheduler.performVisualTasks(g,d,{setDirty:!0}),render(this,g,this._api,d,{}),lifecycle$1.trigger("afterupdate",g,this._api))},updateVisual:function(d){var g=this,v=this._model;v&&(v.setUpdatePayload(d),v.eachSeries(function(M){M.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(d,"updateVisual"),n(v),this._scheduler.performVisualTasks(v,d,{visualType:"visual",setDirty:!0}),v.eachComponent(function(M,P){if(M!=="series"){var R=g.getViewOfComponentModel(P);R&&R.__alive&&R.updateVisual(P,v,g._api,d)}}),v.eachSeries(function(M){var P=g._chartsMap[M.__viewId];P.updateVisual(M,v,g._api,d)}),lifecycle$1.trigger("afterupdate",v,this._api))},updateLayout:function(d){updateMethods.update.call(this,d)}},doConvertPixel=function(d,g,v,M){if(d._disposed){d.id;return}for(var P=d._model,R=d._coordSysMgr.getCoordinateSystems(),I,$=parseFinder(P,v),N=0;N<R.length;N++){var F=R[N];if(F[g]&&(I=F[g](P,$,M))!=null)return I}},updateStreamModes=function(d,g){var v=d._chartsMap,M=d._scheduler;g.eachSeries(function(P){M.updateStreamModes(P,v[P.__viewId])})},doDispatchAction=function(d,g){var v=this,M=this.getModel(),P=d.type,R=d.escapeConnect,I=actions[P],$=I.actionInfo,N=($.update||"update").split(":"),F=N.pop(),V=N[0]!=null&&parseClassType(N[0]);this[IN_MAIN_PROCESS_KEY]=!0;var H=[d],G=!1;d.batch&&(G=!0,H=map$1(d.batch,function(te){return te=defaults(extend({},te),d),te.batch=null,te}));var Y=[],W,q=isSelectChangePayload(d),X=isHighDownPayload(d);if(X&&allLeaveBlur(this._api),each$5(H,function(te){if(W=I.action(te,v._model,v._api),W=W||extend({},te),W.type=$.event||W.type,Y.push(W),X){var ae=preParseFinder(d),re=ae.queryOptionMap,de=ae.mainTypeSpecified,se=de?re.keys()[0]:"series";updateDirectly(v,F,te,se),markStatusToUpdate(v)}else q?(updateDirectly(v,F,te,"series"),markStatusToUpdate(v)):V&&updateDirectly(v,F,te,V.main,V.sub)}),F!=="none"&&!X&&!q&&!V)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,d),this[PENDING_UPDATE]=null):updateMethods[F].call(this,d)}catch(te){throw this[IN_MAIN_PROCESS_KEY]=!1,te}if(G?W={type:$.event||P,escapeConnect:R,batch:Y}:W=Y[0],this[IN_MAIN_PROCESS_KEY]=!1,!g){var K=this._messageCenter;if(K.trigger(W.type,W),q){var Q={type:"selectchanged",escapeConnect:R,selected:getAllSelectedIndices(M),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};K.trigger(Q.type,Q)}}},flushPendingActions=function(d){for(var g=this._pendingActions;g.length;){var v=g.shift();doDispatchAction.call(this,v,d)}},triggerUpdatedEvent=function(d){!d&&this.trigger("updated")},bindRenderedEvent=function(d,g){d.on("rendered",function(v){g.trigger("rendered",v),d.animation.isFinished()&&!g[PENDING_UPDATE]&&!g._scheduler.unfinished&&!g._pendingActions.length&&g.trigger("finished")})},bindMouseEvent=function(d,g){d.on("mouseover",function(v){var M=v.target,P=findEventDispatcher(M,isHighDownDispatcher);P&&(handleGlobalMouseOverForHighDown(P,v,g._api),markStatusToUpdate(g))}).on("mouseout",function(v){var M=v.target,P=findEventDispatcher(M,isHighDownDispatcher);P&&(handleGlobalMouseOutForHighDown(P,v,g._api),markStatusToUpdate(g))}).on("click",function(v){var M=v.target,P=findEventDispatcher(M,function($){return getECData($).dataIndex!=null},!0);if(P){var R=P.selected?"unselect":"select",I=getECData(P);g._api.dispatchAction({type:R,dataType:I.dataType,dataIndexInside:I.dataIndex,seriesIndex:I.seriesIndex,isFromClick:!0})}})};function n(d){d.clearColorPalette(),d.eachSeries(function(g){g.clearColorPalette()})}function i(d){var g=[],v=[],M=!1;if(d.eachComponent(function($,N){var F=N.get("zlevel")||0,V=N.get("z")||0,H=N.getZLevelKey();M=M||!!H,($==="series"?v:g).push({zlevel:F,z:V,idx:N.componentIndex,type:$,key:H})}),M){var P=g.concat(v),R,I;sort(P,function($,N){return $.zlevel===N.zlevel?$.z-N.z:$.zlevel-N.zlevel}),each$5(P,function($){var N=d.getComponent($.type,$.idx),F=$.zlevel,V=$.key;R!=null&&(F=Math.max(R,F)),V?(F===R&&V!==I&&F++,I=V):I&&(F===R&&F++,I=""),R=F,N.setZLevel(F)})}}render=function(d,g,v,M,P){i(g),renderComponents(d,g,v,M,P),each$5(d._chartsViews,function(R){R.__alive=!1}),renderSeries(d,g,v,M,P),each$5(d._chartsViews,function(R){R.__alive||R.remove(g,v)})},renderComponents=function(d,g,v,M,P,R){each$5(R||d._componentsViews,function(I){var $=I.__model;c($,I),I.render($,g,v,M),l($,I),f($,I)})},renderSeries=function(d,g,v,M,P,R){var I=d._scheduler;P=extend(P||{},{updatedSeries:g.getSeries()}),lifecycle$1.trigger("series:beforeupdate",g,v,P);var $=!1;g.eachSeries(function(N){var F=d._chartsMap[N.__viewId];F.__alive=!0;var V=F.renderTask;I.updatePayload(V,M),c(N,F),R&&R.get(N.uid)&&V.dirty(),V.perform(I.getPerformArgs(V))&&($=!0),F.group.silent=!!N.get("silent"),s(N,F),updateSeriesElementSelection(N)}),I.unfinished=$||I.unfinished,lifecycle$1.trigger("series:layoutlabels",g,v,P),lifecycle$1.trigger("series:transition",g,v,P),g.eachSeries(function(N){var F=d._chartsMap[N.__viewId];l(N,F),f(N,F)}),o(d,g),lifecycle$1.trigger("series:afterupdate",g,v,P)},markStatusToUpdate=function(d){d[STATUS_NEEDS_UPDATE_KEY]=!0,d.getZr().wakeUp()},applyChangedStates=function(d){d[STATUS_NEEDS_UPDATE_KEY]&&(d.getZr().storage.traverse(function(g){isElementRemoved(g)||a(g)}),d[STATUS_NEEDS_UPDATE_KEY]=!1)};function a(d){for(var g=[],v=d.currentStates,M=0;M<v.length;M++){var P=v[M];P==="emphasis"||P==="blur"||P==="select"||g.push(P)}d.selected&&d.states.select&&g.push("select"),d.hoverState===HOVER_STATE_EMPHASIS&&d.states.emphasis?g.push("emphasis"):d.hoverState===HOVER_STATE_BLUR&&d.states.blur&&g.push("blur"),d.useStates(g)}function o(d,g){var v=d._zr,M=v.storage,P=0;M.traverse(function(R){R.isGroup||P++}),P>g.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&g.eachSeries(function(R){if(!R.preventUsingHoverLayer){var I=d._chartsMap[R.__viewId];I.__alive&&I.eachRendered(function($){$.states.emphasis&&($.states.emphasis.hoverLayer=!0)})}})}function s(d,g){var v=d.get("blendMode")||null;g.eachRendered(function(M){M.isGroup||(M.style.blend=v)})}function l(d,g){if(!d.preventAutoZ){var v=d.get("z")||0,M=d.get("zlevel")||0;g.eachRendered(function(P){return u(P,v,M,-1/0),!0})}}function u(d,g,v,M){var P=d.getTextContent(),R=d.getTextGuideLine(),I=d.isGroup;if(I)for(var $=d.childrenRef(),N=0;N<$.length;N++)M=Math.max(u($[N],g,v,M),M);else d.z=g,d.zlevel=v,M=Math.max(d.z2,M);if(P&&(P.z=g,P.zlevel=v,isFinite(M)&&(P.z2=M+2)),R){var F=d.textGuideLineConfig;R.z=g,R.zlevel=v,isFinite(M)&&(R.z2=M+(F&&F.showAbove?1:-1))}return M}function c(d,g){g.eachRendered(function(v){if(!isElementRemoved(v)){var M=v.getTextContent(),P=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),M&&M.stateTransition&&(M.stateTransition=null),P&&P.stateTransition&&(P.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function f(d,g){var v=d.getModel("stateAnimation"),M=d.isAnimationEnabled(),P=v.get("duration"),R=P>0?{duration:P,delay:v.get("delay"),easing:v.get("easing")}:null;g.eachRendered(function(I){if(I.states&&I.states.emphasis){if(isElementRemoved(I))return;if(I instanceof Path$1&&savePathStates(I),I.__dirty){var $=I.prevStates;$&&I.useStates($)}if(M){I.stateTransition=R;var N=I.getTextContent(),F=I.getTextGuideLine();N&&(N.stateTransition=R),F&&(F.stateTransition=R)}I.__dirty&&a(I)}})}createExtensionAPI=function(d){return new(function(g){__extends(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(M){for(;M;){var P=M.__ecComponentInfo;if(P!=null)return d._model.getComponent(P.mainType,P.index);M=M.parent}},v.prototype.enterEmphasis=function(M,P){enterEmphasis(M,P),markStatusToUpdate(d)},v.prototype.leaveEmphasis=function(M,P){leaveEmphasis(M,P),markStatusToUpdate(d)},v.prototype.enterBlur=function(M){enterBlur(M),markStatusToUpdate(d)},v.prototype.leaveBlur=function(M){leaveBlur(M),markStatusToUpdate(d)},v.prototype.enterSelect=function(M){enterSelect(M),markStatusToUpdate(d)},v.prototype.leaveSelect=function(M){leaveSelect(M),markStatusToUpdate(d)},v.prototype.getModel=function(){return d.getModel()},v.prototype.getViewOfComponentModel=function(M){return d.getViewOfComponentModel(M)},v.prototype.getViewOfSeriesModel=function(M){return d.getViewOfSeriesModel(M)},v}(ExtensionAPI$1))(d)},enableConnect=function(d){function g(v,M){for(var P=0;P<v.length;P++){var R=v[P];R[CONNECT_STATUS_KEY]=M}}each$5(eventActionMap,function(v,M){d._messageCenter.on(M,function(P){if(connectedGroups[d.group]&&d[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(P&&P.escapeConnect)return;var R=d.makeActionFromEvent(P),I=[];each$5(instances,function($){$!==d&&$.group===d.group&&I.push($)}),g(I,CONNECT_STATUS_PENDING),each$5(I,function($){$[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&$.dispatchAction(R)}),g(I,CONNECT_STATUS_UPDATED)}})})}}(),t}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(r,t,n){var i=this;function a(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t&&t.apply&&t.apply(this,o),i.off(r,a)}this.on.call(this,r,a,n)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(r){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init(r,t,n){var i=!(n&&n.ssr);if(i){var a=getInstanceByDom(r);if(a)return a}var o=new ECharts(r,t,n);return o.id="ec_"+idBase++,instances[o.id]=o,i&&setAttribute(r,DOM_ATTRIBUTE_KEY,o.id),enableConnect(o),lifecycle$1.trigger("afterinit",o),o}function getInstanceByDom(r){return instances[getAttribute(r,DOM_ATTRIBUTE_KEY)]}function registerTheme(r,t){themeStorage[r]=t}function registerPreprocessor(r){indexOf(optionPreprocessorFuncs,r)<0&&optionPreprocessorFuncs.push(r)}function registerProcessor(r,t){normalizeRegister(dataProcessorFuncs,r,t,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(r){registerUpdateLifecycle("afterinit",r)}function registerPostUpdate(r){registerUpdateLifecycle("afterupdate",r)}function registerUpdateLifecycle(r,t){lifecycle$1.on(r,t)}function registerAction(r,t,n){isFunction(t)&&(n=t,t="");var i=isObject$2(r)?r.type:[r,r={event:t}][0];r.event=(r.event||i).toLowerCase(),t=r.event,!eventActionMap[t]&&(assert(ACTION_REG.test(i)&&ACTION_REG.test(t)),actions[i]||(actions[i]={action:n,actionInfo:r}),eventActionMap[t]=i)}function registerCoordinateSystem(r,t){CoordinateSystem.register(r,t)}function registerLayout(r,t){normalizeRegister(visualFuncs,r,t,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(r,t){normalizeRegister(visualFuncs,r,t,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(r,t,n,i,a){if((isFunction(t)||isObject$2(t))&&(n=t,t=i),!(indexOf(registeredTasks,n)>=0)){registeredTasks.push(n);var o=Scheduler$1.wrapStageHandler(n,a);o.__prio=t,o.__raw=n,r.push(o)}}function registerLoading(r,t){loadingEffects[r]=t}function registerMap(r,t,n){var i=getImpl("registerMap");i&&i(r,t,n)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",darkTheme);function dataIndexMapValueLength(r){return r==null?0:r.length||1}function defaultKeyGetter(r){return r}var DataDiffer=function(){function r(t,n,i,a,o,s){this._old=t,this._new=n,this._oldKeyGetter=i||defaultKeyGetter,this._newKeyGetter=a||defaultKeyGetter,this.context=o,this._diffModeMultiple=s==="multiple"}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,n=this._new,i={},a=new Array(t.length),o=new Array(n.length);this._initIndexMap(t,null,a,"_oldKeyGetter"),this._initIndexMap(n,i,o,"_newKeyGetter");for(var s=0;s<t.length;s++){var l=a[s],u=i[l],c=dataIndexMapValueLength(u);if(c>1){var f=u.shift();u.length===1&&(i[l]=u[0]),this._update&&this._update(f,s)}else c===1?(i[l]=null,this._update&&this._update(u,s)):this._remove&&this._remove(s)}this._performRestAdd(o,i)},r.prototype._executeMultiple=function(){var t=this._old,n=this._new,i={},a={},o=[],s=[];this._initIndexMap(t,i,o,"_oldKeyGetter"),this._initIndexMap(n,a,s,"_newKeyGetter");for(var l=0;l<o.length;l++){var u=o[l],c=i[u],f=a[u],d=dataIndexMapValueLength(c),g=dataIndexMapValueLength(f);if(d>1&&g===1)this._updateManyToOne&&this._updateManyToOne(f,c),a[u]=null;else if(d===1&&g>1)this._updateOneToMany&&this._updateOneToMany(f,c),a[u]=null;else if(d===1&&g===1)this._update&&this._update(f,c),a[u]=null;else if(d>1&&g>1)this._updateManyToMany&&this._updateManyToMany(f,c),a[u]=null;else if(d>1)for(var v=0;v<d;v++)this._remove&&this._remove(c[v]);else this._remove&&this._remove(c)}this._performRestAdd(s,a)},r.prototype._performRestAdd=function(t,n){for(var i=0;i<t.length;i++){var a=t[i],o=n[a],s=dataIndexMapValueLength(o);if(s>1)for(var l=0;l<s;l++)this._add&&this._add(o[l]);else s===1&&this._add&&this._add(o);n[a]=null}},r.prototype._initIndexMap=function(t,n,i,a){for(var o=this._diffModeMultiple,s=0;s<t.length;s++){var l="_ec_"+this[a](t[s],s);if(o||(i[s]=l),!!n){var u=n[l],c=dataIndexMapValueLength(u);c===0?(n[l]=s,o&&i.push(l)):c===1?n[l]=[u,s]:u.push(s)}}},r}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function r(t,n){this._encode=t,this._schema=n}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function summarizeDimensions(r,t){var n={},i=n.encode={},a=createHashMap(),o=[],s=[],l={};each$5(r.dimensions,function(g){var v=r.getDimensionInfo(g),M=v.coordDim;if(M){var P=v.coordDimIndex;getOrCreateEncodeArr(i,M)[P]=g,v.isExtraCoord||(a.set(M,1),mayLabelDimType(v.type)&&(o[0]=g),getOrCreateEncodeArr(l,M)[P]=r.getDimensionIndex(v.name)),v.defaultTooltip&&s.push(g)}VISUAL_DIMENSIONS.each(function(R,I){var $=getOrCreateEncodeArr(i,I),N=v.otherDims[I];N!=null&&N!==!1&&($[N]=v.name)})});var u=[],c={};a.each(function(g,v){var M=i[v];c[v]=M[0],u=u.concat(M)}),n.dataDimsOnCoord=u,n.dataDimIndicesOnCoord=map$1(u,function(g){return r.getDimensionInfo(g).storeDimIndex}),n.encodeFirstDimNotExtra=c;var f=i.label;f&&f.length&&(o=f.slice());var d=i.tooltip;return d&&d.length?s=d.slice():s.length||(s=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=s,n.userOutput=new DimensionUserOuput(l,t),n}function getOrCreateEncodeArr(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function getDimensionTypeByAxis(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function mayLabelDimType(r){return!(r==="ordinal"||r==="time")}var SeriesDimensionDefine=function(){function r(t){this.otherDims={},t!=null&&extend(this,t)}return r}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$6=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function r(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},r.prototype.getSourceDimensionIndex=function(t){return retrieve2(this._dimNameMap.get(t),-1)},r.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},r.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=shouldRetrieveDataByName(this.source),i=!shouldOmitUnusedDimensions(t),a="",o=[],s=0,l=0;s<t;s++){var u=void 0,c=void 0,f=void 0,d=this.dimensions[l];if(d&&d.storeDimIndex===s)u=n?d.name:null,c=d.type,f=d.ordinalMeta,l++;else{var g=this.getSourceDimension(s);g&&(u=n?g.name:null,c=g.type)}o.push({property:u,type:c,ordinalMeta:f}),n&&u!=null&&(!d||!d.isCalculationCoord)&&(a+=i?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),a+="$",a+=dimTypeShort[c]||"f",f&&(a+=f.uid),a+="$"}var v=this.source,M=[v.seriesLayoutBy,v.startIndex,a].join("$$");return{dimensions:o,hash:M}},r.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,i=0;n<this._fullDimCount;n++){var a=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===n)o.isCalculationCoord||(a=o.name),i++;else{var s=this.getSourceDimension(n);s&&(a=s.name)}t.push(a)}return t},r.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function isSeriesDataSchema(r){return r instanceof SeriesDataSchema}function createDimNameMap(r){for(var t=createHashMap(),n=0;n<(r||[]).length;n++){var i=r[n],a=isObject$2(i)?i.name:i;a!=null&&t.get(a)==null&&t.set(a,n)}return t}function ensureSourceDimNameMap(r){var t=inner$6(r);return t.dimNameMap||(t.dimNameMap=createDimNameMap(r.dimensionsDefine))}function shouldOmitUnusedDimensions(r){return r>30}var isObject=isObject$2,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function r(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i,a=!1;isSeriesDataSchema(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(a=!0,i=t),i=i||["x","y"];for(var o={},s=[],l={},u=!1,c={},f=0;f<i.length;f++){var d=i[f],g=isString(d)?new SeriesDimensionDefine$1({name:d}):d instanceof SeriesDimensionDefine$1?d:new SeriesDimensionDefine$1(d),v=g.name;g.type=g.type||"float",g.coordDim||(g.coordDim=v,g.coordDimIndex=0);var M=g.otherDims=g.otherDims||{};s.push(v),o[v]=g,c[v]!=null&&(u=!0),g.createInvertedIndices&&(l[v]=[]),M.itemName===0&&(this._nameDimIdx=f),M.itemId===0&&(this._idDimIdx=f),a&&(g.storeDimIndex=f)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(u),this.hostModel=n,this._invertedIndicesMap=l,this._dimOmitted){var P=this._dimIdxToName=createHashMap();each$5(s,function(R){P.set(o[R].storeDimIndex,R)})}}return r.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var i=this._dimIdxToName.get(n);if(i!=null)return i;var a=this._schema.getSourceDimension(n);if(a)return a.name},r.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(isNumber(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(i){return n.hasOwnProperty(i)?n[i]:void 0}:function(i){return n[i]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,n){var i=this._dimSummary;if(n==null)return i.encodeFirstDimNotExtra[t];var a=i.encode[t];return a?a[n]:null},r.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,i=n.encode[t];return(i||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,n,i){var a=this,o;if(t instanceof DataStore&&(o=t),!o){var s=this.dimensions,l=isSourceInstance(t)||isArrayLike(t)?new DefaultDataProvider(t,s.length):t;o=new DataStore;var u=map(s,function(c){return{type:a._dimInfos[c].type,property:c}});o.initData(l,u,i)}this._store=o,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},r.prototype.appendValues=function(t,n){var i=this._store.appendValues(t,n.length),a=i.start,o=i.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var l=a;l<o;l++){var u=l-a;this._nameList[l]=n[u],s&&makeIdFromName(this,l)}},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,i=0;i<n.length;i++){var a=this._dimInfos[n[i]];a.ordinalMeta&&t.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!t.fillStorage},r.prototype._doInit=function(t,n){if(!(t>=n)){var i=this._store,a=i.getProvider();this._updateOrdinalMeta();var o=this._nameList,s=this._idList,l=a.getSource().sourceFormat,u=l===SOURCE_FORMAT_ORIGINAL;if(u&&!a.pure)for(var c=[],f=t;f<n;f++){var d=a.getItem(f,c);if(!this.hasItemOption&&isDataItemOption(d)&&(this.hasItemOption=!0),d){var g=d.name;o[f]==null&&g!=null&&(o[f]=convertOptionIdName(g,null));var v=d.id;s[f]==null&&v!=null&&(s[f]=convertOptionIdName(v,null))}}if(this._shouldMakeIdFromName())for(var f=t;f<n;f++)makeIdFromName(this,f);prepareInvertedIndex(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,n){isObject(t)?extend(this._calculationInfo,t):this._calculationInfo[t]=n},r.prototype.getName=function(t){var n=this.getRawIndex(t),i=this._nameList[n];return i==null&&this._nameDimIdx!=null&&(i=getIdNameFromStore(this,this._nameDimIdx,n)),i==null&&(i=""),i},r.prototype._getCategory=function(t,n){var i=this._store.get(t,n),a=this._store.getOrdinalMeta(t);return a?a.categories[i]:i},r.prototype.getId=function(t){return getId(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,n){var i=this._store,a=this._dimInfos[t];if(a)return i.get(a.storeDimIndex,n)},r.prototype.getByRawIndex=function(t,n){var i=this._store,a=this._dimInfos[t];if(a)return i.getByRawIndex(a.storeDimIndex,n)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,n){var i=this,a=this._store;return isArray(t)?a.getValues(map(t,function(o){return i._getStoreDimIndex(o)}),n):a.getValues(t)},r.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,i=0,a=n.length;i<a;i++)if(isNaN(this._store.get(n[i],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var n=0,i=this._store.count();n<i;n++)if(this.getName(n)===t)return n;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,n){var i=t&&this._invertedIndicesMap[t],a=i[n];return a==null||isNaN(a)?INDEX_NOT_FOUND:a},r.prototype.indicesOfNearest=function(t,n,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,i)},r.prototype.each=function(t,n,i){isFunction(t)&&(i=n,n=t,t=[]);var a=i||this,o=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.each(o,a?bind$1(n,a):n)},r.prototype.filterSelf=function(t,n,i){isFunction(t)&&(i=n,n=t,t=[]);var a=i||this,o=map(normalizeDimensions(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,a?bind$1(n,a):n),this},r.prototype.selectRange=function(t){var n=this,i={},a=keys(t);return each$5(a,function(o){var s=n._getStoreDimIndex(o);i[s]=t[o]}),this._store=this._store.selectRange(i),this},r.prototype.mapArray=function(t,n,i){isFunction(t)&&(i=n,n=t,t=[]),i=i||this;var a=[];return this.each(t,function(){a.push(n&&n.apply(this,arguments))},i),a},r.prototype.map=function(t,n,i,a){var o=i||a||this,s=map(normalizeDimensions(t),this._getStoreDimIndex,this),l=cloneListForMapAndSample(this);return l._store=this._store.map(s,o?bind$1(n,o):n),l},r.prototype.modify=function(t,n,i,a){var o=i||a||this,s=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.modify(s,o?bind$1(n,o):n)},r.prototype.downSample=function(t,n,i,a){var o=cloneListForMapAndSample(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),n,i,a),o},r.prototype.lttbDownSample=function(t,n){var i=cloneListForMapAndSample(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),i},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var n=this.hostModel,i=this.getRawDataItem(t);return new Model$1(i,n,n&&n.ecModel)},r.prototype.diff=function(t){var n=this;return new DataDiffer$1(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(i){return getId(t,i)},function(i){return getId(n,i)})},r.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},r.prototype.setVisual=function(t,n){this._visual=this._visual||{},isObject(t)?extend(this._visual,t):this._visual[t]=n},r.prototype.getItemVisual=function(t,n){var i=this._itemVisuals[t],a=i&&i[n];return a??this.getVisual(n)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,n){var i=this._itemVisuals,a=i[t];a||(a=i[t]={});var o=a[n];return o==null&&(o=this.getVisual(n),isArray(o)?o=o.slice():isObject(o)&&(o=extend({},o)),a[n]=o),o},r.prototype.setItemVisual=function(t,n,i){var a=this._itemVisuals[t]||{};this._itemVisuals[t]=a,isObject(n)?extend(a,n):a[n]=i},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,n){isObject(t)?extend(this._layout,t):this._layout[t]=n},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,n,i){this._itemLayouts[t]=i?extend(this._itemLayouts[t]||{},n):n},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,n){var i=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(i,this.dataType,t,n),this._graphicEls[t]=n},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,n){each$5(this._graphicEls,function(i,a){i&&t&&t.call(n,i,a)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,n){var i=this[t];isFunction(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var a=i.apply(this,arguments);return n.apply(this,[a].concat(slice(arguments)))})},r.internalField=function(){prepareInvertedIndex=function(t){var n=t._invertedIndicesMap;each$5(n,function(i,a){var o=t._dimInfos[a],s=o.ordinalMeta,l=t._store;if(s){i=n[a]=new CtorInt32Array(s.categories.length);for(var u=0;u<i.length;u++)i[u]=INDEX_NOT_FOUND;for(var u=0;u<l.count();u++)i[l.get(o.storeDimIndex,u)]=u}})},getIdNameFromStore=function(t,n,i){return convertOptionIdName(t._getCategory(n,i),null)},getId=function(t,n){var i=t._idList[n];return i==null&&t._idDimIdx!=null&&(i=getIdNameFromStore(t,t._idDimIdx,n)),i==null&&(i=ID_PREFIX+n),i},normalizeDimensions=function(t){return isArray(t)||(t=t!=null?[t]:[]),t},cloneListForMapAndSample=function(t){var n=new r(t._schema?t._schema:map(t.dimensions,t._getDimInfo,t),t.hostModel);return transferProperties(n,t),n},transferProperties=function(t,n){each$5(TRANSFERABLE_PROPERTIES.concat(n.__wrappedMethods||[]),function(i){n.hasOwnProperty(i)&&(t[i]=n[i])}),t.__wrappedMethods=n.__wrappedMethods,each$5(CLONE_PROPERTIES,function(i){t[i]=clone$2(n[i])}),t._calculationInfo=extend({},n._calculationInfo)},makeIdFromName=function(t,n){var i=t._nameList,a=t._idList,o=t._nameDimIdx,s=t._idDimIdx,l=i[n],u=a[n];if(l==null&&o!=null&&(i[n]=l=getIdNameFromStore(t,o,n)),u==null&&s!=null&&(a[n]=u=getIdNameFromStore(t,s,n)),u==null&&l!=null){var c=t._nameRepeatCount,f=c[l]=(c[l]||0)+1;u=l,f>1&&(u+="__ec__"+f),a[n]=u}}}(),r}();const SeriesData$1=SeriesData;function prepareSeriesDataSchema(r,t){isSourceInstance(r)||(r=createSourceFromSeriesDataOption(r)),t=t||{};var n=t.coordDimensions||[],i=t.dimensionsDefine||r.dimensionsDefine||[],a=createHashMap(),o=[],s=getDimCount(r,n,i,t.dimensionsCount),l=t.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(s),u=i===r.dimensionsDefine,c=u?ensureSourceDimNameMap(r):createDimNameMap(i),f=t.encodeDefine;!f&&t.encodeDefaulter&&(f=t.encodeDefaulter(r,s));for(var d=createHashMap(f),g=new CtorInt32Array$1(s),v=0;v<g.length;v++)g[v]=-1;function M(W){var q=g[W];if(q<0){var X=i[W],K=isObject$2(X)?X:{name:X},Q=new SeriesDimensionDefine$1,te=K.name;te!=null&&c.get(te)!=null&&(Q.name=Q.displayName=te),K.type!=null&&(Q.type=K.type),K.displayName!=null&&(Q.displayName=K.displayName);var ae=o.length;return g[W]=ae,Q.storeDimIndex=W,o.push(Q),Q}return o[q]}if(!l)for(var v=0;v<s;v++)M(v);d.each(function(W,q){var X=normalizeToArray(W).slice();if(X.length===1&&!isString(X[0])&&X[0]<0){d.set(q,!1);return}var K=d.set(q,[]);each$5(X,function(Q,te){var ae=isString(Q)?c.get(Q):Q;ae!=null&&ae<s&&(K[te]=ae,R(M(ae),q,te))})});var P=0;each$5(n,function(W){var q,X,K,Q;if(isString(W))q=W,Q={};else{Q=W,q=Q.name;var te=Q.ordinalMeta;Q.ordinalMeta=null,Q=extend({},Q),Q.ordinalMeta=te,X=Q.dimsDef,K=Q.otherDims,Q.name=Q.coordDim=Q.coordDimIndex=Q.dimsDef=Q.otherDims=null}var ae=d.get(q);if(ae!==!1){if(ae=normalizeToArray(ae),!ae.length)for(var re=0;re<(X&&X.length||1);re++){for(;P<s&&M(P).coordDim!=null;)P++;P<s&&ae.push(P++)}each$5(ae,function(de,se){var ce=M(de);if(u&&Q.type!=null&&(ce.type=Q.type),R(defaults(ce,Q),q,se),ce.name==null&&X){var ye=X[se];!isObject$2(ye)&&(ye={name:ye}),ce.name=ce.displayName=ye.name,ce.defaultTooltip=ye.defaultTooltip}K&&defaults(ce.otherDims,K)})}});function R(W,q,X){VISUAL_DIMENSIONS.get(q)!=null?W.otherDims[q]=X:(W.coordDim=q,W.coordDimIndex=X,a.set(q,!0))}var I=t.generateCoord,$=t.generateCoordCount,N=$!=null;$=I?$||1:0;var F=I||"value";function V(W){W.name==null&&(W.name=W.coordDim)}if(l)each$5(o,function(W){V(W)}),o.sort(function(W,q){return W.storeDimIndex-q.storeDimIndex});else for(var H=0;H<s;H++){var G=M(H),Y=G.coordDim;Y==null&&(G.coordDim=genCoordDimName(F,a,N),G.coordDimIndex=0,(!I||$<=0)&&(G.isExtraCoord=!0),$--),V(G),G.type==null&&(guessOrdinal(r,H)===BE_ORDINAL.Must||G.isExtraCoord&&(G.otherDims.itemName!=null||G.otherDims.seriesName!=null))&&(G.type="ordinal")}return removeDuplication(o),new SeriesDataSchema({source:r,dimensions:o,fullDimensionCount:s,dimensionOmitted:l})}function removeDuplication(r){for(var t=createHashMap(),n=0;n<r.length;n++){var i=r[n],a=i.name,o=t.get(a)||0;o>0&&(i.name=a+(o-1)),o++,t.set(a,o)}}function getDimCount(r,t,n,i){var a=Math.max(r.dimensionsDetectedCount||1,t.length,n.length,i||0);return each$5(t,function(o){var s;isObject$2(o)&&(s=o.dimsDef)&&(a=Math.max(a,s.length))}),a}function genCoordDimName(r,t,n){if(n||t.hasKey(r)){for(var i=0;t.hasKey(r+i);)i++;r+=i}return t.set(r,!0),r}var CoordSysInfo=function(){function r(t){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=t}return r}();function getCoordSysInfoBySeries(r){var t=r.get("coordinateSystem"),n=new CoordSysInfo(t),i=fetchers[t];if(i)return i(r,n,n.axisMap,n.categoryAxisMap),n}var fetchers={cartesian2d:function(r,t,n,i){var a=r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],o=r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["x","y"],n.set("x",a),n.set("y",o),isCategory(a)&&(i.set("x",a),t.firstCategoryDimIndex=0),isCategory(o)&&(i.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,n,i){var a=r.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["single"],n.set("single",a),isCategory(a)&&(i.set("single",a),t.firstCategoryDimIndex=0)},polar:function(r,t,n,i){var a=r.getReferringComponents("polar",SINGLE_REFERRING).models[0],o=a.findAxisModel("radiusAxis"),s=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",s),isCategory(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),isCategory(s)&&(i.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(r,t,n,i){var a=r.ecModel,o=a.getComponent("parallel",r.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();each$5(o.parallelAxisIndex,function(l,u){var c=a.getComponent("parallelAxis",l),f=s[u];n.set(f,c),isCategory(c)&&(i.set(f,c),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=u))})}};function isCategory(r){return r.get("type")==="category"}function enableDataStack(r,t,n){n=n||{};var i=n.byIndex,a=n.stackedCoordDimension,o,s,l;isLegacyDimensionsInput(t)?o=t:(s=t.schema,o=s.dimensions,l=t.store);var u=!!(r&&r.get("stack")),c,f,d,g;if(each$5(o,function($,N){isString($)&&(o[N]=$={name:$}),u&&!$.isExtraCoord&&(!i&&!c&&$.ordinalMeta&&(c=$),!f&&$.type!=="ordinal"&&$.type!=="time"&&(!a||a===$.coordDim)&&(f=$))}),f&&!i&&!c&&(i=!0),f){d="__\0ecstackresult_"+r.id,g="__\0ecstackedover_"+r.id,c&&(c.createInvertedIndices=!0);var v=f.coordDim,M=f.type,P=0;each$5(o,function($){$.coordDim===v&&P++});var R={name:d,coordDim:v,coordDimIndex:P,type:M,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},I={name:g,coordDim:g,coordDimIndex:P+1,type:M,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};s?(l&&(R.storeDimIndex=l.ensureCalculationDimension(g,M),I.storeDimIndex=l.ensureCalculationDimension(d,M)),s.appendCalculationDimension(R),s.appendCalculationDimension(I)):(o.push(R),o.push(I))}return{stackedDimension:f&&f.name,stackedByDimension:c&&c.name,isStackedByIndex:i,stackedOverDimension:g,stackResultDimension:d}}function isLegacyDimensionsInput(r){return!isSeriesDataSchema(r.schema)}function isDimensionStacked(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function getStackedDimension(r,t){return isDimensionStacked(r,t)?r.getCalculationInfo("stackResultDimension"):t}function getCoordSysDimDefs(r,t){var n=r.get("coordinateSystem"),i=CoordinateSystem.get(n),a;return t&&t.coordSysDims&&(a=map$1(t.coordSysDims,function(o){var s={name:o},l=t.axisMap.get(o);if(l){var u=l.get("type");s.type=getDimensionTypeByAxis(u)}return s})),a||(a=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),a}function injectOrdinalMeta(r,t,n){var i,a;return n&&each$5(r,function(o,s){var l=o.coordDim,u=n.categoryAxisMap.get(l);u&&(i==null&&(i=s),o.ordinalMeta=u.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(a=!0)}),!a&&i!=null&&(r[i].otherDims.itemName=0),i}function createSeriesData(r,t,n){n=n||{};var i=t.getSourceManager(),a,o=!1;r?(o=!0,a=createSourceFromSeriesDataOption(r)):(a=i.getSource(),o=a.sourceFormat===SOURCE_FORMAT_ORIGINAL);var s=getCoordSysInfoBySeries(t),l=getCoordSysDimDefs(t,s),u=n.useEncodeDefaulter,c=isFunction(u)?u:u?curry$1(makeSeriesEncodeForAxisCoordSys,l,t):null,f={coordDimensions:l,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o},d=prepareSeriesDataSchema(a,f),g=injectOrdinalMeta(d.dimensions,n.createInvertedIndices,s),v=o?null:i.getSharedDataStore(d),M=enableDataStack(t,{schema:d,store:v}),P=new SeriesData$1(d,t);P.setCalculationInfo(M);var R=g!=null&&isNeedCompleteOrdinalData(a)?function(I,$,N,F){return F===g?N:this.defaultDimValueGetter(I,$,N,F)}:null;return P.hasItemOption=!1,P.initData(o?a:v,null,R),P}function isNeedCompleteOrdinalData(r){if(r.sourceFormat===SOURCE_FORMAT_ORIGINAL){var t=firstDataNotNull(r.data||[]);return!isArray(getDataItemValue(t))}}function firstDataNotNull(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}var Scale=function(){function r(t){this._setting=t||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(t){return this._setting[t]},r.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},r.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,n){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(n)||(i[1]=n)},r.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r}();enableClassManagement(Scale);const Scale$1=Scale;var uidBase=0,OrdinalMeta=function(){function r(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++uidBase}return r.createByAxisModel=function(t){var n=t.option,i=n.data,a=i&&map$1(i,getName);return new r({categories:a,needCollect:!a,deduplication:n.dedplication!==!1})},r.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},r.prototype.parseAndCollect=function(t){var n,i=this._needCollect;if(!isString(t)&&!i)return t;if(i&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var a=this._getOrCreateMap();return n=a.get(t),n==null&&(i?(n=this.categories.length,this.categories[n]=t,a.set(t,n)):n=NaN),n},r.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},r}();function getName(r){return isObject$2(r)&&r.value!=null?r.value:r+""}const OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale(r){return r.type==="interval"||r.type==="log"}function intervalScaleNiceTicks(r,t,n,i){var a={},o=r[1]-r[0],s=a.interval=nice(o/t,!0);n!=null&&s<n&&(s=a.interval=n),i!=null&&s>i&&(s=a.interval=i);var l=a.intervalPrecision=getIntervalPrecision(s),u=a.niceTickExtent=[round$1(Math.ceil(r[0]/s)*s,l),round$1(Math.floor(r[1]/s)*s,l)];return fixExtent(u,r),a}function increaseInterval(r){var t=Math.pow(10,quantityExponent(r)),n=r/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,round$1(n*t)}function getIntervalPrecision(r){return getPrecision(r)+2}function clamp(r,t,n){r[t]=Math.max(Math.min(r[t],n[1]),n[0])}function fixExtent(r,t){!isFinite(r[0])&&(r[0]=t[0]),!isFinite(r[1])&&(r[1]=t[1]),clamp(r,0,t),clamp(r,1,t),r[0]>r[1]&&(r[0]=r[1])}function contain(r,t){return r>=t[0]&&r<=t[1]}function normalize(r,t){return t[1]===t[0]?.5:(r-t[0])/(t[1]-t[0])}function scale(r,t){return r*(t[1]-t[0])+t[0]}var OrdinalScale=function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;i.type="ordinal";var a=i.getSetting("ordinalMeta");return a||(a=new OrdinalMeta$1({})),isArray(a)&&(a=new OrdinalMeta$1({categories:map$1(a,function(o){return isObject$2(o)?o.value:o})})),i._ordinalMeta=a,i._extent=i.getSetting("extent")||[0,a.categories.length-1],i}return t.prototype.parse=function(n){return n==null?NaN:isString(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),contain(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),normalize(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(scale(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],i=this._extent,a=i[0];a<=i[1];)n.push({value:a}),a++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var i=n.ordinalNumbers,a=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],s=0,l=this._ordinalMeta.categories.length,u=Math.min(l,i.length);s<u;++s){var c=i[s];a[s]=c,o[c]=s}for(var f=0;s<l;++s){for(;o[f]!=null;)f++;a.push(f),o[f]=s}},t.prototype._getTickNumber=function(n){var i=this._ticksByOrdinalNumber;return i&&n>=0&&n<i.length?i[n]:n},t.prototype.getRawOrdinalNumber=function(n){var i=this._ordinalNumbersByTick;return i&&n>=0&&n<i.length?i[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var i=this.getRawOrdinalNumber(n.value),a=this._ordinalMeta.categories[i];return a==null?"":a+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,i){this.unionExtent(n.getApproximateExtent(i))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Scale$1);Scale$1.registerClass(OrdinalScale);const OrdinalScale$1=OrdinalScale;var roundNumber=round$1,IntervalScale=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return contain(n,this._extent)},t.prototype.normalize=function(n){return normalize(n,this._extent)},t.prototype.scale=function(n){return scale(n,this._extent)},t.prototype.setExtent=function(n,i){var a=this._extent;isNaN(n)||(a[0]=parseFloat(n)),isNaN(i)||(a[1]=parseFloat(i))},t.prototype.unionExtent=function(n){var i=this._extent;n[0]<i[0]&&(i[0]=n[0]),n[1]>i[1]&&(i[1]=n[1]),this.setExtent(i[0],i[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(n)},t.prototype.getTicks=function(n){var i=this._interval,a=this._extent,o=this._niceExtent,s=this._intervalPrecision,l=[];if(!i)return l;var u=1e4;a[0]<o[0]&&(n?l.push({value:roundNumber(o[0]-i,s)}):l.push({value:a[0]}));for(var c=o[0];c<=o[1]&&(l.push({value:c}),c=roundNumber(c+i,s),c!==l[l.length-1].value);)if(l.length>u)return[];var f=l.length?l[l.length-1].value:o[1];return a[1]>f&&(n?l.push({value:roundNumber(f+i,s)}):l.push({value:a[1]})),l},t.prototype.getMinorTicks=function(n){for(var i=this.getTicks(!0),a=[],o=this.getExtent(),s=1;s<i.length;s++){for(var l=i[s],u=i[s-1],c=0,f=[],d=l.value-u.value,g=d/n;c<n-1;){var v=roundNumber(u.value+(c+1)*g);v>o[0]&&v<o[1]&&f.push(v),c++}a.push(f)}return a},t.prototype.getLabel=function(n,i){if(n==null)return"";var a=i&&i.precision;a==null?a=getPrecision(n.value)||0:a==="auto"&&(a=this._intervalPrecision);var o=roundNumber(n.value,a,!0);return addCommas(o)},t.prototype.calcNiceTicks=function(n,i,a){n=n||5;var o=this._extent,s=o[1]-o[0];if(isFinite(s)){s<0&&(s=-s,o.reverse());var l=intervalScaleNiceTicks(o,n,i,a);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var i=this._extent;if(i[0]===i[1])if(i[0]!==0){var a=Math.abs(i[0]);n.fixMax||(i[1]+=a/2),i[0]-=a/2}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var s=this._interval;n.fixMin||(i[0]=roundNumber(Math.floor(i[0]/s)*s)),n.fixMax||(i[1]=roundNumber(Math.ceil(i[1]/s)*s))},t.prototype.setNiceExtent=function(n,i){this._niceExtent=[n,i]},t.type="interval",t}(Scale$1);Scale$1.registerClass(IntervalScale);const IntervalScale$1=IntervalScale;var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(r){return isArray(r)?supportFloat32Array?new Float32Array(r):r:new Float32ArrayCtor(r)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId(r){return r.get("stack")||STACK_PREFIX+r.seriesIndex}function getAxisKey(r){return r.dim+r.index}function prepareLayoutBarSeries(r,t){var n=[];return t.eachSeriesByType(r,function(i){isOnCartesian(i)&&n.push(i)}),n}function getValueAxesMinGaps(r){var t={};each$5(r,function(u){var c=u.coordinateSystem,f=c.getBaseAxis();if(!(f.type!=="time"&&f.type!=="value"))for(var d=u.getData(),g=f.dim+"_"+f.index,v=d.getDimensionIndex(d.mapDimension(f.dim)),M=d.getStore(),P=0,R=M.count();P<R;++P){var I=M.get(v,P);t[g]?t[g].push(I):t[g]=[I]}});var n={};for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];if(a){a.sort(function(u,c){return u-c});for(var o=null,s=1;s<a.length;++s){var l=a[s]-a[s-1];l>0&&(o=o===null?l:Math.min(o,l))}n[i]=o}}return n}function makeColumnLayout(r){var t=getValueAxesMinGaps(r),n=[];return each$5(r,function(i){var a=i.coordinateSystem,o=a.getBaseAxis(),s=o.getExtent(),l;if(o.type==="category")l=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var u=o.dim+"_"+o.index,c=t[u],f=Math.abs(s[1]-s[0]),d=o.scale.getExtent(),g=Math.abs(d[1]-d[0]);l=c?f/g*c:f}else{var v=i.getData();l=Math.abs(s[1]-s[0])/v.count()}var M=parsePercent(i.get("barWidth"),l),P=parsePercent(i.get("barMaxWidth"),l),R=parsePercent(i.get("barMinWidth")||(isInLargeMode(i)?.5:1),l),I=i.get("barGap"),$=i.get("barCategoryGap");n.push({bandWidth:l,barWidth:M,barMaxWidth:P,barMinWidth:R,barGap:I,barCategoryGap:$,axisKey:getAxisKey(o),stackId:getSeriesStackId(i)})}),doCalBarWidthAndOffset(n)}function doCalBarWidthAndOffset(r){var t={};each$5(r,function(i,a){var o=i.axisKey,s=i.bandWidth,l=t[o]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=l.stacks;t[o]=l;var c=i.stackId;u[c]||l.autoWidthCount++,u[c]=u[c]||{width:0,maxWidth:0};var f=i.barWidth;f&&!u[c].width&&(u[c].width=f,f=Math.min(l.remainedWidth,f),l.remainedWidth-=f);var d=i.barMaxWidth;d&&(u[c].maxWidth=d);var g=i.barMinWidth;g&&(u[c].minWidth=g);var v=i.barGap;v!=null&&(l.gap=v);var M=i.barCategoryGap;M!=null&&(l.categoryGap=M)});var n={};return each$5(t,function(i,a){n[a]={};var o=i.stacks,s=i.bandWidth,l=i.categoryGap;if(l==null){var u=keys(o).length;l=Math.max(35-u*4,15)+"%"}var c=parsePercent(l,s),f=parsePercent(i.gap,1),d=i.remainedWidth,g=i.autoWidthCount,v=(d-c)/(g+(g-1)*f);v=Math.max(v,0),each$5(o,function(I){var $=I.maxWidth,N=I.minWidth;if(I.width){var F=I.width;$&&(F=Math.min(F,$)),N&&(F=Math.max(F,N)),I.width=F,d-=F+f*F,g--}else{var F=v;$&&$<F&&(F=Math.min($,d)),N&&N>F&&(F=N),F!==v&&(I.width=F,d-=F+f*F,g--)}}),v=(d-c)/(g+(g-1)*f),v=Math.max(v,0);var M=0,P;each$5(o,function(I,$){I.width||(I.width=v),P=I,M+=I.width*(1+f)}),P&&(M-=P.width*f);var R=-M/2;each$5(o,function(I,$){n[a][$]=n[a][$]||{bandWidth:s,offset:R,width:I.width},R+=I.width*(1+f)})}),n}function retrieveColumnLayout(r,t,n){if(r&&t){var i=r[getAxisKey(t)];return i!=null&&n!=null?i[getSeriesStackId(n)]:i}}function isOnCartesian(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function isInLargeMode(r){return r.pipelineContext&&r.pipelineContext.large}var bisect=function(r,t,n,i){for(;n<i;){var a=n+i>>>1;r[a][1]<t?n=a+1:i=a}return n},TimeScale=function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;return i.type="time",i}return t.prototype.getLabel=function(n){var i=this.getSetting("useUTC");return format(n.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,i,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,i,a){var o=this.getSetting("useUTC"),s=this.getSetting("locale");return leveledFormat(n,i,a,s,o)},t.prototype.getTicks=function(){var n=this._interval,i=this._extent,a=[];if(!n)return a;a.push({value:i[0],level:0});var o=this.getSetting("useUTC"),s=getIntervalTicks(this._minLevelUnit,this._approxInterval,o,i);return a=a.concat(s),a.push({value:i[1],level:0}),a},t.prototype.calcNiceExtent=function(n){var i=this._extent;if(i[0]===i[1]&&(i[0]-=ONE_DAY,i[1]+=ONE_DAY),i[1]===-1/0&&i[0]===1/0){var a=new Date;i[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),i[0]=i[1]-ONE_DAY}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,i,a){n=n||10;var o=this._extent,s=o[1]-o[0];this._approxInterval=s/n,i!=null&&this._approxInterval<i&&(this._approxInterval=i),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var l=scaleIntervals.length,u=Math.min(bisect(scaleIntervals,this._approxInterval,0,l),l-1);this._interval=scaleIntervals[u][1],this._minLevelUnit=scaleIntervals[Math.max(u-1,0)][0]},t.prototype.parse=function(n){return isNumber(n)?n:+parseDate(n)},t.prototype.contain=function(n){return contain(this.parse(n),this._extent)},t.prototype.normalize=function(n){return normalize(this.parse(n),this._extent)},t.prototype.scale=function(n){return scale(n,this._extent)},t.type="time",t}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(r,t,n,i){var a=parseDate(t),o=parseDate(n),s=function(M){return getUnitValue(a,M,i)===getUnitValue(o,M,i)},l=function(){return s("year")},u=function(){return l()&&s("month")},c=function(){return u()&&s("day")},f=function(){return c()&&s("hour")},d=function(){return f()&&s("minute")},g=function(){return d()&&s("second")},v=function(){return g()&&s("millisecond")};switch(r){case"year":return l();case"month":return u();case"day":return c();case"hour":return f();case"minute":return d();case"second":return g();case"millisecond":return v()}}function getDateInterval(r,t){return r/=ONE_DAY,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function getMonthInterval(r){var t=30*ONE_DAY;return r/=t,r>6?6:r>3?3:r>2?2:1}function getHourInterval(r){return r/=ONE_HOUR,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function getMinutesAndSecondsInterval(r,t){return r/=t?ONE_MINUTE:ONE_SECOND,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function getMillisecondsInterval(r){return nice(r,!0)}function getFirstTimestampOfUnit(r,t,n){var i=new Date(r);switch(getPrimaryTimeUnit(t)){case"year":case"month":i[monthSetterName(n)](0);case"day":i[dateSetterName(n)](1);case"hour":i[hoursSetterName(n)](0);case"minute":i[minutesSetterName(n)](0);case"second":i[secondsSetterName(n)](0),i[millisecondsSetterName(n)](0)}return i.getTime()}function getIntervalTicks(r,t,n,i){var a=1e4,o=timeUnits,s=0;function l(q,X,K,Q,te,ae,re){for(var de=new Date(X),se=X,ce=de[Q]();se<K&&se<=i[1];)re.push({value:se}),ce+=q,de[te](ce),se=de.getTime();re.push({value:se,notAdd:!0})}function u(q,X,K){var Q=[],te=!X.length;if(!isUnitValueSame(getPrimaryTimeUnit(q),i[0],i[1],n)){te&&(X=[{value:getFirstTimestampOfUnit(new Date(i[0]),q,n)},{value:i[1]}]);for(var ae=0;ae<X.length-1;ae++){var re=X[ae].value,de=X[ae+1].value;if(re!==de){var se=void 0,ce=void 0,ye=void 0,Te=!1;switch(q){case"year":se=Math.max(1,Math.round(t/ONE_DAY/365)),ce=fullYearGetterName(n),ye=fullYearSetterName(n);break;case"half-year":case"quarter":case"month":se=getMonthInterval(t),ce=monthGetterName(n),ye=monthSetterName(n);break;case"week":case"half-week":case"day":se=getDateInterval(t),ce=dateGetterName(n),ye=dateSetterName(n),Te=!0;break;case"half-day":case"quarter-day":case"hour":se=getHourInterval(t),ce=hoursGetterName(n),ye=hoursSetterName(n);break;case"minute":se=getMinutesAndSecondsInterval(t,!0),ce=minutesGetterName(n),ye=minutesSetterName(n);break;case"second":se=getMinutesAndSecondsInterval(t,!1),ce=secondsGetterName(n),ye=secondsSetterName(n);break;case"millisecond":se=getMillisecondsInterval(t),ce=millisecondsGetterName(n),ye=millisecondsSetterName(n);break}l(se,re,de,ce,ye,Te,Q),q==="year"&&K.length>1&&ae===0&&K.unshift({value:K[0].value-se})}}for(var ae=0;ae<Q.length;ae++)K.push(Q[ae]);return Q}}for(var c=[],f=[],d=0,g=0,v=0;v<o.length&&s++<a;++v){var M=getPrimaryTimeUnit(o[v]);if(isPrimaryTimeUnit(o[v])){u(o[v],c[c.length-1]||[],f);var P=o[v+1]?getPrimaryTimeUnit(o[v+1]):null;if(M!==P){if(f.length){g=d,f.sort(function(q,X){return q.value-X.value});for(var R=[],I=0;I<f.length;++I){var $=f[I].value;(I===0||f[I-1].value!==$)&&(R.push(f[I]),$>=i[0]&&$<=i[1]&&d++)}var N=(i[1]-i[0])/t;if(d>N*1.5&&g>N/1.5||(c.push(R),d>N||r===o[v]))break}f=[]}}}for(var F=filter(map$1(c,function(q){return filter(q,function(X){return X.value>=i[0]&&X.value<=i[1]&&!X.notAdd})}),function(q){return q.length>0}),V=[],H=F.length-1,v=0;v<F.length;++v)for(var G=F[v],Y=0;Y<G.length;++Y)V.push({value:G[Y].value,level:H-v});V.sort(function(q,X){return q.value-X.value});for(var W=[],v=0;v<V.length;++v)(v===0||V[v].value!==V[v-1].value)&&W.push(V[v]);return W}Scale$1.registerClass(TimeScale);const TimeScale$1=TimeScale;var scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$1,mathFloor=Math.floor,mathCeil=Math.ceil,mathPow=Math.pow,mathLog$1=Math.log,LogScale=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new IntervalScale$1,n._interval=0,n}return t.prototype.getTicks=function(n){var i=this._originalScale,a=this._extent,o=i.getExtent(),s=intervalScaleProto.getTicks.call(this,n);return map$1(s,function(l){var u=l.value,c=round$1(mathPow(this.base,u));return c=u===a[0]&&this._fixMin?fixRoundingError(c,o[0]):c,c=u===a[1]&&this._fixMax?fixRoundingError(c,o[1]):c,{value:c}},this)},t.prototype.setExtent=function(n,i){var a=mathLog$1(this.base);n=mathLog$1(Math.max(0,n))/a,i=mathLog$1(Math.max(0,i))/a,intervalScaleProto.setExtent.call(this,n,i)},t.prototype.getExtent=function(){var n=this.base,i=scaleProto.getExtent.call(this);i[0]=mathPow(n,i[0]),i[1]=mathPow(n,i[1]);var a=this._originalScale,o=a.getExtent();return this._fixMin&&(i[0]=fixRoundingError(i[0],o[0])),this._fixMax&&(i[1]=fixRoundingError(i[1],o[1])),i},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var i=this.base;n[0]=mathLog$1(n[0])/mathLog$1(i),n[1]=mathLog$1(n[1])/mathLog$1(i),scaleProto.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,i){this.unionExtent(n.getApproximateExtent(i))},t.prototype.calcNiceTicks=function(n){n=n||10;var i=this._extent,a=i[1]-i[0];if(!(a===1/0||a<=0)){var o=quantity(a),s=n/a*o;for(s<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var l=[round$1(mathCeil(i[0]/o)*o),round$1(mathFloor(i[1]/o)*o)];this._interval=o,this._niceExtent=l}},t.prototype.calcNiceExtent=function(n){intervalScaleProto.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=mathLog$1(n)/mathLog$1(this.base),contain(n,this._extent)},t.prototype.normalize=function(n){return n=mathLog$1(n)/mathLog$1(this.base),normalize(n,this._extent)},t.prototype.scale=function(n){return n=scale(n,this._extent),mathPow(this.base,n)},t.type="log",t}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(r,t){return roundingErrorFix(r,getPrecision(t))}Scale$1.registerClass(LogScale);const LogScale$1=LogScale;var ScaleRawExtentInfo=function(){function r(t,n,i){this._prepareParams(t,n,i)}return r.prototype._prepareParams=function(t,n,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var a=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var o=this._modelMinRaw=n.get("min",!0);isFunction(o)?this._modelMinNum=parseAxisModelMinMax(t,o({min:i[0],max:i[1]})):o!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(t,o));var s=this._modelMaxRaw=n.get("max",!0);if(isFunction(s)?this._modelMaxNum=parseAxisModelMinMax(t,s({min:i[0],max:i[1]})):s!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(t,s)),a)this._axisDataLen=n.getCategories().length;else{var l=n.get("boundaryGap"),u=isArray(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(u[0],1),parsePercent$1(u[1],1)]}},r.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,i=this._dataMax,a=this._axisDataLen,o=this._boundaryGapInner,s=t?null:i-n||Math.abs(n),l=this._modelMinRaw==="dataMin"?n:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,c=l!=null,f=u!=null;l==null&&(l=t?a?0:NaN:n-o[0]*s),u==null&&(u=t?a?a-1:NaN:i+o[1]*s),(l==null||!isFinite(l))&&(l=NaN),(u==null||!isFinite(u))&&(u=NaN);var d=eqNaN(l)||eqNaN(u)||t&&!a;this._needCrossZero&&(l>0&&u>0&&!c&&(l=0),l<0&&u<0&&!f&&(u=0));var g=this._determinedMin,v=this._determinedMax;return g!=null&&(l=g,c=!0),v!=null&&(u=v,f=!0),{min:l,max:u,minFixed:c,maxFixed:f,isBlank:d}},r.prototype.modifyDataMinMax=function(t,n){this[DATA_MIN_MAX_ATTR[t]]=n},r.prototype.setDeterminedMinMax=function(t,n){var i=DETERMINED_MIN_MAX_ATTR[t];this[i]=n},r.prototype.freeze=function(){this.frozen=!0},r}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(r,t,n){var i=r.rawExtentInfo;return i||(i=new ScaleRawExtentInfo(r,t,n),r.rawExtentInfo=i,i)}function parseAxisModelMinMax(r,t){return t==null?null:eqNaN(t)?NaN:r.parse(t)}function getScaleExtent(r,t){var n=r.type,i=ensureScaleRawExtentInfo(r,t,r.getExtent()).calculate();r.setBlank(i.isBlank);var a=i.min,o=i.max,s=t.ecModel;if(s&&n==="time"){var l=prepareLayoutBarSeries("bar",s),u=!1;if(each$5(l,function(d){u=u||d.getBaseAxis()===t.axis}),u){var c=makeColumnLayout(l),f=adjustScaleForOverflow(a,o,t,c);a=f.min,o=f.max}}return{extent:[a,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function adjustScaleForOverflow(r,t,n,i){var a=n.axis.getExtent(),o=a[1]-a[0],s=retrieveColumnLayout(i,n.axis);if(s===void 0)return{min:r,max:t};var l=1/0;each$5(s,function(v){l=Math.min(v.offset,l)});var u=-1/0;each$5(s,function(v){u=Math.max(v.offset+v.width,u)}),l=Math.abs(l),u=Math.abs(u);var c=l+u,f=t-r,d=1-(l+u)/o,g=f/d-f;return t+=g*(u/c),r-=g*(l/c),{min:r,max:t}}function niceScaleExtent(r,t){var n=t,i=getScaleExtent(r,n),a=i.extent,o=n.get("splitNumber");r instanceof LogScale$1&&(r.base=n.get("logBase"));var s=r.type,l=n.get("interval"),u=s==="interval"||s==="time";r.setExtent(a[0],a[1]),r.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:u?n.get("minInterval"):null,maxInterval:u?n.get("maxInterval"):null}),l!=null&&r.setInterval&&r.setInterval(l)}function createScaleByModel(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new OrdinalScale$1({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Scale$1.getClass(t)||IntervalScale$1)}}function ifAxisCrossZero(r){var t=r.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)}function makeLabelFormatter(r){var t=r.getLabelModel().get("formatter"),n=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(i){return function(a,o){return r.scale.getFormattedLabel(a,o,i)}}(t):isString(t)?function(i){return function(a){var o=r.scale.getLabel(a),s=i.replace("{value}",o??"");return s}}(t):isFunction(t)?function(i){return function(a,o){return n!=null&&(o=a.value-n),i(getAxisRawValue(r,a),o,a.level!=null?{level:a.level}:null)}}(t):function(i){return r.scale.getLabel(i)}}function getAxisRawValue(r,t){return r.type==="category"?r.scale.getLabel(t):t.value}function estimateLabelUnionRect(r){var t=r.model,n=r.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var i,a,o=n.getExtent();n instanceof OrdinalScale$1?a=n.count():(i=n.getTicks(),a=i.length);var s=r.getLabelModel(),l=makeLabelFormatter(r),u,c=1;a>40&&(c=Math.ceil(a/40));for(var f=0;f<a;f+=c){var d=i?i[f]:{value:o[0]+f},g=l(d,f),v=s.getTextRect(g),M=rotateTextRect(v,s.get("rotate")||0);u?u.union(M):u=M}return u}}function rotateTextRect(r,t){var n=t*Math.PI/180,i=r.width,a=r.height,o=i*Math.abs(Math.cos(n))+Math.abs(a*Math.sin(n)),s=i*Math.abs(Math.sin(n))+Math.abs(a*Math.cos(n)),l=new BoundingRect$1(r.x,r.y,o,s);return l}function getOptionCategoryInterval(r){var t=r.get("interval");return t??"auto"}function shouldShowAllLabels(r){return r.type==="category"&&getOptionCategoryInterval(r.getLabelModel())===0}function getDataDimensionsOnAxis(r,t){var n={};return each$5(r.mapDimensionsAll(t),function(i){n[getStackedDimension(r,i)]=!0}),keys(n)}function unionAxisExtentFromData(r,t,n){t&&each$5(getDataDimensionsOnAxis(t,n),function(i){var a=t.getApproximateExtent(i);a[0]<r[0]&&(r[0]=a[0]),a[1]>r[1]&&(r[1]=a[1])})}var AxisModelCommonMixin=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r}(),extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(r){ComponentModel$1.registerClass(r)},registerComponentView:function(r){ComponentView$1.registerClass(r)},registerSeriesModel:function(r){SeriesModel$1.registerClass(r)},registerChartView:function(r){ChartView$1.registerClass(r)},registerSubTypeDefaulter:function(r,t){ComponentModel$1.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){registerPainter(r,t)}};function use(r){if(isArray(r)){each$5(r,function(t){use(t)});return}indexOf(extensions,r)>=0||(extensions.push(r),isFunction(r)&&(r={install:r}),r.install(extensionRegisters))}var inner$5=makeInner();function createAxisLabels(r){return r.type==="category"?makeCategoryLabels(r):makeRealNumberLabels(r)}function createAxisTicks(r,t){return r.type==="category"?makeCategoryTicks(r,t):{ticks:map$1(r.scale.getTicks(),function(n){return n.value})}}function makeCategoryLabels(r){var t=r.getLabelModel(),n=makeCategoryLabelsActually(r,t);return!t.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function makeCategoryLabelsActually(r,t){var n=getListCache(r,"labels"),i=getOptionCategoryInterval(t),a=listCacheGet(n,i);if(a)return a;var o,s;return isFunction(i)?o=makeLabelsByCustomizedCategoryInterval(r,i):(s=i==="auto"?makeAutoCategoryInterval(r):i,o=makeLabelsByNumericCategoryInterval(r,s)),listCacheSet(n,i,{labels:o,labelCategoryInterval:s})}function makeCategoryTicks(r,t){var n=getListCache(r,"ticks"),i=getOptionCategoryInterval(t),a=listCacheGet(n,i);if(a)return a;var o,s;if((!t.get("show")||r.scale.isBlank())&&(o=[]),isFunction(i))o=makeLabelsByCustomizedCategoryInterval(r,i,!0);else if(i==="auto"){var l=makeCategoryLabelsActually(r,r.getLabelModel());s=l.labelCategoryInterval,o=map$1(l.labels,function(u){return u.tickValue})}else s=i,o=makeLabelsByNumericCategoryInterval(r,s,!0);return listCacheSet(n,i,{ticks:o,tickCategoryInterval:s})}function makeRealNumberLabels(r){var t=r.scale.getTicks(),n=makeLabelFormatter(r);return{labels:map$1(t,function(i,a){return{level:i.level,formattedLabel:n(i,a),rawLabel:r.scale.getLabel(i),tickValue:i.value}})}}function getListCache(r,t){return inner$5(r)[t]||(inner$5(r)[t]=[])}function listCacheGet(r,t){for(var n=0;n<r.length;n++)if(r[n].key===t)return r[n].value}function listCacheSet(r,t,n){return r.push({key:t,value:n}),n}function makeAutoCategoryInterval(r){var t=inner$5(r).autoInterval;return t??(inner$5(r).autoInterval=r.calculateCategoryInterval())}function calculateCategoryInterval(r){var t=fetchAutoCategoryIntervalCalculationParams(r),n=makeLabelFormatter(r),i=(t.axisRotate-t.labelRotate)/180*Math.PI,a=r.scale,o=a.getExtent(),s=a.count();if(o[1]-o[0]<1)return 0;var l=1;s>40&&(l=Math.max(1,Math.floor(s/40)));for(var u=o[0],c=r.dataToCoord(u+1)-r.dataToCoord(u),f=Math.abs(c*Math.cos(i)),d=Math.abs(c*Math.sin(i)),g=0,v=0;u<=o[1];u+=l){var M=0,P=0,R=getBoundingRect(n({value:u}),t.font,"center","top");M=R.width*1.3,P=R.height*1.3,g=Math.max(g,M,7),v=Math.max(v,P,7)}var I=g/f,$=v/d;isNaN(I)&&(I=1/0),isNaN($)&&($=1/0);var N=Math.max(0,Math.floor(Math.min(I,$))),F=inner$5(r.model),V=r.getExtent(),H=F.lastAutoInterval,G=F.lastTickCount;return H!=null&&G!=null&&Math.abs(H-N)<=1&&Math.abs(G-s)<=1&&H>N&&F.axisExtent0===V[0]&&F.axisExtent1===V[1]?N=H:(F.lastTickCount=s,F.lastAutoInterval=N,F.axisExtent0=V[0],F.axisExtent1=V[1]),N}function fetchAutoCategoryIntervalCalculationParams(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function makeLabelsByNumericCategoryInterval(r,t,n){var i=makeLabelFormatter(r),a=r.scale,o=a.getExtent(),s=r.getLabelModel(),l=[],u=Math.max((t||0)+1,1),c=o[0],f=a.count();c!==0&&u>1&&f/u>2&&(c=Math.round(Math.ceil(c/u)*u));var d=shouldShowAllLabels(r),g=s.get("showMinLabel")||d,v=s.get("showMaxLabel")||d;g&&c!==o[0]&&P(o[0]);for(var M=c;M<=o[1];M+=u)P(M);v&&M-u!==o[1]&&P(o[1]);function P(R){var I={value:R};l.push(n?R:{formattedLabel:i(I),rawLabel:a.getLabel(I),tickValue:R})}return l}function makeLabelsByCustomizedCategoryInterval(r,t,n){var i=r.scale,a=makeLabelFormatter(r),o=[];return each$5(i.getTicks(),function(s){var l=i.getLabel(s),u=s.value;t(s.value,l)&&o.push(n?u:{formattedLabel:a(s),rawLabel:l,tickValue:u})}),o}var NORMALIZED_EXTENT=[0,1],Axis=function(){function r(t,n,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=i||[0,0]}return r.prototype.contain=function(t){var n=this._extent,i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return t>=i&&t<=a},r.prototype.containData=function(t){return this.scale.contain(t)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return getPixelPrecision(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,n){var i=this._extent;i[0]=t,i[1]=n},r.prototype.dataToCoord=function(t,n){var i=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&a.type==="ordinal"&&(i=i.slice(),fixExtentWithBands(i,a.count())),linearMap(t,NORMALIZED_EXTENT,i,n)},r.prototype.coordToData=function(t,n){var i=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(i=i.slice(),fixExtentWithBands(i,a.count()));var o=linearMap(t,i,NORMALIZED_EXTENT,n);return this.scale.scale(o)},r.prototype.pointToData=function(t,n){},r.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),i=createAxisTicks(this,n),a=i.ticks,o=map$1(a,function(l){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(l):l),tickValue:l}},this),s=n.get("alignWithLabel");return fixOnBandTicksCoords(this,o,s,t.clamp),o},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var i=this.scale.getMinorTicks(n),a=map$1(i,function(o){return map$1(o,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return a},r.prototype.getViewLabels=function(){return createAxisLabels(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),i=n[1]-n[0]+(this.onBand?1:0);i===0&&(i=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/i},r.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},r}();function fixExtentWithBands(r,t){var n=r[1]-r[0],i=t,a=n/i/2;r[0]+=a,r[1]-=a}function fixOnBandTicksCoords(r,t,n,i){var a=t.length;if(!r.onBand||n||!a)return;var o=r.getExtent(),s,l;if(a===1)t[0].coord=o[0],s=t[1]={coord:o[1]};else{var u=t[a-1].tickValue-t[0].tickValue,c=(t[a-1].coord-t[0].coord)/u;each$5(t,function(v){v.coord-=c/2});var f=r.scale.getExtent();l=1+f[1]-t[a-1].tickValue,s={coord:t[a-1].coord+c*l},t.push(s)}var d=o[0]>o[1];g(t[0].coord,o[0])&&(i?t[0].coord=o[0]:t.shift()),i&&g(o[0],t[0].coord)&&t.unshift({coord:o[0]}),g(o[1],s.coord)&&(i?s.coord=o[1]:t.pop()),i&&g(s.coord,o[1])&&t.push({coord:o[1]});function g(v,M){return v=round$1(v),M=round$1(M),d?v>M:v<M}}const Axis$1=Axis;PathProxy$1.CMD;function projectPointToLine(r,t,n,i,a,o,s,l){var u=a-r,c=o-t,f=n-r,d=i-t,g=Math.sqrt(f*f+d*d);f/=g,d/=g;var v=u*f+c*d,M=v/g;l&&(M=Math.min(Math.max(M,0),1)),M*=g;var P=s[0]=r+M*f,R=s[1]=t+M*d;return Math.sqrt((P-a)*(P-a)+(R-o)*(R-o))}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1,tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(r,t){if(t<=180&&t>0){t=t/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var n=dir.len(),i=dir2.len();if(!(n<.001||i<.001)){dir.scale(1/n),dir2.scale(1/i);var a=dir.dot(dir2),o=Math.cos(t);if(o<a){var s=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,s/Math.tan(Math.PI-t));var l=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(l))return;l<0?Point$1.copy(tmpProjPoint,pt1):l>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(r[1])}}}}function limitSurfaceAngle(r,t,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var i=dir.len(),a=dir2.len();if(!(i<.001||a<.001)){dir.scale(1/i),dir2.scale(1/a);var o=dir.dot(t),s=Math.cos(n);if(o<s){var l=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var u=Math.PI/2,c=Math.acos(dir2.dot(t)),f=u+c-n;if(f>=u)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,l/Math.tan(Math.PI/2-f));var d=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(d))return;d<0?Point$1.copy(tmpProjPoint,pt1):d>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(r[1])}}}}function setLabelLineState(r,t,n,i){var a=n==="normal",o=a?r:r.ensureState(n);o.ignore=t;var s=i.get("smooth");s&&s===!0&&(s=.3),o.shape=o.shape||{},s>0&&(o.shape.smooth=s);var l=i.getModel("lineStyle").getLineStyle();a?r.useStyle(l):o.style=l}function buildLabelLinePath(r,t){var n=t.smooth,i=t.points;if(i)if(r.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var a=dist$1(i[0],i[1]),o=dist$1(i[1],i[2]);if(!a||!o){r.lineTo(i[1][0],i[1][1]),r.lineTo(i[2][0],i[2][1]);return}var s=Math.min(a,o)*n,l=lerp$1([],i[1],i[0],s/a),u=lerp$1([],i[1],i[2],s/o),c=lerp$1([],l,u,.5);r.bezierCurveTo(l[0],l[1],l[0],l[1],c[0],c[1]),r.bezierCurveTo(u[0],u[1],u[0],u[1],i[2][0],i[2][1])}else for(var f=1;f<i.length;f++)r.lineTo(i[f][0],i[f][1])}function setLabelLineStyle(r,t,n){var i=r.getTextGuideLine(),a=r.getTextContent();if(!a){i&&r.removeTextGuideLine();return}for(var o=t.normal,s=o.get("show"),l=a.ignore,u=0;u<DISPLAY_STATES.length;u++){var c=DISPLAY_STATES[u],f=t[c],d=c==="normal";if(f){var g=f.get("show"),v=d?l:retrieve2(a.states[c]&&a.states[c].ignore,l);if(v||!retrieve2(g,s)){var M=d?i:i&&i.states[c];M&&(M.ignore=!0);continue}i||(i=new Polyline$1,r.setTextGuideLine(i),!d&&(l||!s)&&setLabelLineState(i,!0,"normal",t.normal),r.stateProxy&&(i.stateProxy=r.stateProxy)),setLabelLineState(i,!1,c,f)}}if(i){defaults(i.style,n),i.style.fill=null;var P=o.get("showAbove"),R=r.textGuideLineConfig=r.textGuideLineConfig||{};R.showAbove=P||!1,i.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(r,t){t=t||"labelLine";for(var n={normal:r.getModel(t)},i=0;i<SPECIAL_STATES.length;i++){var a=SPECIAL_STATES[i];n[a]=r.getModel([a,t])}return n}function prepareLayoutList(r){for(var t=[],n=0;n<r.length;n++){var i=r[n];if(!i.defaultAttr.ignore){var a=i.label,o=a.getComputedTransform(),s=a.getBoundingRect(),l=!o||o[1]<1e-5&&o[2]<1e-5,u=a.style.margin||0,c=s.clone();c.applyTransform(o),c.x-=u/2,c.y-=u/2,c.width+=u,c.height+=u;var f=l?new OrientedBoundingRect$1(s,o):null;t.push({label:a,labelLine:i.labelLine,rect:c,localRect:s,obb:f,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:l,transform:o})}}return t}function shiftLayout(r,t,n,i,a,o){var s=r.length;if(s<2)return;r.sort(function(Y,W){return Y.rect[t]-W.rect[t]});for(var l=0,u,c=!1,f=0,d=0;d<s;d++){var g=r[d],v=g.rect;u=v[t]-l,u<0&&(v[t]-=u,g.label[t]-=u,c=!0);var M=Math.max(-u,0);f+=M,l=v[t]+v[n]}f>0&&o&&V(-f/s,0,s);var P=r[0],R=r[s-1],I,$;N(),I<0&&H(-I,.8),$<0&&H($,.8),N(),F(I,$,1),F($,I,-1),N(),I<0&&G(-I),$<0&&G($);function N(){I=P.rect[t]-i,$=a-R.rect[t]-R.rect[n]}function F(Y,W,q){if(Y<0){var X=Math.min(W,-Y);if(X>0){V(X*q,0,s);var K=X+Y;K<0&&H(-K*q,1)}else H(-Y*q,1)}}function V(Y,W,q){Y!==0&&(c=!0);for(var X=W;X<q;X++){var K=r[X],Q=K.rect;Q[t]+=Y,K.label[t]+=Y}}function H(Y,W){for(var q=[],X=0,K=1;K<s;K++){var Q=r[K-1].rect,te=Math.max(r[K].rect[t]-Q[t]-Q[n],0);q.push(te),X+=te}if(X){var ae=Math.min(Math.abs(Y)/X,W);if(Y>0)for(var K=0;K<s-1;K++){var re=q[K]*ae;V(re,0,K+1)}else for(var K=s-1;K>0;K--){var re=q[K-1]*ae;V(-re,K,s)}}}function G(Y){var W=Y<0?-1:1;Y=Math.abs(Y);for(var q=Math.ceil(Y/(s-1)),X=0;X<s-1;X++)if(W>0?V(q,0,X+1):V(-q,s-X-1,s),Y-=q,Y<=0)return}return c}function shiftLayoutOnY(r,t,n,i){return shiftLayout(r,"y","height",t,n,i)}function hideOverlap(r){var t=[];r.sort(function(P,R){return R.priority-P.priority});var n=new BoundingRect$1(0,0,0,0);function i(P){if(!P.ignore){var R=P.ensureState("emphasis");R.ignore==null&&(R.ignore=!1)}P.ignore=!0}for(var a=0;a<r.length;a++){var o=r[a],s=o.axisAligned,l=o.localRect,u=o.transform,c=o.label,f=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var d=o.obb,g=!1,v=0;v<t.length;v++){var M=t[v];if(n.intersect(M.rect)){if(s&&M.axisAligned){g=!0;break}if(M.obb||(M.obb=new OrientedBoundingRect$1(M.localRect,M.transform)),d||(d=new OrientedBoundingRect$1(l,u)),d.intersect(M.obb)){g=!0;break}}}g?(i(c),f&&i(f)):(c.attr("ignore",o.defaultAttr.ignore),f&&f.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function createDom(r,t,n){var i=platformApi.createCanvas(),a=t.getWidth(),o=t.getHeight(),s=i.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=a+"px",s.height=o+"px",i.setAttribute("data-zr-dom-id",r)),i.width=a*n,i.height=o*n,i}var Layer=function(r){__extends(t,r);function t(n,i,a){var o=r.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var s;a=a||devicePixelRatio,typeof n=="string"?s=createDom(n,i,a):isObject$2(n)&&(s=n,n=s.id),o.id=n,o.dom=s;var l=s.style;return l&&(disableUserSelect(s),s.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),o.painter=i,o.dpr=a,o}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,i,a,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],l=this.maxRepaintRectCount,u=!1,c=new BoundingRect$1(0,0,0,0);function f($){if(!(!$.isFinite()||$.isZero()))if(s.length===0){var N=new BoundingRect$1(0,0,0,0);N.copy($),s.push(N)}else{for(var F=!1,V=1/0,H=0,G=0;G<s.length;++G){var Y=s[G];if(Y.intersect($)){var W=new BoundingRect$1(0,0,0,0);W.copy(Y),W.union($),s[G]=W,F=!0;break}else if(u){c.copy($),c.union(Y);var q=$.width*$.height,X=Y.width*Y.height,K=c.width*c.height,Q=K-q-X;Q<V&&(V=Q,H=G)}}if(u&&(s[H].union($),F=!0),!F){var N=new BoundingRect$1(0,0,0,0);N.copy($),s.push(N)}u||(u=s.length>=l)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var g=n[d];if(g){var v=g.shouldBePainted(a,o,!0,!0),M=g.__isRendered&&(g.__dirty&REDRAW_BIT||!v)?g.getPrevPaintRect():null;M&&f(M);var P=v&&(g.__dirty&REDRAW_BIT||!g.__isRendered)?g.getPaintRect():null;P&&f(P)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var g=i[d],v=g.shouldBePainted(a,o,!0,!0);if(g&&(!v||!g.__zr)&&g.__isRendered){var M=g.getPrevPaintRect();M&&f(M)}}var R;do{R=!1;for(var d=0;d<s.length;){if(s[d].isZero()){s.splice(d,1);continue}for(var I=d+1;I<s.length;)s[d].intersect(s[I])?(R=!0,s[d].union(s[I]),s.splice(I,1)):I++;d++}}while(R);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,i){var a=this.dpr,o=this.dom,s=o.style,l=this.domBack;s&&(s.width=n+"px",s.height=i+"px"),o.width=n*a,o.height=i*a,l&&(l.width=n*a,l.height=i*a,a!==1&&this.ctxBack.scale(a,a))},t.prototype.clear=function(n,i,a){var o=this.dom,s=this.ctx,l=o.width,u=o.height;i=i||this.clearColor;var c=this.motionBlur&&!n,f=this.lastFrameAlpha,d=this.dpr,g=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,l/d,u/d));var v=this.domBack;function M(P,R,I,$){if(s.clearRect(P,R,I,$),i&&i!=="transparent"){var N=void 0;if(isGradientObject(i)){var F=i.global||i.__width===I&&i.__height===$;N=F&&i.__canvasGradient||getCanvasGradient(s,i,{x:0,y:0,width:I,height:$}),i.__canvasGradient=N,i.__width=I,i.__height=$}else isImagePatternObject(i)&&(i.scaleX=i.scaleX||d,i.scaleY=i.scaleY||d,N=createCanvasPattern(s,i,{dirty:function(){g.setUnpainted(),g.__painter.refresh()}}));s.save(),s.fillStyle=N||i,s.fillRect(P,R,I,$),s.restore()}c&&(s.save(),s.globalAlpha=f,s.drawImage(v,P,R,I,$),s.restore())}!a||c?M(0,0,l,u):a.length&&each$5(a,function(P){M(P.x*d,P.y*d,P.width*d,P.height*d)})},t}(Eventful$1);const Layer$1=Layer;var HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function createRoot(r,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var CanvasPainter=function(){function r(t,n,i,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=i=extend({},i||{}),this.dpr=i.devicePixelRatio||devicePixelRatio,this._singleCanvas=o,this.root=t;var s=t.style;s&&(disableUserSelect(t),t.innerHTML=""),this.storage=n;var l=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(o){var f=t,d=f.width,g=f.height;i.width!=null&&(d=i.width),i.height!=null&&(g=i.height),this.dpr=i.devicePixelRatio||1,f.width=d*this.dpr,f.height=g*this.dpr,this._width=d,this._height=g;var v=new Layer$1(f,this,this.dpr);v.__builtin__=!0,v.initContext(),u[CANVAS_ZLEVEL]=v,v.zlevel=CANVAS_ZLEVEL,l.push(CANVAS_ZLEVEL),this._domRoot=t}else{this._width=getSize(t,0,i),this._height=getSize(t,1,i);var c=this._domRoot=createRoot(this._width,this._height);t.appendChild(c)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),i=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,i,t,this._redrawId);for(var o=0;o<a.length;o++){var s=a[o],l=this._layers[s];if(!l.__builtin__&&l.refresh){var u=o===0?this._backgroundColor:null;l.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var n=t.length,i=this._hoverlayer;if(i&&i.clear(),!!n){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,s=0;s<n;s++){var l=t[s];l.__inHover&&(i||(i=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),o||(o=i.ctx,o.save()),brush(o,l,a,s===n-1))}o&&o.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},r.prototype.paintOne=function(t,n){brushSingle(t,n)},r.prototype._paintList=function(t,n,i,a){if(this._redrawId===a){i=i||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,n,i),s=o.finished,l=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(t),s)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var u=this;requestAnimationFrame$2(function(){u._paintList(t,n,i,a)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(CANVAS_ZLEVEL).ctx,n=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,n,i),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,n,i)})},r.prototype._doPaintList=function(t,n,i){for(var a=this,o=[],s=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var u=this._zlevelList[l],c=this._layers[u];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||i)&&o.push(c)}for(var f=!0,d=!1,g=function(P){var R=o[P],I=R.ctx,$=s&&R.createRepaintRects(t,n,v._width,v._height),N=i?R.__startIndex:R.__drawIndex,F=!i&&R.incremental&&Date.now,V=F&&Date.now(),H=R.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(R.__startIndex===R.__endIndex)R.clear(!1,H,$);else if(N===R.__startIndex){var G=t[N];(!G.incremental||!G.notClear||i)&&R.clear(!1,H,$)}N===-1&&(console.error("For some unknown reason. drawIndex is -1"),N=R.__startIndex);var Y,W=function(Q){var te={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(Y=N;Y<R.__endIndex;Y++){var ae=t[Y];if(ae.__inHover&&(d=!0),a._doPaintEl(ae,R,s,Q,te,Y===R.__endIndex-1),F){var re=Date.now()-V;if(re>15)break}}te.prevElClipPaths&&I.restore()};if($)if($.length===0)Y=R.__endIndex;else for(var q=v.dpr,X=0;X<$.length;++X){var K=$[X];I.save(),I.beginPath(),I.rect(K.x*q,K.y*q,K.width*q,K.height*q),I.clip(),W(K),I.restore()}else I.save(),W(),I.restore();R.__drawIndex=Y,R.__drawIndex<R.__endIndex&&(f=!1)},v=this,M=0;M<o.length;M++)g(M);return env$1.wxa&&each$5(this._layers,function(P){P&&P.ctx&&P.ctx.draw&&P.ctx.draw()}),{finished:f,needsRefreshHover:d}},r.prototype._doPaintEl=function(t,n,i,a,o,s){var l=n.ctx;if(i){var u=t.getPaintRect();(!a||u&&u.intersect(a))&&(brush(l,t,o,s),t.setPrevPaintRect(u))}else brush(l,t,o,s)},r.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=CANVAS_ZLEVEL);var i=this._layers[t];return i||(i=new Layer$1("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]?merge(i,this._layerConfig[t],!0):this._layerConfig[t-EL_AFTER_INCREMENTAL_INC]&&merge(i,this._layerConfig[t-EL_AFTER_INCREMENTAL_INC],!0),n&&(i.virtual=n),this.insertLayer(t,i),i.initContext()),i},r.prototype.insertLayer=function(t,n){var i=this._layers,a=this._zlevelList,o=a.length,s=this._domRoot,l=null,u=-1;if(!i[t]&&isLayerValid(n)){if(o>0&&t>a[0]){for(u=0;u<o-1&&!(a[u]<t&&a[u+1]>t);u++);l=i[a[u]]}if(a.splice(u+1,0,t),i[t]=n,!n.virtual)if(l){var c=l.dom;c.nextSibling?s.insertBefore(n.dom,c.nextSibling):s.appendChild(n.dom)}else s.firstChild?s.insertBefore(n.dom,s.firstChild):s.appendChild(n.dom);n.__painter=this}},r.prototype.eachLayer=function(t,n){for(var i=this._zlevelList,a=0;a<i.length;a++){var o=i[a];t.call(n,this._layers[o],o)}},r.prototype.eachBuiltinLayer=function(t,n){for(var i=this._zlevelList,a=0;a<i.length;a++){var o=i[a],s=this._layers[o];s.__builtin__&&t.call(n,s,o)}},r.prototype.eachOtherLayer=function(t,n){for(var i=this._zlevelList,a=0;a<i.length;a++){var o=i[a],s=this._layers[o];s.__builtin__||t.call(n,s,o)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(d,g){d.__dirty=d.__used=!1});function n(d){o&&(o.__endIndex!==d&&(o.__dirty=!0),o.__endIndex=d)}if(this._singleCanvas)for(var i=1;i<t.length;i++){var a=t[i];if(a.zlevel!==t[i-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var o=null,s=0,l,u;for(u=0;u<t.length;u++){var a=t[u],c=a.zlevel,f=void 0;l!==c&&(l=c,s=0),a.incremental?(f=this.getLayer(c+INCREMENTAL_INC,this._needsManuallyCompositing),f.incremental=!0,s=1):f=this.getLayer(c+(s>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),f.__builtin__||logError("ZLevel "+c+" has been used by unkown layer "+f.id),f!==o&&(f.__used=!0,f.__startIndex!==u&&(f.__dirty=!0),f.__startIndex=u,f.incremental?f.__drawIndex=-1:f.__drawIndex=u,n(u),o=f),a.__dirty&REDRAW_BIT&&!a.__inHover&&(f.__dirty=!0,f.incremental&&f.__drawIndex<0&&(f.__drawIndex=u))}n(u),this.eachBuiltinLayer(function(d,g){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,each$5(this._layers,function(n){n.setUnpainted()})},r.prototype.configLayer=function(t,n){if(n){var i=this._layerConfig;i[t]?merge(i[t],n,!0):i[t]=n;for(var a=0;a<this._zlevelList.length;a++){var o=this._zlevelList[a];if(o===t||o===t+EL_AFTER_INCREMENTAL_INC){var s=this._layers[o];merge(s,i[t],!0)}}}},r.prototype.delLayer=function(t){var n=this._layers,i=this._zlevelList,a=n[t];a&&(a.dom.parentNode.removeChild(a.dom),delete n[t],i.splice(indexOf(i,t),1))},r.prototype.resize=function(t,n){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var a=this._opts,o=this.root;if(t!=null&&(a.width=t),n!=null&&(a.height=n),t=getSize(o,0,a),n=getSize(o,1,a),i.style.display="",this._width!==t||n!==this._height){i.style.width=t+"px",i.style.height=n+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(CANVAS_ZLEVEL).resize(t,n)}return this},r.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var n=new Layer$1("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var i=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var a=n.dom.width,o=n.dom.height;this.eachLayer(function(d){d.__builtin__?i.drawImage(d.dom,0,0,a,o):d.renderToCanvas&&(i.save(),d.renderToCanvas(i),i.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),u=0,c=l.length;u<c;u++){var f=l[u];brush(i,f,s,u===c-1)}return n.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();const CanvasPainter$1=CanvasPainter;function install$c(r){r.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var i=new Group$3,a=createSymbol("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);i.add(a),a.setStyle(n.lineStyle);var o=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),l=o==="none"?"circle":o,u=n.itemHeight*.8,c=createSymbol(l,(n.itemWidth-u)/2,(n.itemHeight-u)/2,u,u,n.itemStyle.fill);i.add(c),c.setStyle(n.itemStyle);var f=n.iconRotate==="inherit"?s:n.iconRotate||0;return c.rotation=f*Math.PI/180,c.setOrigin([n.itemWidth/2,n.itemHeight/2]),l.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),i},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(SeriesModel$1);const LineSeries=LineSeriesModel;function getDefaultLabel(r,t){var n=r.mapDimensionsAll("defaultedLabel"),i=n.length;if(i===1){var a=retrieveRawValue(r,t,n[0]);return a!=null?a+"":null}else if(i){for(var o=[],s=0;s<n.length;s++)o.push(retrieveRawValue(r,t,n[s]));return o.join(" ")}}function getDefaultInterpolatedLabel(r,t){var n=r.mapDimensionsAll("defaultedLabel");if(!isArray(t))return t+"";for(var i=[],a=0;a<n.length;a++){var o=r.getDimensionIndex(n[a]);o>=0&&i.push(t[o])}return i.join(" ")}var Symbol$1=function(r){__extends(t,r);function t(n,i,a,o){var s=r.call(this)||this;return s.updateData(n,i,a,o),s}return t.prototype._createSymbol=function(n,i,a,o,s){this.removeAll();var l=createSymbol(n,-1,-1,2,2,null,s);l.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),l.drift=driftSymbol,this._symbolType=n,this.add(l)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){enterEmphasis(this.childAt(0))},t.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},t.prototype.setZ=function(n,i){var a=this.childAt(0);a.zlevel=n,a.z=i},t.prototype.setDraggable=function(n,i){var a=this.childAt(0);a.draggable=n,a.cursor=!i&&n?"move":a.cursor},t.prototype.updateData=function(n,i,a,o){this.silent=!1;var s=n.getItemVisual(i,"symbol")||"circle",l=n.hostModel,u=t.getSymbolSize(n,i),c=s!==this._symbolType,f=o&&o.disableAnimation;if(c){var d=n.getItemVisual(i,"symbolKeepAspect");this._createSymbol(s,n,i,u,d)}else{var g=this.childAt(0);g.silent=!1;var v={scaleX:u[0]/2,scaleY:u[1]/2};f?g.attr(v):updateProps$1(g,v,l,i),saveOldStyle(g)}if(this._updateCommon(n,i,u,a,o),c){var g=this.childAt(0);if(!f){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:g.style.opacity}};g.scaleX=g.scaleY=0,g.style.opacity=0,initProps(g,v,l,i)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,i,a,o,s){var l=this.childAt(0),u=n.hostModel,c,f,d,g,v,M,P,R,I;if(o&&(c=o.emphasisItemStyle,f=o.blurItemStyle,d=o.selectItemStyle,g=o.focus,v=o.blurScope,P=o.labelStatesModels,R=o.hoverScale,I=o.cursorStyle,M=o.emphasisDisabled),!o||n.hasItemOption){var $=o&&o.itemModel?o.itemModel:n.getItemModel(i),N=$.getModel("emphasis");c=N.getModel("itemStyle").getItemStyle(),d=$.getModel(["select","itemStyle"]).getItemStyle(),f=$.getModel(["blur","itemStyle"]).getItemStyle(),g=N.get("focus"),v=N.get("blurScope"),M=N.get("disabled"),P=getLabelStatesModels($),R=N.getShallow("scale"),I=$.getShallow("cursor")}var F=n.getItemVisual(i,"symbolRotate");l.attr("rotation",(F||0)*Math.PI/180||0);var V=normalizeSymbolOffset(n.getItemVisual(i,"symbolOffset"),a);V&&(l.x=V[0],l.y=V[1]),I&&l.attr("cursor",I);var H=n.getItemVisual(i,"style"),G=H.fill;if(l instanceof ZRImage$1){var Y=l.style;l.useStyle(extend({image:Y.image,x:Y.x,y:Y.y,width:Y.width,height:Y.height},H))}else l.__isEmptyBrush?l.useStyle(extend({},H)):l.useStyle(H),l.style.decal=null,l.setColor(G,s&&s.symbolInnerColor),l.style.strokeNoScale=!0;var W=n.getItemVisual(i,"liftZ"),q=this._z2;W!=null?q==null&&(this._z2=l.z2,l.z2+=W):q!=null&&(l.z2=q,this._z2=null);var X=s&&s.useNameLabel;setLabelStyle(l,P,{labelFetcher:u,labelDataIndex:i,defaultText:K,inheritColor:G,defaultOpacity:H.opacity});function K(ae){return X?n.getName(ae):getDefaultLabel(n,ae)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var Q=l.ensureState("emphasis");Q.style=c,l.ensureState("select").style=d,l.ensureState("blur").style=f;var te=R==null||R===!0?Math.max(1.1,3/this._sizeY):isFinite(R)&&R>0?+R:1;Q.scaleX=this._sizeX*te,Q.scaleY=this._sizeY*te,this.setSymbolScale(1),toggleHoverEmphasis(this,g,v,M)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,i,a){var o=this.childAt(0),s=getECData(this).dataIndex,l=a&&a.animation;if(this.silent=o.silent=!0,a&&a.fadeLabel){var u=o.getTextContent();u&&removeElement(u,{style:{opacity:0}},i,{dataIndex:s,removeOpt:l,cb:function(){o.removeTextContent()}})}else o.removeTextContent();removeElement(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:s,cb:n,removeOpt:l})},t.getSymbolSize=function(n,i){return normalizeSymbolSize(n.getItemVisual(i,"symbolSize"))},t}(Group$3);function driftSymbol(r,t){this.parent.drift(r,t)}const SymbolClz=Symbol$1;function symbolNeedsDraw(r,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&r.getItemVisual(n,"symbol")!=="none"}function normalizeUpdateOpt(r){return r!=null&&!isObject$2(r)&&(r={isIgnore:r}),r||{}}function makeSeriesScope(r){var t=r.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:getLabelStatesModels(t),cursorStyle:t.get("cursor")}}var SymbolDraw=function(){function r(t){this.group=new Group$3,this._SymbolCtor=t||SymbolClz}return r.prototype.updateData=function(t,n){this._progressiveEls=null,n=normalizeUpdateOpt(n);var i=this.group,a=t.hostModel,o=this._data,s=this._SymbolCtor,l=n.disableAnimation,u=makeSeriesScope(t),c={disableAnimation:l},f=n.getSymbolPoint||function(d){return t.getItemLayout(d)};o||i.removeAll(),t.diff(o).add(function(d){var g=f(d);if(symbolNeedsDraw(t,g,d,n)){var v=new s(t,d,u,c);v.setPosition(g),t.setItemGraphicEl(d,v),i.add(v)}}).update(function(d,g){var v=o.getItemGraphicEl(g),M=f(d);if(!symbolNeedsDraw(t,M,d,n)){i.remove(v);return}var P=t.getItemVisual(d,"symbol")||"circle",R=v&&v.getSymbolType&&v.getSymbolType();if(!v||R&&R!==P)i.remove(v),v=new s(t,d,u,c),v.setPosition(M);else{v.updateData(t,d,u,c);var I={x:M[0],y:M[1]};l?v.attr(I):updateProps$1(v,I,a)}i.add(v),t.setItemGraphicEl(d,v)}).remove(function(d){var g=o.getItemGraphicEl(d);g&&g.fadeOut(function(){i.remove(g)},a)}).execute(),this._getSymbolPoint=f,this._data=t},r.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(i,a){var o=t._getSymbolPoint(a);i.setPosition(o),i.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=makeSeriesScope(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,n,i){this._progressiveEls=[],i=normalizeUpdateOpt(i);function a(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var s=n.getItemLayout(o);if(symbolNeedsDraw(n,s,o,i)){var l=new this._SymbolCtor(n,o,this._seriesScope);l.traverse(a),l.setPosition(s),this.group.add(l),n.setItemGraphicEl(o,l),this._progressiveEls.push(l)}}},r.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var n=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(a){a.fadeOut(function(){n.remove(a)},i.hostModel)}):n.removeAll()},r}();const SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo(r,t,n){var i=r.getBaseAxis(),a=r.getOtherAxis(i),o=getValueStart(a,n),s=i.dim,l=a.dim,u=t.mapDimension(l),c=t.mapDimension(s),f=l==="x"||l==="radius"?1:0,d=map$1(r.dimensions,function(M){return t.mapDimension(M)}),g=!1,v=t.getCalculationInfo("stackResultDimension");return isDimensionStacked(t,d[0])&&(g=!0,d[0]=v),isDimensionStacked(t,d[1])&&(g=!0,d[1]=v),{dataDimsForPoint:d,valueStart:o,valueAxisDim:l,baseAxisDim:s,stacked:!!g,valueDim:u,baseDim:c,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function getValueStart(r,t){var n=0,i=r.scale.getExtent();return t==="start"?n=i[0]:t==="end"?n=i[1]:isNumber(t)&&!isNaN(t)?n=t:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]),n}function getStackedOnPoint(r,t,n,i){var a=NaN;r.stacked&&(a=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(a)&&(a=r.valueStart);var o=r.baseDataOffset,s=[];return s[o]=n.get(r.baseDim,i),s[1-o]=a,t.dataToPoint(s)}function diffData(r,t){var n=[];return t.diff(r).add(function(i){n.push({cmd:"+",idx:i})}).update(function(i,a){n.push({cmd:"=",idx:a,idx1:i})}).remove(function(i){n.push({cmd:"-",idx:i})}).execute(),n}function lineAnimationDiff(r,t,n,i,a,o,s,l){for(var u=diffData(r,t),c=[],f=[],d=[],g=[],v=[],M=[],P=[],R=prepareDataCoordInfo(a,t,s),I=r.getLayout("points")||[],$=t.getLayout("points")||[],N=0;N<u.length;N++){var F=u[N],V=!0,H=void 0,G=void 0;switch(F.cmd){case"=":H=F.idx*2,G=F.idx1*2;var Y=I[H],W=I[H+1],q=$[G],X=$[G+1];(isNaN(Y)||isNaN(W))&&(Y=q,W=X),c.push(Y,W),f.push(q,X),d.push(n[H],n[H+1]),g.push(i[G],i[G+1]),P.push(t.getRawIndex(F.idx1));break;case"+":var K=F.idx,Q=R.dataDimsForPoint,te=a.dataToPoint([t.get(Q[0],K),t.get(Q[1],K)]);G=K*2,c.push(te[0],te[1]),f.push($[G],$[G+1]);var ae=getStackedOnPoint(R,a,t,K);d.push(ae[0],ae[1]),g.push(i[G],i[G+1]),P.push(t.getRawIndex(K));break;case"-":V=!1}V&&(v.push(F),M.push(M.length))}M.sort(function(Pe,Ae){return P[Pe]-P[Ae]});for(var re=c.length,de=createFloat32Array(re),se=createFloat32Array(re),ce=createFloat32Array(re),ye=createFloat32Array(re),Te=[],N=0;N<M.length;N++){var me=M[N],xe=N*2,Ce=me*2;de[xe]=c[Ce],de[xe+1]=c[Ce+1],se[xe]=f[Ce],se[xe+1]=f[Ce+1],ce[xe]=d[Ce],ce[xe+1]=d[Ce+1],ye[xe]=g[Ce],ye[xe+1]=g[Ce+1],Te[N]=v[me]}return{current:de,next:se,stackedOnCurrent:ce,stackedOnNext:ye,status:Te}}var mathMin=Math.min,mathMax=Math.max;function isPointNull$1(r,t){return isNaN(r)||isNaN(t)}function drawSegment(r,t,n,i,a,o,s,l,u){for(var c,f,d,g,v,M,P=n,R=0;R<i;R++){var I=t[P*2],$=t[P*2+1];if(P>=a||P<0)break;if(isPointNull$1(I,$)){if(u){P+=o;continue}break}if(P===n)r[o>0?"moveTo":"lineTo"](I,$),d=I,g=$;else{var N=I-c,F=$-f;if(N*N+F*F<.5){P+=o;continue}if(s>0){for(var V=P+o,H=t[V*2],G=t[V*2+1];H===I&&G===$&&R<i;)R++,V+=o,P+=o,H=t[V*2],G=t[V*2+1],I=t[P*2],$=t[P*2+1],N=I-c,F=$-f;var Y=R+1;if(u)for(;isPointNull$1(H,G)&&Y<i;)Y++,V+=o,H=t[V*2],G=t[V*2+1];var W=.5,q=0,X=0,K=void 0,Q=void 0;if(Y>=i||isPointNull$1(H,G))v=I,M=$;else{q=H-c,X=G-f;var te=I-c,ae=H-I,re=$-f,de=G-$,se=void 0,ce=void 0;if(l==="x"){se=Math.abs(te),ce=Math.abs(ae);var ye=q>0?1:-1;v=I-ye*se*s,M=$,K=I+ye*ce*s,Q=$}else if(l==="y"){se=Math.abs(re),ce=Math.abs(de);var Te=X>0?1:-1;v=I,M=$-Te*se*s,K=I,Q=$+Te*ce*s}else se=Math.sqrt(te*te+re*re),ce=Math.sqrt(ae*ae+de*de),W=ce/(ce+se),v=I-q*s*(1-W),M=$-X*s*(1-W),K=I+q*s*W,Q=$+X*s*W,K=mathMin(K,mathMax(H,I)),Q=mathMin(Q,mathMax(G,$)),K=mathMax(K,mathMin(H,I)),Q=mathMax(Q,mathMin(G,$)),q=K-I,X=Q-$,v=I-q*se/ce,M=$-X*se/ce,v=mathMin(v,mathMax(c,I)),M=mathMin(M,mathMax(f,$)),v=mathMax(v,mathMin(c,I)),M=mathMax(M,mathMin(f,$)),q=I-v,X=$-M,K=I+q*ce/se,Q=$+X*ce/se}r.bezierCurveTo(d,g,v,M,I,$),d=K,g=Q}else r.lineTo(I,$)}c=I,f=$,P+=o}return R}var ECPolylineShape=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),ECPolyline=function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;return i.type="ec-polyline",i}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ECPolylineShape},t.prototype.buildPath=function(n,i){var a=i.points,o=0,s=a.length/2;if(i.connectNulls){for(;s>0&&isPointNull$1(a[s*2-2],a[s*2-1]);s--);for(;o<s&&isPointNull$1(a[o*2],a[o*2+1]);o++);}for(;o<s;)o+=drawSegment(n,a,o,s,s,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},t.prototype.getPointOn=function(n,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,o=a.data,s=PathProxy$1.CMD,l,u,c=i==="x",f=[],d=0;d<o.length;){var g=o[d++],v=void 0,M=void 0,P=void 0,R=void 0,I=void 0,$=void 0,N=void 0;switch(g){case s.M:l=o[d++],u=o[d++];break;case s.L:if(v=o[d++],M=o[d++],N=c?(n-l)/(v-l):(n-u)/(M-u),N<=1&&N>=0){var F=c?(M-u)*N+u:(v-l)*N+l;return c?[n,F]:[F,n]}l=v,u=M;break;case s.C:v=o[d++],M=o[d++],P=o[d++],R=o[d++],I=o[d++],$=o[d++];var V=c?cubicRootAt(l,v,P,I,n,f):cubicRootAt(u,M,R,$,n,f);if(V>0)for(var H=0;H<V;H++){var G=f[H];if(G<=1&&G>=0){var F=c?cubicAt(u,M,R,$,G):cubicAt(l,v,P,I,G);return c?[n,F]:[F,n]}}l=I,u=$;break}}},t}(Path$1),ECPolygonShape=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(ECPolylineShape),ECPolygon=function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;return i.type="ec-polygon",i}return t.prototype.getDefaultShape=function(){return new ECPolygonShape},t.prototype.buildPath=function(n,i){var a=i.points,o=i.stackedOnPoints,s=0,l=a.length/2,u=i.smoothMonotone;if(i.connectNulls){for(;l>0&&isPointNull$1(a[l*2-2],a[l*2-1]);l--);for(;s<l&&isPointNull$1(a[s*2],a[s*2+1]);s++);}for(;s<l;){var c=drawSegment(n,a,s,l,l,1,i.smooth,u,i.connectNulls);drawSegment(n,o,s+c-1,c,l,-1,i.stackedOnSmooth,u,i.connectNulls),s+=c+1,n.closePath()}},t}(Path$1);function createGridClipPath(r,t,n,i,a){var o=r.getArea(),s=o.x,l=o.y,u=o.width,c=o.height,f=n.get(["lineStyle","width"])||2;s-=f/2,l-=f/2,u+=f,c+=f,s=Math.floor(s),u=Math.round(u);var d=new Rect$2({shape:{x:s,y:l,width:u,height:c}});if(t){var g=r.getBaseAxis(),v=g.isHorizontal(),M=g.inverse;v?(M&&(d.shape.x+=u),d.shape.width=0):(M||(d.shape.y+=c),d.shape.height=0);var P=isFunction(a)?function(R){a(R,d)}:null;initProps(d,{shape:{width:u,height:c,x:s,y:l}},n,null,i,P)}return d}function createPolarClipPath(r,t,n){var i=r.getArea(),a=round$1(i.r0,1),o=round$1(i.r,1),s=new Sector$1({shape:{cx:round$1(r.cx,1),cy:round$1(r.cy,1),r0:a,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(t){var l=r.getBaseAxis().dim==="angle";l?s.shape.endAngle=i.startAngle:s.shape.r=a,initProps(s,{shape:{endAngle:i.endAngle,r:o}},n)}return s}function isCoordinateSystemType(r,t){return r.type===t}function isPointsSame(r,t){if(r.length===t.length){for(var n=0;n<r.length;n++)if(r[n]!==t[n])return;return!0}}function bboxFromPoints(r){for(var t=1/0,n=1/0,i=-1/0,a=-1/0,o=0;o<r.length;){var s=r[o++],l=r[o++];isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i)),isNaN(l)||(n=Math.min(l,n),a=Math.max(l,a))}return[[t,n],[i,a]]}function getBoundingDiff(r,t){var n=bboxFromPoints(r),i=n[0],a=n[1],o=bboxFromPoints(t),s=o[0],l=o[1];return Math.max(Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]),Math.abs(a[0]-l[0]),Math.abs(a[1]-l[1]))}function getSmooth(r){return isNumber(r)?r:r?.5:0}function getStackedOnPoints(r,t,n){if(!n.valueDim)return[];for(var i=t.count(),a=createFloat32Array(i*2),o=0;o<i;o++){var s=getStackedOnPoint(n,r,t,o);a[o*2]=s[0],a[o*2+1]=s[1]}return a}function turnPointsIntoStep(r,t,n,i){var a=t.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],d=[];if(i){for(l=0;l<r.length;l+=2)!isNaN(r[l])&&!isNaN(r[l+1])&&d.push(r[l],r[l+1]);r=d}for(l=0;l<r.length-2;l+=2)switch(f[0]=r[l+2],f[1]=r[l+3],c[0]=r[l],c[1]=r[l+1],s.push(c[0],c[1]),n){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var g=(c[o]+f[o])/2,v=[];u[o]=v[o]=g,u[1-o]=c[1-o],v[1-o]=f[1-o],s.push(u[0],u[1]),s.push(v[0],v[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(r[l++],r[l++]),s}function clipColorStops(r,t){var n=[],i=r.length,a,o;function s(f,d,g){var v=f.coord,M=(g-v)/(d.coord-v),P=lerp(M,[f.color,d.color]);return{coord:g,color:P}}for(var l=0;l<i;l++){var u=r[l],c=u.coord;if(c<0)a=u;else if(c>t){o?n.push(s(o,u,t)):a&&n.push(s(a,u,0),s(a,u,t));break}else a&&(n.push(s(a,u,0)),a=null),n.push(u),o=u}return n}function getVisualGradient(r,t,n){var i=r.getVisual("visualMeta");if(!(!i||!i.length||!r.count())&&t.type==="cartesian2d"){for(var a,o,s=i.length-1;s>=0;s--){var l=r.getDimensionInfo(i[s].dimension);if(a=l&&l.coordDim,a==="x"||a==="y"){o=i[s];break}}if(o){var u=t.getAxis(a),c=map$1(o.stops,function(N){return{coord:u.toGlobalCoord(u.dataToCoord(N.value)),color:N.color}}),f=c.length,d=o.outerColors.slice();f&&c[0].coord>c[f-1].coord&&(c.reverse(),d.reverse());var g=clipColorStops(c,a==="x"?n.getWidth():n.getHeight()),v=g.length;if(!v&&f)return c[0].coord<0?d[1]?d[1]:c[f-1].color:d[0]?d[0]:c[0].color;var M=10,P=g[0].coord-M,R=g[v-1].coord+M,I=R-P;if(I<.001)return"transparent";each$5(g,function(N){N.offset=(N.coord-P)/I}),g.push({offset:v?g[v-1].offset:.5,color:d[1]||"transparent"}),g.unshift({offset:v?g[0].offset:.5,color:d[0]||"transparent"});var $=new LinearGradient$1(0,0,0,0,g,!0);return $[a]=P,$[a+"2"]=R,$}}}function getIsIgnoreFunc(r,t,n){var i=r.get("showAllSymbol"),a=i==="auto";if(!(i&&!a)){var o=n.getAxesByScale("ordinal")[0];if(o&&!(a&&canShowAllSymbolForCategory(o,t))){var s=t.mapDimension(o.dim),l={};return each$5(o.getViewLabels(),function(u){var c=o.scale.getRawOrdinalNumber(u.tickValue);l[c]=1}),function(u){return!l.hasOwnProperty(t.get(s,u))}}}}function canShowAllSymbolForCategory(r,t){var n=r.getExtent(),i=Math.abs(n[1]-n[0])/r.scale.count();isNaN(i)&&(i=0);for(var a=t.count(),o=Math.max(1,Math.round(a/5)),s=0;s<a;s+=o)if(SymbolClz.getSymbolSize(t,s)[r.isHorizontal()?1:0]*1.5>i)return!1;return!0}function isPointNull(r,t){return isNaN(r)||isNaN(t)}function getLastIndexNotNull(r){for(var t=r.length/2;t>0&&isPointNull(r[t*2-2],r[t*2-1]);t--);return t-1}function getPointAtIndex(r,t){return[r[t*2],r[t*2+1]]}function getIndexRange(r,t,n){for(var i=r.length/2,a=n==="x"?0:1,o,s,l=0,u=-1,c=0;c<i;c++)if(s=r[c*2+a],!(isNaN(s)||isNaN(r[c*2+1-a]))){if(c===0){o=s;continue}if(o<=t&&s>=t||o>=t&&s<=t){u=c;break}l=c,o=s}return{range:[l,u],t:(t-o)/(s-o)}}function anyStateShowEndLabel(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<SPECIAL_STATES.length;t++)if(r.get([SPECIAL_STATES[t],"endLabel","show"]))return!0;return!1}function createLineClipPath(r,t,n,i){if(isCoordinateSystemType(t,"cartesian2d")){var a=i.getModel("endLabel"),o=a.get("valueAnimation"),s=i.getData(),l={lastFrameIndex:0},u=anyStateShowEndLabel(i)?function(v,M){r._endLabelOnDuring(v,M,s,l,o,a,t)}:null,c=t.getBaseAxis().isHorizontal(),f=createGridClipPath(t,n,i,function(){var v=r._endLabel;v&&n&&l.originalX!=null&&v.attr({x:l.originalX,y:l.originalY})},u);if(!i.get("clip",!0)){var d=f.shape,g=Math.max(d.width,d.height);c?(d.y-=g,d.height+=g*2):(d.x-=g,d.width+=g*2)}return u&&u(1,f),f}else return createPolarClipPath(t,n,i)}function getEndLabelStateSpecified(r,t){var n=t.getBaseAxis(),i=n.isHorizontal(),a=n.inverse,o=i?a?"right":"left":"center",s=i?"middle":a?"top":"bottom";return{normal:{align:r.get("align")||o,verticalAlign:r.get("verticalAlign")||s}}}var LineView=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var n=new Group$3,i=new SymbolDraw$1;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=n},t.prototype.render=function(n,i,a){var o=this,s=n.coordinateSystem,l=this.group,u=n.getData(),c=n.getModel("lineStyle"),f=n.getModel("areaStyle"),d=u.getLayout("points")||[],g=s.type==="polar",v=this._coordSys,M=this._symbolDraw,P=this._polyline,R=this._polygon,I=this._lineGroup,$=!i.ssr&&n.isAnimationEnabled(),N=!f.isEmpty(),F=f.get("origin"),V=prepareDataCoordInfo(s,u,F),H=N&&getStackedOnPoints(s,u,V),G=n.get("showSymbol"),Y=n.get("connectNulls"),W=G&&!g&&getIsIgnoreFunc(n,u,s),q=this._data;q&&q.eachItemGraphicEl(function(Ae,De){Ae.__temp&&(l.remove(Ae),q.setItemGraphicEl(De,null))}),G||M.remove(),l.add(I);var X=g?!1:n.get("step"),K;s&&s.getArea&&n.get("clip",!0)&&(K=s.getArea(),K.width!=null?(K.x-=.1,K.y-=.1,K.width+=.2,K.height+=.2):K.r0&&(K.r0-=.5,K.r+=.5)),this._clipShapeForSymbol=K;var Q=getVisualGradient(u,s,a)||u.getVisual("style")[u.getVisual("drawType")];if(!(P&&v.type===s.type&&X===this._step))G&&M.updateData(u,{isIgnore:W,clipShape:K,disableAnimation:!0,getSymbolPoint:function(Ae){return[d[Ae*2],d[Ae*2+1]]}}),$&&this._initSymbolLabelAnimation(u,s,K),X&&(d=turnPointsIntoStep(d,s,X,Y),H&&(H=turnPointsIntoStep(H,s,X,Y))),P=this._newPolyline(d),N?R=this._newPolygon(d,H):R&&(I.remove(R),R=this._polygon=null),g||this._initOrUpdateEndLabel(n,s,convertToColorString(Q)),I.setClipPath(createLineClipPath(this,s,!0,n));else{N&&!R?R=this._newPolygon(d,H):R&&!N&&(I.remove(R),R=this._polygon=null),g||this._initOrUpdateEndLabel(n,s,convertToColorString(Q));var te=I.getClipPath();if(te){var ae=createLineClipPath(this,s,!1,n);initProps(te,{shape:ae.shape},n)}else I.setClipPath(createLineClipPath(this,s,!0,n));G&&M.updateData(u,{isIgnore:W,clipShape:K,disableAnimation:!0,getSymbolPoint:function(Ae){return[d[Ae*2],d[Ae*2+1]]}}),(!isPointsSame(this._stackedOnPoints,H)||!isPointsSame(this._points,d))&&($?this._doUpdateAnimation(u,H,s,a,X,F,Y):(X&&(d=turnPointsIntoStep(d,s,X,Y),H&&(H=turnPointsIntoStep(H,s,X,Y))),P.setShape({points:d}),R&&R.setShape({points:d,stackedOnPoints:H})))}var re=n.getModel("emphasis"),de=re.get("focus"),se=re.get("blurScope"),ce=re.get("disabled");if(P.useStyle(defaults(c.getLineStyle(),{fill:"none",stroke:Q,lineJoin:"bevel"})),setStatesStylesFromModel(P,n,"lineStyle"),P.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var ye=P.getState("emphasis").style;ye.lineWidth=+P.style.lineWidth+1}getECData(P).seriesIndex=n.seriesIndex,toggleHoverEmphasis(P,de,se,ce);var Te=getSmooth(n.get("smooth")),me=n.get("smoothMonotone");if(P.setShape({smooth:Te,smoothMonotone:me,connectNulls:Y}),R){var xe=u.getCalculationInfo("stackedOnSeries"),Ce=0;R.useStyle(defaults(f.getAreaStyle(),{fill:Q,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),xe&&(Ce=getSmooth(xe.get("smooth"))),R.setShape({smooth:Te,stackedOnSmooth:Ce,smoothMonotone:me,connectNulls:Y}),setStatesStylesFromModel(R,n,"areaStyle"),getECData(R).seriesIndex=n.seriesIndex,toggleHoverEmphasis(R,de,se,ce)}var Pe=function(Ae){o._changePolyState(Ae)};u.eachItemGraphicEl(function(Ae){Ae&&(Ae.onHoverStateChange=Pe)}),this._polyline.onHoverStateChange=Pe,this._data=u,this._coordSys=s,this._stackedOnPoints=H,this._points=d,this._step=X,this._valueOrigin=F,n.get("triggerLineEvent")&&(this.packEventData(n,P),R&&this.packEventData(n,R))},t.prototype.packEventData=function(n,i){getECData(i).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,i,a,o){var s=n.getData(),l=queryDataIndex(s,o);if(this._changePolyState("emphasis"),!(l instanceof Array)&&l!=null&&l>=0){var u=s.getLayout("points"),c=s.getItemGraphicEl(l);if(!c){var f=u[l*2],d=u[l*2+1];if(isNaN(f)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,d))return;var g=n.get("zlevel")||0,v=n.get("z")||0;c=new SymbolClz(s,l),c.x=f,c.y=d,c.setZ(g,v);var M=c.getSymbolPath().getTextContent();M&&(M.zlevel=g,M.z=v,M.z2=this._polyline.z2+1),c.__temp=!0,s.setItemGraphicEl(l,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else ChartView$1.prototype.highlight.call(this,n,i,a,o)},t.prototype.downplay=function(n,i,a,o){var s=n.getData(),l=queryDataIndex(s,o);if(this._changePolyState("normal"),l!=null&&l>=0){var u=s.getItemGraphicEl(l);u&&(u.__temp?(s.setItemGraphicEl(l,null),this.group.remove(u)):u.downplay())}else ChartView$1.prototype.downplay.call(this,n,i,a,o)},t.prototype._changePolyState=function(n){var i=this._polygon;setStatesFlag(this._polyline,n),i&&setStatesFlag(i,n)},t.prototype._newPolyline=function(n){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new ECPolyline({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},t.prototype._newPolygon=function(n,i){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new ECPolygon({shape:{points:n,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},t.prototype._initSymbolLabelAnimation=function(n,i,a){var o,s,l=i.getBaseAxis(),u=l.inverse;i.type==="cartesian2d"?(o=l.isHorizontal(),s=!1):i.type==="polar"&&(o=l.dim==="angle",s=!0);var c=n.hostModel,f=c.get("animationDuration");isFunction(f)&&(f=f(null));var d=c.get("animationDelay")||0,g=isFunction(d)?d(null):d;n.eachItemGraphicEl(function(v,M){var P=v;if(P){var R=[v.x,v.y],I=void 0,$=void 0,N=void 0;if(a)if(s){var F=a,V=i.pointToCoord(R);o?(I=F.startAngle,$=F.endAngle,N=-V[1]/180*Math.PI):(I=F.r0,$=F.r,N=V[0])}else{var H=a;o?(I=H.x,$=H.x+H.width,N=v.x):(I=H.y+H.height,$=H.y,N=v.y)}var G=$===I?0:(N-I)/($-I);u&&(G=1-G);var Y=isFunction(d)?d(M):f*G+g,W=P.getSymbolPath(),q=W.getTextContent();P.attr({scaleX:0,scaleY:0}),P.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Y}),q&&q.animateFrom({style:{opacity:0}},{duration:300,delay:Y}),W.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,i,a){var o=n.getModel("endLabel");if(anyStateShowEndLabel(n)){var s=n.getData(),l=this._polyline,u=s.getLayout("points");if(!u){l.removeTextContent(),this._endLabel=null;return}var c=this._endLabel;c||(c=this._endLabel=new ZRText$1({z2:200}),c.ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var f=getLastIndexNotNull(u);f>=0&&(setLabelStyle(l,getLabelStatesModels(n,"endLabel"),{inheritColor:a,labelFetcher:n,labelDataIndex:f,defaultText:function(d,g,v){return v!=null?getDefaultInterpolatedLabel(s,v):getDefaultLabel(s,d)},enableTextSetter:!0},getEndLabelStateSpecified(o,i)),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,i,a,o,s,l,u){var c=this._endLabel,f=this._polyline;if(c){n<1&&o.originalX==null&&(o.originalX=c.x,o.originalY=c.y);var d=a.getLayout("points"),g=a.hostModel,v=g.get("connectNulls"),M=l.get("precision"),P=l.get("distance")||0,R=u.getBaseAxis(),I=R.isHorizontal(),$=R.inverse,N=i.shape,F=$?I?N.x:N.y+N.height:I?N.x+N.width:N.y,V=(I?P:0)*($?-1:1),H=(I?0:-P)*($?-1:1),G=I?"x":"y",Y=getIndexRange(d,F,G),W=Y.range,q=W[1]-W[0],X=void 0;if(q>=1){if(q>1&&!v){var K=getPointAtIndex(d,W[0]);c.attr({x:K[0]+V,y:K[1]+H}),s&&(X=g.getRawValue(W[0]))}else{var K=f.getPointOn(F,G);K&&c.attr({x:K[0]+V,y:K[1]+H});var Q=g.getRawValue(W[0]),te=g.getRawValue(W[1]);s&&(X=interpolateRawValues(a,M,Q,te,Y.t))}o.lastFrameIndex=W[0]}else{var ae=n===1||o.lastFrameIndex>0?W[0]:0,K=getPointAtIndex(d,ae);s&&(X=g.getRawValue(ae)),c.attr({x:K[0]+V,y:K[1]+H})}if(s){var re=labelInner(c);typeof re.setLabelText=="function"&&re.setLabelText(X)}}},t.prototype._doUpdateAnimation=function(n,i,a,o,s,l,u){var c=this._polyline,f=this._polygon,d=n.hostModel,g=lineAnimationDiff(this._data,n,this._stackedOnPoints,i,this._coordSys,a,this._valueOrigin),v=g.current,M=g.stackedOnCurrent,P=g.next,R=g.stackedOnNext;if(s&&(v=turnPointsIntoStep(g.current,a,s,u),M=turnPointsIntoStep(g.stackedOnCurrent,a,s,u),P=turnPointsIntoStep(g.next,a,s,u),R=turnPointsIntoStep(g.stackedOnNext,a,s,u)),getBoundingDiff(v,P)>3e3||f&&getBoundingDiff(M,R)>3e3){c.stopAnimation(),c.setShape({points:P}),f&&(f.stopAnimation(),f.setShape({points:P,stackedOnPoints:R}));return}c.shape.__points=g.current,c.shape.points=v;var I={shape:{points:P}};g.current!==v&&(I.shape.__points=g.next),c.stopAnimation(),updateProps$1(c,I,d),f&&(f.setShape({points:v,stackedOnPoints:M}),f.stopAnimation(),updateProps$1(f,{shape:{stackedOnPoints:R}},d),c.shape.points!==f.shape.points&&(f.shape.points=c.shape.points));for(var $=[],N=g.status,F=0;F<N.length;F++){var V=N[F].cmd;if(V==="="){var H=n.getItemGraphicEl(N[F].idx1);H&&$.push({el:H,ptIdx:F})}}c.animators&&c.animators.length&&c.animators[0].during(function(){f&&f.dirtyShape();for(var G=c.shape.__points,Y=0;Y<$.length;Y++){var W=$[Y].el,q=$[Y].ptIdx*2;W.x=G[q],W.y=G[q+1],W.markRedraw()}})},t.prototype.remove=function(n){var i=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(o,s){o.__temp&&(i.remove(o),a.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ChartView$1);const LineView$1=LineView;function pointsLayout(r,t){return{seriesType:r,plan:createRenderPlanner(),reset:function(n){var i=n.getData(),a=n.coordinateSystem,o=n.pipelineContext,s=t||o.large;if(a){var l=map$1(a.dimensions,function(v){return i.mapDimension(v)}).slice(0,2),u=l.length,c=i.getCalculationInfo("stackResultDimension");isDimensionStacked(i,l[0])&&(l[0]=c),isDimensionStacked(i,l[1])&&(l[1]=c);var f=i.getStore(),d=i.getDimensionIndex(l[0]),g=i.getDimensionIndex(l[1]);return u&&{progress:function(v,M){for(var P=v.end-v.start,R=s&&createFloat32Array(P*u),I=[],$=[],N=v.start,F=0;N<v.end;N++){var V=void 0;if(u===1){var H=f.get(d,N);V=a.dataToPoint(H,null,$)}else I[0]=f.get(d,N),I[1]=f.get(g,N),V=a.dataToPoint(I,null,$);s?(R[F++]=V[0],R[F++]=V[1]):M.setItemLayout(N,V.slice())}s&&M.setLayout("points",R)}}}}}}var samplers={average:function(r){for(var t=0,n=0,i=0;i<r.length;i++)isNaN(r[i])||(t+=r[i],n++);return n===0?NaN:t/n},sum:function(r){for(var t=0,n=0;n<r.length;n++)t+=r[n]||0;return t},max:function(r){for(var t=-1/0,n=0;n<r.length;n++)r[n]>t&&(t=r[n]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,n=0;n<r.length;n++)r[n]<t&&(t=r[n]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},indexSampler=function(r){return Math.round(r.length/2)};function dataSample(r){return{seriesType:r,reset:function(t,n,i){var a=t.getData(),o=t.get("sampling"),s=t.coordinateSystem,l=a.count();if(l>10&&s.type==="cartesian2d"&&o){var u=s.getBaseAxis(),c=s.getOtherAxis(u),f=u.getExtent(),d=i.getDevicePixelRatio(),g=Math.abs(f[1]-f[0])*(d||1),v=Math.round(l/g);if(isFinite(v)&&v>1){o==="lttb"&&t.setData(a.lttbDownSample(a.mapDimension(c.dim),1/v));var M=void 0;isString(o)?M=samplers[o]:isFunction(o)&&(M=o),M&&t.setData(a.downSample(a.mapDimension(c.dim),1/v,M,indexSampler))}}}}}function install$b(r){r.registerChartView(LineView$1),r.registerSeriesModel(LineSeries),r.registerLayout(pointsLayout("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",i)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}function getSectorCornerRadius(r,t,n){var i=r.get("borderRadius");if(i==null)return n?{cornerRadius:0}:null;isArray(i)||(i=[i,i,i,i]);var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:map$1(i,function(o){return parsePercent$1(o,a)})}}var PI2=Math.PI*2,RADIAN$1=Math.PI/180;function getViewRect(r,t){return getLayoutRect(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function getBasicPieLayout(r,t){var n=getViewRect(r,t),i=r.get("center"),a=r.get("radius");isArray(a)||(a=[0,a]);var o=parsePercent(n.width,t.getWidth()),s=parsePercent(n.height,t.getHeight()),l=Math.min(o,s),u=parsePercent(a[0],l/2),c=parsePercent(a[1],l/2),f,d,g=r.coordinateSystem;if(g){var v=g.dataToPoint(i);f=v[0]||0,d=v[1]||0}else isArray(i)||(i=[i,i]),f=parsePercent(i[0],o)+n.x,d=parsePercent(i[1],s)+n.y;return{cx:f,cy:d,r0:u,r:c}}function pieLayout(r,t,n){t.eachSeriesByType(r,function(i){var a=i.getData(),o=a.mapDimension("value"),s=getViewRect(i,n),l=getBasicPieLayout(i,n),u=l.cx,c=l.cy,f=l.r,d=l.r0,g=-i.get("startAngle")*RADIAN$1,v=i.get("minAngle")*RADIAN$1,M=0;a.each(o,function(q){!isNaN(q)&&M++});var P=a.getSum(o),R=Math.PI/(P||M)*2,I=i.get("clockwise"),$=i.get("roseType"),N=i.get("stillShowZeroSum"),F=a.getDataExtent(o);F[0]=0;var V=PI2,H=0,G=g,Y=I?1:-1;if(a.setLayout({viewRect:s,r:f}),a.each(o,function(q,X){var K;if(isNaN(q)){a.setItemLayout(X,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:I,cx:u,cy:c,r0:d,r:$?NaN:f});return}$!=="area"?K=P===0&&N?R:q*R:K=PI2/M,K<v?(K=v,V-=v):H+=q;var Q=G+Y*K;a.setItemLayout(X,{angle:K,startAngle:G,endAngle:Q,clockwise:I,cx:u,cy:c,r0:d,r:$?linearMap(q,F,[d,f]):f}),G=Q}),V<PI2&&M)if(V<=.001){var W=PI2/M;a.each(o,function(q,X){if(!isNaN(q)){var K=a.getItemLayout(X);K.angle=W,K.startAngle=g+Y*X*W,K.endAngle=g+Y*(X+1)*W}})}else R=V/H,G=g,a.each(o,function(q,X){if(!isNaN(q)){var K=a.getItemLayout(X),Q=K.angle===v?v:q*R;K.startAngle=G,K.endAngle=G+Y*Q,G+=Y*Q}})})}function dataFilter(r){return{seriesType:r,reset:function(t,n){var i=n.findComponents({mainType:"legend"});if(!(!i||!i.length)){var a=t.getData();a.filterSelf(function(o){for(var s=a.getName(o),l=0;l<i.length;l++)if(!i[l].isSelected(s))return!1;return!0})}}}}var RADIAN=Math.PI/180;function adjustSingleSide(r,t,n,i,a,o,s,l,u,c){if(r.length<2)return;function f(P){for(var R=P.rB,I=R*R,$=0;$<P.list.length;$++){var N=P.list[$],F=Math.abs(N.label.y-n),V=i+N.len,H=V*V,G=Math.sqrt((1-Math.abs(F*F/I))*H),Y=t+(G+N.len2)*a,W=Y-N.label.x,q=N.targetTextWidth-W*a;constrainTextWidth(N,q,!0),N.label.x=Y}}function d(P){for(var R={list:[],maxY:0},I={list:[],maxY:0},$=0;$<P.length;$++)if(P[$].labelAlignTo==="none"){var N=P[$],F=N.label.y>n?I:R,V=Math.abs(N.label.y-n);if(V>=F.maxY){var H=N.label.x-t-N.len2*a,G=i+N.len,Y=Math.abs(H)<G?Math.sqrt(V*V/(1-H*H/G/G)):G;F.rB=Y,F.maxY=V}F.list.push(N)}f(R),f(I)}for(var g=r.length,v=0;v<g;v++)if(r[v].position==="outer"&&r[v].labelAlignTo==="labelLine"){var M=r[v].label.x-c;r[v].linePoints[1][0]+=M,r[v].label.x=c}shiftLayoutOnY(r,u,u+s)&&d(r)}function avoidOverlap(r,t,n,i,a,o,s,l){for(var u=[],c=[],f=Number.MAX_VALUE,d=-Number.MAX_VALUE,g=0;g<r.length;g++){var v=r[g].label;isPositionCenter(r[g])||(v.x<t?(f=Math.min(f,v.x),u.push(r[g])):(d=Math.max(d,v.x),c.push(r[g])))}for(var g=0;g<r.length;g++){var M=r[g];if(!isPositionCenter(M)&&M.linePoints){if(M.labelStyleWidth!=null)continue;var v=M.label,P=M.linePoints,R=void 0;M.labelAlignTo==="edge"?v.x<t?R=P[2][0]-M.labelDistance-s-M.edgeDistance:R=s+a-M.edgeDistance-P[2][0]-M.labelDistance:M.labelAlignTo==="labelLine"?v.x<t?R=f-s-M.bleedMargin:R=s+a-d-M.bleedMargin:v.x<t?R=v.x-s-M.bleedMargin:R=s+a-v.x-M.bleedMargin,M.targetTextWidth=R,constrainTextWidth(M,R)}}adjustSingleSide(c,t,n,i,1,a,o,s,l,d),adjustSingleSide(u,t,n,i,-1,a,o,s,l,f);for(var g=0;g<r.length;g++){var M=r[g];if(!isPositionCenter(M)&&M.linePoints){var v=M.label,P=M.linePoints,I=M.labelAlignTo==="edge",$=v.style.padding,N=$?$[1]+$[3]:0,F=v.style.backgroundColor?0:N,V=M.rect.width+F,H=P[1][0]-P[2][0];I?v.x<t?P[2][0]=s+M.edgeDistance+V+M.labelDistance:P[2][0]=s+a-M.edgeDistance-V-M.labelDistance:(v.x<t?P[2][0]=v.x+M.labelDistance:P[2][0]=v.x-M.labelDistance,P[1][0]=P[2][0]+H),P[1][1]=P[2][1]=v.y}}}function constrainTextWidth(r,t,n){if(n===void 0&&(n=!1),r.labelStyleWidth==null){var i=r.label,a=i.style,o=r.rect,s=a.backgroundColor,l=a.padding,u=l?l[1]+l[3]:0,c=a.overflow,f=o.width+(s?0:u);if(t<f||n){var d=o.height;if(c&&c.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",t-u);var g=i.getBoundingRect();i.setStyle("width",Math.ceil(g.width)),i.setStyle("backgroundColor",s)}else{var v=t-u,M=t<f?v:n?v>r.unconstrainedWidth?null:v:null;i.setStyle("width",M)}var P=i.getBoundingRect();o.width=P.width;var R=(i.style.margin||0)+2.1;o.height=P.height+R,o.y-=(o.height-d)/2}}}function isPositionCenter(r){return r.position==="center"}function pieLabelLayout(r){var t=r.getData(),n=[],i,a,o=!1,s=(r.get("minShowLabelAngle")||0)*RADIAN,l=t.getLayout("viewRect"),u=t.getLayout("r"),c=l.width,f=l.x,d=l.y,g=l.height;function v(H){H.ignore=!0}function M(H){if(!H.ignore)return!0;for(var G in H.states)if(H.states[G].ignore===!1)return!0;return!1}t.each(function(H){var G=t.getItemGraphicEl(H),Y=G.shape,W=G.getTextContent(),q=G.getTextGuideLine(),X=t.getItemModel(H),K=X.getModel("label"),Q=K.get("position")||X.get(["emphasis","label","position"]),te=K.get("distanceToLabelLine"),ae=K.get("alignTo"),re=parsePercent(K.get("edgeDistance"),c),de=K.get("bleedMargin"),se=X.getModel("labelLine"),ce=se.get("length");ce=parsePercent(ce,c);var ye=se.get("length2");if(ye=parsePercent(ye,c),Math.abs(Y.endAngle-Y.startAngle)<s){each$5(W.states,v),W.ignore=!0,q&&(each$5(q.states,v),q.ignore=!0);return}if(M(W)){var Te=(Y.startAngle+Y.endAngle)/2,me=Math.cos(Te),xe=Math.sin(Te),Ce,Pe,Ae,De;i=Y.cx,a=Y.cy;var Oe=Q==="inside"||Q==="inner";if(Q==="center")Ce=Y.cx,Pe=Y.cy,De="center";else{var Re=(Oe?(Y.r+Y.r0)/2*me:Y.r*me)+i,we=(Oe?(Y.r+Y.r0)/2*xe:Y.r*xe)+a;if(Ce=Re+me*3,Pe=we+xe*3,!Oe){var _e=Re+me*(ce+u-Y.r),Z=we+xe*(ce+u-Y.r),J=_e+(me<0?-1:1)*ye,ee=Z;ae==="edge"?Ce=me<0?f+re:f+c-re:Ce=J+(me<0?-te:te),Pe=ee,Ae=[[Re,we],[_e,Z],[J,ee]]}De=Oe?"center":ae==="edge"?me>0?"right":"left":me>0?"left":"right"}var ie=Math.PI,ne=0,ue=K.get("rotate");if(isNumber(ue))ne=ue*(ie/180);else if(Q==="center")ne=0;else if(ue==="radial"||ue===!0){var he=me<0?-Te+ie:-Te;ne=he}else if(ue==="tangential"&&Q!=="outside"&&Q!=="outer"){var le=Math.atan2(me,xe);le<0&&(le=ie*2+le);var fe=xe>0;fe&&(le=ie+le),ne=le-ie}if(o=!!ne,W.x=Ce,W.y=Pe,W.rotation=ne,W.setStyle({verticalAlign:"middle"}),Oe){W.setStyle({align:De});var ve=W.states.select;ve&&(ve.x+=W.x,ve.y+=W.y)}else{var oe=W.getBoundingRect().clone();oe.applyTransform(W.getComputedTransform());var pe=(W.style.margin||0)+2.1;oe.y-=pe/2,oe.height+=pe,n.push({label:W,labelLine:q,position:Q,len:ce,len2:ye,minTurnAngle:se.get("minTurnAngle"),maxSurfaceAngle:se.get("maxSurfaceAngle"),surfaceNormal:new Point$1(me,xe),linePoints:Ae,textAlign:De,labelDistance:te,labelAlignTo:ae,edgeDistance:re,bleedMargin:de,rect:oe,unconstrainedWidth:oe.width,labelStyleWidth:W.style.width})}G.setTextConfig({inside:Oe})}}),!o&&r.get("avoidLabelOverlap")&&avoidOverlap(n,i,a,u,c,g,f,d);for(var P=0;P<n.length;P++){var R=n[P],I=R.label,$=R.labelLine,N=isNaN(I.x)||isNaN(I.y);if(I){I.setStyle({align:R.textAlign}),N&&(each$5(I.states,v),I.ignore=!0);var F=I.states.select;F&&(F.x+=I.x,F.y+=I.y)}if($){var V=R.linePoints;N||!V?(each$5($.states,v),$.ignore=!0):(limitTurnAngle(V,R.minTurnAngle),limitSurfaceAngle(V,R.surfaceNormal,R.maxSurfaceAngle),$.setShape({points:V}),I.__hostTarget.textGuideLineConfig={anchor:new Point$1(V[0][0],V[0][1])})}}}var PiePiece=function(r){__extends(t,r);function t(n,i,a){var o=r.call(this)||this;o.z2=2;var s=new ZRText$1;return o.setTextContent(s),o.updateData(n,i,a,!0),o}return t.prototype.updateData=function(n,i,a,o){var s=this,l=n.hostModel,u=n.getItemModel(i),c=u.getModel("emphasis"),f=n.getItemLayout(i),d=extend(getSectorCornerRadius(u.getModel("itemStyle"),f,!0),f);if(isNaN(d.startAngle)){s.setShape(d);return}if(o){s.setShape(d);var g=l.getShallow("animationType");l.ecModel.ssr?(initProps(s,{scaleX:0,scaleY:0},l,{dataIndex:i,isFrom:!0}),s.originX=d.cx,s.originY=d.cy):g==="scale"?(s.shape.r=f.r0,initProps(s,{shape:{r:f.r}},l,i)):a!=null?(s.setShape({startAngle:a,endAngle:a}),initProps(s,{shape:{startAngle:f.startAngle,endAngle:f.endAngle}},l,i)):(s.shape.endAngle=f.startAngle,updateProps$1(s,{shape:{endAngle:f.endAngle}},l,i))}else saveOldStyle(s),updateProps$1(s,{shape:d},l,i);s.useStyle(n.getItemVisual(i,"style")),setStatesStylesFromModel(s,u);var v=(f.startAngle+f.endAngle)/2,M=l.get("selectedOffset"),P=Math.cos(v)*M,R=Math.sin(v)*M,I=u.getShallow("cursor");I&&s.attr("cursor",I),this._updateLabel(l,n,i),s.ensureState("emphasis").shape=extend({r:f.r+(c.get("scale")&&c.get("scaleSize")||0)},getSectorCornerRadius(c.getModel("itemStyle"),f)),extend(s.ensureState("select"),{x:P,y:R,shape:getSectorCornerRadius(u.getModel(["select","itemStyle"]),f)}),extend(s.ensureState("blur"),{shape:getSectorCornerRadius(u.getModel(["blur","itemStyle"]),f)});var $=s.getTextGuideLine(),N=s.getTextContent();$&&extend($.ensureState("select"),{x:P,y:R}),extend(N.ensureState("select"),{x:P,y:R}),toggleHoverEmphasis(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(n,i,a){var o=this,s=i.getItemModel(a),l=s.getModel("labelLine"),u=i.getItemVisual(a,"style"),c=u&&u.fill,f=u&&u.opacity;setLabelStyle(o,getLabelStatesModels(s),{labelFetcher:i.hostModel,labelDataIndex:a,inheritColor:c,defaultOpacity:f,defaultText:n.getFormattedLabel(a,"normal")||i.getName(a)});var d=o.getTextContent();o.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var g=n.get(["label","position"]);if(g!=="outside"&&g!=="outer")o.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new Polyline$1,this.setTextGuideLine(v)),setLabelLineStyle(this,getLabelLineStatesModels(s),{stroke:c,opacity:retrieve3(l.get(["lineStyle","opacity"]),f,1)})}},t}(Sector$1),PieView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,i,a,o){var s=n.getData(),l=this._data,u=this.group,c;if(!l&&s.count()>0){for(var f=s.getItemLayout(0),d=1;isNaN(f&&f.startAngle)&&d<s.count();++d)f=s.getItemLayout(d);f&&(c=f.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),s.count()===0&&n.get("showEmptyCircle")){var g=new Sector$1({shape:getBasicPieLayout(n,a)});g.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=g,u.add(g)}s.diff(l).add(function(v){var M=new PiePiece(s,v,c);s.setItemGraphicEl(v,M),u.add(M)}).update(function(v,M){var P=l.getItemGraphicEl(M);P.updateData(s,v,c),P.off("click"),u.add(P),s.setItemGraphicEl(v,P)}).remove(function(v){var M=l.getItemGraphicEl(v);removeElementWithFadeOut(M,n,v)}).execute(),pieLabelLayout(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(n,i){var a=i.getData(),o=a.getItemLayout(0);if(o){var s=n[0]-o.cx,l=n[1]-o.cy,u=Math.sqrt(s*s+l*l);return u<=o.r&&u>=o.r0}},t.type="pie",t}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(r,t,n){t=isArray(t)&&{coordDimensions:t}||extend({encodeDefine:r.getEncode()},t);var i=r.getSource(),a=prepareSeriesDataSchema(i,t).dimensions,o=new SeriesData$1(a,r);return o.initData(i,n),o}var LegendVisualProvider=function(){function r(t,n){this._getDataWithEncodedVisual=t,this._getRawData=n}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var n=this._getRawData();return n.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var n=this._getDataWithEncodedVisual();return n.indexOfName(t)},r.prototype.getItemVisual=function(t,n){var i=this._getDataWithEncodedVisual();return i.getItemVisual(t,n)},r}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(n){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},t.prototype.getDataParams=function(n){var i=this.getData(),a=innerData(i),o=a.seats;if(!o){var s=[];i.each(i.mapDimension("value"),function(u){s.push(u)}),o=a.seats=getPercentSeats(s,i.hostModel.get("percentPrecision"))}var l=r.prototype.getDataParams.call(this,n);return l.percent=o[n]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(n){defaultEmphasis(n,"labelLine",["show"]);var i=n.labelLine,a=n.emphasis.labelLine;i.show=i.show&&n.label.show,a.show=a.show&&n.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(r){return{seriesType:r,reset:function(t,n){var i=t.getData();i.filterSelf(function(a){var o=i.mapDimension("value"),s=i.get(o,a);return!(isNumber(s)&&!isNaN(s)&&s<0)})}}}function install$a(r){r.registerChartView(PieView$1),r.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",r.registerAction),r.registerLayout(curry$1(pieLayout,"pie")),r.registerProcessor(dataFilter("pie")),r.registerProcessor(negativeDataFilter("pie"))}var GridModel=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(ComponentModel$1);const GridModel$1=GridModel;var CartesianAxisModel=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},t.type="cartesian2dAxis",t}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(r,t,n,i){each$5(AXIS_TYPES,function(a,o){var s=merge(merge({},axisDefault[o],!0),i,!0),l=function(u){__extends(c,u);function c(){var f=u!==null&&u.apply(this,arguments)||this;return f.type=t+"Axis."+o,f}return c.prototype.mergeDefaultAndTheme=function(f,d){var g=fetchLayoutMode(this),v=g?getLayoutParams(f):{},M=d.getTheme();merge(f,M.get(o+"Axis")),merge(f,this.getDefaultOption()),f.type=getAxisType(f),g&&mergeLayoutParam(f,v,g)},c.prototype.optionUpdated=function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},c.prototype.getCategories=function(f){var d=this.option;if(d.type==="category")return f?d.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=t+"Axis."+o,c.defaultOption=s,c}(n);r.registerComponentModel(l)}),r.registerSubTypeDefaulter(t+"Axis",getAxisType)}function getAxisType(r){return r.type||(r.data?"category":"value")}var Cartesian=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return map$1(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),filter(this.getAxes(),function(n){return n.scale.type===t})},r.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},r}();const Cartesian$1=Cartesian;var cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(r){return r.type==="interval"||r.type==="time"}var Cartesian2D=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=cartesian2DDimensions,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,i=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(n)||!canCalculateAffineTransform(i))){var a=n.getExtent(),o=i.getExtent(),s=this.dataToPoint([a[0],o[0]]),l=this.dataToPoint([a[1],o[1]]),u=a[1]-a[0],c=o[1]-o[0];if(!(!u||!c)){var f=(l[0]-s[0])/u,d=(l[1]-s[1])/c,g=s[0]-a[0]*f,v=s[1]-o[0]*d,M=this._transform=[f,0,0,d,g,v];this._invTransform=invert([],M)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var i=this.getAxis("x"),a=this.getAxis("y");return i.contain(i.toLocalCoord(n[0]))&&a.contain(a.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,i){var a=this.dataToPoint(n),o=this.dataToPoint(i),s=this.getArea(),l=new BoundingRect$1(a[0],a[1],o[0]-a[0],o[1]-a[1]);return s.intersect(l)},t.prototype.dataToPoint=function(n,i,a){a=a||[];var o=n[0],s=n[1];if(this._transform&&o!=null&&isFinite(o)&&s!=null&&isFinite(s))return applyTransform$1(a,n,this._transform);var l=this.getAxis("x"),u=this.getAxis("y");return a[0]=l.toGlobalCoord(l.dataToCoord(o,i)),a[1]=u.toGlobalCoord(u.dataToCoord(s,i)),a},t.prototype.clampData=function(n,i){var a=this.getAxis("x").scale,o=this.getAxis("y").scale,s=a.getExtent(),l=o.getExtent(),u=a.parse(n[0]),c=o.parse(n[1]);return i=i||[],i[0]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),i[1]=Math.min(Math.max(Math.min(l[0],l[1]),c),Math.max(l[0],l[1])),i},t.prototype.pointToData=function(n,i){var a=[];if(this._invTransform)return applyTransform$1(a,n,this._invTransform);var o=this.getAxis("x"),s=this.getAxis("y");return a[0]=o.coordToData(o.toLocalCoord(n[0]),i),a[1]=s.coordToData(s.toLocalCoord(n[1]),i),a},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(){var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1]),o=Math.min(i[0],i[1]),s=Math.max(n[0],n[1])-a,l=Math.max(i[0],i[1])-o;return new BoundingRect$1(a,o,s,l)},t}(Cartesian$1),Axis2D=function(r){__extends(t,r);function t(n,i,a,o,s){var l=r.call(this,n,i,a)||this;return l.index=0,l.type=o||"value",l.position=s||"bottom",l}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),n&&i[0]>i[1]&&i.reverse(),i},t.prototype.pointToData=function(n,i){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),i)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(Axis$1);const Axis2D$1=Axis2D;function layout(r,t,n){n=n||{};var i=r.coordinateSystem,a=t.axis,o={},s=a.getAxesOnZeroOf()[0],l=a.position,u=s?"onZero":l,c=a.dim,f=i.getRect(),d=[f.x,f.x+f.width,f.y,f.y+f.height],g={left:0,right:1,top:0,bottom:1,onZero:2},v=t.get("offset")||0,M=c==="x"?[d[2]-v,d[3]+v]:[d[0]-v,d[1]+v];if(s){var P=s.toGlobalCoord(s.dataToCoord(0));M[g.onZero]=Math.max(Math.min(P,M[1]),M[0])}o.position=[c==="y"?M[g[u]]:d[0],c==="x"?M[g[u]]:d[3]],o.rotation=Math.PI/2*(c==="x"?0:1);var R={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=R[l],o.labelOffset=s?M[g[l]]-M[g.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),retrieve(n.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var I=t.get(["axisLabel","rotate"]);return o.labelRotate=u==="top"?-I:I,o.z2=1,o}function isCartesian2DSeries(r){return r.get("coordinateSystem")==="cartesian2d"}function findAxisModels(r){var t={xAxisModel:null,yAxisModel:null};return each$5(t,function(n,i){var a=i.replace(/Model$/,""),o=r.getReferringComponents(a,SINGLE_REFERRING).models[0];t[i]=o}),t}var mathLog=Math.log;function alignScaleTicks(r,t,n){var i=IntervalScale$1.prototype,a=i.getTicks.call(n),o=i.getTicks.call(n,!0),s=a.length-1,l=i.getInterval.call(n),u=getScaleExtent(r,t),c=u.extent,f=u.fixMin,d=u.fixMax;if(r.type==="log"){var g=mathLog(r.base);c=[mathLog(c[0])/g,mathLog(c[1])/g]}r.setExtent(c[0],c[1]),r.calcNiceExtent({splitNumber:s,fixMin:f,fixMax:d});var v=i.getExtent.call(r);f&&(c[0]=v[0]),d&&(c[1]=v[1]);var M=i.getInterval.call(r),P=c[0],R=c[1];if(f&&d)M=(R-P)/s;else if(f)for(R=c[0]+M*s;R<c[1]&&isFinite(R)&&isFinite(c[1]);)M=increaseInterval(M),R=c[0]+M*s;else if(d)for(P=c[1]-M*s;P>c[0]&&isFinite(P)&&isFinite(c[0]);)M=increaseInterval(M),P=c[1]-M*s;else{var I=r.getTicks().length-1;I>s&&(M=increaseInterval(M));var $=M*s;R=Math.ceil(c[1]/M)*M,P=round$1(R-$),P<0&&c[0]>=0?(P=0,R=round$1($)):R>0&&c[1]<=0&&(R=0,P=-round$1($))}var N=(a[0].value-o[0].value)/l,F=(a[s].value-o[s].value)/l;i.setExtent.call(r,P+M*N,R+M*F),i.setInterval.call(r,M),(N||F)&&i.setNiceExtent.call(r,P+M,R-M)}var Grid=function(){function r(t,n,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(t,n,i),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,n){var i=this._axesMap;this._updateScale(t,this.model);function a(s){var l,u=keys(s),c=u.length;if(c){for(var f=[],d=c-1;d>=0;d--){var g=+u[d],v=s[g],M=v.model,P=v.scale;isIntervalOrLogScale(P)&&M.get("alignTicks")&&M.get("interval")==null?f.push(v):(niceScaleExtent(P,M),isIntervalOrLogScale(P)&&(l=v))}f.length&&(l||(l=f.pop(),niceScaleExtent(l.scale,l.model)),each$5(f,function(R){alignScaleTicks(R.scale,R.model,l.scale)}))}}a(i.x),a(i.y);var o={};each$5(i.x,function(s){fixAxisOnZero(i,"y",s,o)}),each$5(i.y,function(s){fixAxisOnZero(i,"x",s,o)}),this.resize(this.model,n)},r.prototype.resize=function(t,n,i){var a=t.getBoxLayoutParams(),o=!i&&t.get("containLabel"),s=getLayoutRect(a,{width:n.getWidth(),height:n.getHeight()});this._rect=s;var l=this._axesList;u(),o&&(each$5(l,function(c){if(!c.model.get(["axisLabel","inside"])){var f=estimateLabelUnionRect(c);if(f){var d=c.isHorizontal()?"height":"width",g=c.model.get(["axisLabel","margin"]);s[d]-=f[d]+g,c.position==="top"?s.y+=f.height+g:c.position==="left"&&(s.x+=f.width+g)}}}),u()),each$5(this._coordsList,function(c){c.calcAffineTransform()});function u(){each$5(l,function(c){var f=c.isHorizontal(),d=f?[0,s.width]:[0,s.height],g=c.inverse?1:0;c.setExtent(d[g],d[1-g]),updateAxisTransform(c,f?s.x:s.y)})}},r.prototype.getAxis=function(t,n){var i=this._axesMap[t];if(i!=null)return i[n||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var i="x"+t+"y"+n;return this._coordsMap[i]}isObject$2(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,o=this._coordsList;a<o.length;a++)if(o[a].getAxis("x").index===t||o[a].getAxis("y").index===n)return o[a]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,n,i){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.dataToPoint(i):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(i)):null},r.prototype.convertFromPixel=function(t,n,i){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.pointToData(i):a.axis?a.axis.coordToData(a.axis.toLocalCoord(i)):null},r.prototype._findConvertTarget=function(t){var n=t.seriesModel,i=t.xAxisModel||n&&n.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],a=t.yAxisModel||n&&n.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],o=t.gridModel,s=this._coordsList,l,u;if(n)l=n.coordinateSystem,indexOf(s,l)<0&&(l=null);else if(i&&a)l=this.getCartesian(i.componentIndex,a.componentIndex);else if(i)u=this.getAxis("x",i.componentIndex);else if(a)u=this.getAxis("y",a.componentIndex);else if(o){var c=o.coordinateSystem;c===this&&(l=this._coordsList[0])}return{cartesian:l,axis:u}},r.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},r.prototype._initCartesian=function(t,n,i){var a=this,o=this,s={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(n.eachComponent("xAxis",c("x"),this),n.eachComponent("yAxis",c("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=l,each$5(l.x,function(f,d){each$5(l.y,function(g,v){var M="x"+d+"y"+v,P=new Cartesian2D(M);P.master=a,P.model=t,a._coordsMap[M]=P,a._coordsList.push(P),P.addAxis(f),P.addAxis(g)})});function c(f){return function(d,g){if(isAxisUsedInTheGrid(d,t)){var v=d.get("position");f==="x"?v!=="top"&&v!=="bottom"&&(v=s.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=s.left?"right":"left"),s[v]=!0;var M=new Axis2D$1(f,createScaleByModel(d),[0,0],d.get("type"),v),P=M.type==="category";M.onBand=P&&d.get("boundaryGap"),M.inverse=d.get("inverse"),d.axis=M,M.model=d,M.grid=o,M.index=g,o._axesList.push(M),l[f][g]=M,u[f]++}}}},r.prototype._updateScale=function(t,n){each$5(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var o=a.model.get("categorySortInfo");a.scale.setSortInfo(o)}}),t.eachSeries(function(a){if(isCartesian2DSeries(a)){var o=findAxisModels(a),s=o.xAxisModel,l=o.yAxisModel;if(!isAxisUsedInTheGrid(s,n)||!isAxisUsedInTheGrid(l,n))return;var u=this.getCartesian(s.componentIndex,l.componentIndex),c=a.getData(),f=u.getAxis("x"),d=u.getAxis("y");i(c,f),i(c,d)}},this);function i(a,o){each$5(getDataDimensionsOnAxis(a,o.dim),function(s){o.scale.unionExtentFromData(a,s)})}},r.prototype.getTooltipAxes=function(t){var n=[],i=[];return each$5(this.getCartesians(),function(a){var o=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),s=a.getOtherAxis(o);indexOf(n,o)<0&&n.push(o),indexOf(i,s)<0&&i.push(s)}),{baseAxes:n,otherAxes:i}},r.create=function(t,n){var i=[];return t.eachComponent("grid",function(a,o){var s=new r(a,t,n);s.name="grid_"+o,s.resize(a,n,!0),a.coordinateSystem=s,i.push(s)}),t.eachSeries(function(a){if(isCartesian2DSeries(a)){var o=findAxisModels(a),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel(),c=u.coordinateSystem;a.coordinateSystem=c.getCartesian(s.componentIndex,l.componentIndex)}}),i},r.dimensions=cartesian2DDimensions,r}();function isAxisUsedInTheGrid(r,t){return r.getCoordSysModel()===t}function fixAxisOnZero(r,t,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var a=r[t],o,s=n.model,l=s.get(["axisLine","onZero"]),u=s.get(["axisLine","onZeroAxisIndex"]);if(!l)return;if(u!=null)canOnZeroToAxis(a[u])&&(o=a[u]);else for(var c in a)if(a.hasOwnProperty(c)&&canOnZeroToAxis(a[c])&&!i[f(a[c])]){o=a[c];break}o&&(i[f(o)]=!0);function f(d){return d.dim+"_"+d.index}}function canOnZeroToAxis(r){return r&&r.type!=="category"&&r.type!=="time"&&ifAxisCrossZero(r)}function updateAxisTransform(r,t){var n=r.getExtent(),i=n[0]+n[1];r.toGlobalCoord=r.dim==="x"?function(a){return a+t}:function(a){return i-a+t},r.toLocalCoord=r.dim==="x"?function(a){return a-t}:function(a){return i-a+t}}const Grid$1=Grid;var PI=Math.PI,AxisBuilder=function(){function r(t,n){this.group=new Group$3,this.opt=n,this.axisModel=t,defaults(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Group$3({x:n.position[0],y:n.position[1],rotation:n.rotation});i.updateTransform(),this._transformGroup=i}return r.prototype.hasBuilder=function(t){return!!builders[t]},r.prototype.add=function(t){builders[t](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(t,n,i){var a=remRadian(n-t),o,s;return isRadianAroundZero(a)?(s=i>0?"top":"bottom",o="center"):isRadianAroundZero(a-PI)?(s=i>0?"bottom":"top",o="center"):(s="middle",a>0&&a<PI?o=i>0?"right":"left":o=i>0?"left":"right"),{rotation:a,textAlign:o,textVerticalAlign:s}},r.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},r.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},r}(),builders={axisLine:function(r,t,n,i){var a=t.get(["axisLine","show"]);if(a==="auto"&&r.handleAutoShown&&(a=r.handleAutoShown("axisLine")),!!a){var o=t.axis.getExtent(),s=i.transform,l=[o[0],0],u=[o[1],0],c=l[0]>u[0];s&&(applyTransform$1(l,l,s),applyTransform$1(u,u,s));var f=extend({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new Line$1({shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:f,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(d.shape,d.style.lineWidth),d.anid="line",n.add(d);var g=t.get(["axisLine","symbol"]);if(g!=null){var v=t.get(["axisLine","symbolSize"]);isString(g)&&(g=[g,g]),(isString(v)||isNumber(v))&&(v=[v,v]);var M=normalizeSymbolOffset(t.get(["axisLine","symbolOffset"])||0,v),P=v[0],R=v[1];each$5([{rotate:r.rotation+Math.PI/2,offset:M[0],r:0},{rotate:r.rotation-Math.PI/2,offset:M[1],r:Math.sqrt((l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]))}],function(I,$){if(g[$]!=="none"&&g[$]!=null){var N=createSymbol(g[$],-P/2,-R/2,P,R,f.stroke,!0),F=I.r+I.offset,V=c?u:l;N.attr({rotation:I.rotate,x:V[0]+F*Math.cos(r.rotation),y:V[1]-F*Math.sin(r.rotation),silent:!0,z2:11}),n.add(N)}})}}},axisTickLabel:function(r,t,n,i){var a=buildAxisMajorTicks(n,i,t,r),o=buildAxisLabel(n,i,t,r);if(fixMinMaxLabelShow(t,o,a),buildAxisMinorTicks(n,i,t,r.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=prepareLayoutList(map$1(o,function(l){return{label:l,priority:l.z2,defaultAttr:{ignore:l.ignore}}}));hideOverlap(s)}},axisName:function(r,t,n,i){var a=retrieve(r.axisName,t.get("name"));if(a){var o=t.get("nameLocation"),s=r.nameDirection,l=t.getModel("nameTextStyle"),u=t.get("nameGap")||0,c=t.axis.getExtent(),f=c[0]>c[1]?-1:1,d=[o==="start"?c[0]-f*u:o==="end"?c[1]+f*u:(c[0]+c[1])/2,isNameLocationCenter(o)?r.labelOffset+s*u:0],g,v=t.get("nameRotate");v!=null&&(v=v*PI/180);var M;isNameLocationCenter(o)?g=AxisBuilder.innerTextLayout(r.rotation,v??r.rotation,s):(g=endTextLayout(r.rotation,o,v||0,c),M=r.axisNameAvailableWidth,M!=null&&(M=Math.abs(M/Math.sin(g.rotation)),!isFinite(M)&&(M=null)));var P=l.getFont(),R=t.get("nameTruncate",!0)||{},I=R.ellipsis,$=retrieve(r.nameTruncateMaxWidth,R.maxWidth,M),N=new ZRText$1({x:d[0],y:d[1],rotation:g.rotation,silent:AxisBuilder.isLabelSilent(t),style:createTextStyle(l,{text:a,font:P,overflow:"truncate",width:$,ellipsis:I,fill:l.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:l.get("align")||g.textAlign,verticalAlign:l.get("verticalAlign")||g.textVerticalAlign}),z2:1});if(setTooltipConfig({el:N,componentModel:t,itemName:a}),N.__fullText=a,N.anid="name",t.get("triggerEvent")){var F=AxisBuilder.makeAxisEventDataBase(t);F.targetType="axisName",F.name=a,getECData(N).eventData=F}i.add(N),N.updateTransform(),n.add(N),N.decomposeTransform()}}};function endTextLayout(r,t,n,i){var a=remRadian(n-r),o,s,l=i[0]>i[1],u=t==="start"&&!l||t!=="start"&&l;return isRadianAroundZero(a-PI/2)?(s=u?"bottom":"top",o="center"):isRadianAroundZero(a-PI*1.5)?(s=u?"top":"bottom",o="center"):(s="middle",a<PI*1.5&&a>PI/2?o=u?"left":"right":o=u?"right":"left"),{rotation:a,textAlign:o,textVerticalAlign:s}}function fixMinMaxLabelShow(r,t,n){if(!shouldShowAllLabels(r.axis)){var i=r.get(["axisLabel","showMinLabel"]),a=r.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var o=t[0],s=t[1],l=t[t.length-1],u=t[t.length-2],c=n[0],f=n[1],d=n[n.length-1],g=n[n.length-2];i===!1?(ignoreEl(o),ignoreEl(c)):isTwoLabelOverlapped(o,s)&&(i?(ignoreEl(s),ignoreEl(f)):(ignoreEl(o),ignoreEl(c))),a===!1?(ignoreEl(l),ignoreEl(d)):isTwoLabelOverlapped(u,l)&&(a?(ignoreEl(u),ignoreEl(g)):(ignoreEl(l),ignoreEl(d)))}}function ignoreEl(r){r&&(r.ignore=!0)}function isTwoLabelOverlapped(r,t){var n=r&&r.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(!(!n||!i)){var a=identity([]);return rotate(a,a,-r.rotation),n.applyTransform(mul([],a,r.getLocalTransform())),i.applyTransform(mul([],a,t.getLocalTransform())),n.intersect(i)}}function isNameLocationCenter(r){return r==="middle"||r==="center"}function createTicks(r,t,n,i,a){for(var o=[],s=[],l=[],u=0;u<r.length;u++){var c=r[u].coord;s[0]=c,s[1]=0,l[0]=c,l[1]=n,t&&(applyTransform$1(s,s,t),applyTransform$1(l,l,t));var f=new Line$1({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:i,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(f.shape,f.style.lineWidth),f.anid=a+"_"+r[u].tickValue,o.push(f)}return o}function buildAxisMajorTicks(r,t,n,i){var a=n.axis,o=n.getModel("axisTick"),s=o.get("show");if(s==="auto"&&i.handleAutoShown&&(s=i.handleAutoShown("axisTick")),!(!s||a.scale.isBlank())){for(var l=o.getModel("lineStyle"),u=i.tickDirection*o.get("length"),c=a.getTicksCoords(),f=createTicks(c,t.transform,u,defaults(l.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<f.length;d++)r.add(f[d]);return f}}function buildAxisMinorTicks(r,t,n,i){var a=n.axis,o=n.getModel("minorTick");if(!(!o.get("show")||a.scale.isBlank())){var s=a.getMinorTicksCoords();if(s.length)for(var l=o.getModel("lineStyle"),u=i*o.get("length"),c=defaults(l.getLineStyle(),defaults(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<s.length;f++)for(var d=createTicks(s[f],t.transform,u,c,"minorticks_"+f),g=0;g<d.length;g++)r.add(d[g])}}function buildAxisLabel(r,t,n,i){var a=n.axis,o=retrieve(i.axisLabelShow,n.get(["axisLabel","show"]));if(!(!o||a.scale.isBlank())){var s=n.getModel("axisLabel"),l=s.get("margin"),u=a.getViewLabels(),c=(retrieve(i.labelRotate,s.get("rotate"))||0)*PI/180,f=AxisBuilder.innerTextLayout(i.rotation,c,i.labelDirection),d=n.getCategories&&n.getCategories(!0),g=[],v=AxisBuilder.isLabelSilent(n),M=n.get("triggerEvent");return each$5(u,function(P,R){var I=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(P.tickValue):P.tickValue,$=P.formattedLabel,N=P.rawLabel,F=s;if(d&&d[I]){var V=d[I];isObject$2(V)&&V.textStyle&&(F=new Model$1(V.textStyle,s,n.ecModel))}var H=F.getTextColor()||n.get(["axisLine","lineStyle","color"]),G=a.dataToCoord(I),Y=new ZRText$1({x:G,y:i.labelOffset+i.labelDirection*l,rotation:f.rotation,silent:v,z2:10+(P.level||0),style:createTextStyle(F,{text:$,align:F.getShallow("align",!0)||f.textAlign,verticalAlign:F.getShallow("verticalAlign",!0)||F.getShallow("baseline",!0)||f.textVerticalAlign,fill:isFunction(H)?H(a.type==="category"?N:a.type==="value"?I+"":I,R):H})});if(Y.anid="label_"+I,M){var W=AxisBuilder.makeAxisEventDataBase(n);W.targetType="axisLabel",W.value=N,W.tickIndex=R,a.type==="category"&&(W.dataIndex=I),getECData(Y).eventData=W}t.add(Y),Y.updateTransform(),g.push(Y),r.add(Y),Y.decomposeTransform()}),g}}const AxisBuilder$1=AxisBuilder;function collect(r,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(n,r,t),n.seriesInvolved&&collectSeriesInfo(n,r),n}function collectAxesInfo(r,t,n){var i=t.getComponent("tooltip"),a=t.getComponent("axisPointer"),o=a.get("link",!0)||[],s=[];each$5(n.getCoordinateSystems(),function(l){if(!l.axisPointerEnabled)return;var u=makeKey(l.model),c=r.coordSysAxesInfo[u]={};r.coordSysMap[u]=l;var f=l.model,d=f.getModel("tooltip",i);if(each$5(l.getAxes(),curry$1(P,!1,null)),l.getTooltipAxes&&i&&d.get("show")){var g=d.get("trigger")==="axis",v=d.get(["axisPointer","type"])==="cross",M=l.getTooltipAxes(d.get(["axisPointer","axis"]));(g||v)&&each$5(M.baseAxes,curry$1(P,v?"cross":!0,g)),v&&each$5(M.otherAxes,curry$1(P,"cross",!1))}function P(R,I,$){var N=$.model.getModel("axisPointer",a),F=N.get("show");if(!(!F||F==="auto"&&!R&&!isHandleTrigger(N))){I==null&&(I=N.get("triggerTooltip")),N=R?makeAxisPointerModel($,d,a,t,R,I):N;var V=N.get("snap"),H=N.get("triggerEmphasis"),G=makeKey($.model),Y=I||V||$.type==="category",W=r.axesInfo[G]={key:G,axis:$,coordSys:l,axisPointerModel:N,triggerTooltip:I,triggerEmphasis:H,involveSeries:Y,snap:V,useHandle:isHandleTrigger(N),seriesModels:[],linkGroup:null};c[G]=W,r.seriesInvolved=r.seriesInvolved||Y;var q=getLinkGroupIndex(o,$);if(q!=null){var X=s[q]||(s[q]={axesInfo:{}});X.axesInfo[G]=W,X.mapper=o[q].mapper,W.linkGroup=X}}}})}function makeAxisPointerModel(r,t,n,i,a,o){var s=t.getModel("axisPointer"),l=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};each$5(l,function(g){u[g]=clone$2(s.get(g))}),u.snap=r.type!=="category"&&!!o,s.get("type")==="cross"&&(u.type="line");var c=u.label||(u.label={});if(c.show==null&&(c.show=!1),a==="cross"){var f=s.get(["label","show"]);if(c.show=f??!0,!o){var d=u.lineStyle=s.get("crossStyle");d&&defaults(c,d.textStyle)}}return r.model.getModel("axisPointer",new Model$1(u,n,i))}function collectSeriesInfo(r,t){t.eachSeries(function(n){var i=n.coordinateSystem,a=n.get(["tooltip","trigger"],!0),o=n.get(["tooltip","show"],!0);!i||a==="none"||a===!1||a==="item"||o===!1||n.get(["axisPointer","show"],!0)===!1||each$5(r.coordSysAxesInfo[makeKey(i.model)],function(s){var l=s.axis;i.getAxis(l.dim)===l&&(s.seriesModels.push(n),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=n.getData().count())})})}function getLinkGroupIndex(r,t){for(var n=t.model,i=t.dim,a=0;a<r.length;a++){var o=r[a]||{};if(checkPropInLink(o[i+"AxisId"],n.id)||checkPropInLink(o[i+"AxisIndex"],n.componentIndex)||checkPropInLink(o[i+"AxisName"],n.name))return a}}function checkPropInLink(r,t){return r==="all"||isArray(r)&&indexOf(r,t)>=0||r===t}function fixValue(r){var t=getAxisInfo(r);if(t){var n=t.axisPointerModel,i=t.axis.scale,a=n.option,o=n.get("status"),s=n.get("value");s!=null&&(s=i.parse(s));var l=isHandleTrigger(n);o==null&&(a.status=l?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(s==null||s>u[1])&&(s=u[1]),s<u[0]&&(s=u[0]),a.value=s,l&&(a.status=t.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[makeKey(r)]}function getAxisPointerModel(r){var t=getAxisInfo(r);return t&&t.axisPointerModel}function isHandleTrigger(r){return!!r.get(["handle","show"])}function makeKey(r){return r.type+"||"+r.id}var axisPointerClazz={},AxisView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,i,a,o){this.axisPointerClass&&fixValue(n),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,a,!0)},t.prototype.updateAxisPointer=function(n,i,a,o){this._doUpdateAxisPointerClass(n,a,!1)},t.prototype.remove=function(n,i){var a=this._axisPointer;a&&a.remove(i)},t.prototype.dispose=function(n,i){this._disposeAxisPointer(i),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,i,a){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var s=getAxisPointerModel(n);s?(this._axisPointer||(this._axisPointer=new o)).render(n,s,i,a):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,i){axisPointerClazz[n]=i},t.getAxisPointerClass=function(n){return n&&axisPointerClazz[n]},t.type="axis",t}(ComponentView$1);const AxisView$1=AxisView;var inner$4=makeInner();function rectCoordAxisBuildSplitArea(r,t,n,i){var a=n.axis;if(!a.scale.isBlank()){var o=n.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=i.coordinateSystem.getRect(),c=a.getTicksCoords({tickModel:o,clamp:!0});if(c.length){var f=l.length,d=inner$4(r).splitAreaColors,g=createHashMap(),v=0;if(d)for(var M=0;M<c.length;M++){var P=d.get(c[M].tickValue);if(P!=null){v=(P+(f-1)*M)%f;break}}var R=a.toGlobalCoord(c[0].coord),I=s.getAreaStyle();l=isArray(l)?l:[l];for(var M=1;M<c.length;M++){var $=a.toGlobalCoord(c[M].coord),N=void 0,F=void 0,V=void 0,H=void 0;a.isHorizontal()?(N=R,F=u.y,V=$-N,H=u.height,R=N+V):(N=u.x,F=R,V=u.width,H=$-F,R=F+H);var G=c[M-1].tickValue;G!=null&&g.set(G,v),t.add(new Rect$2({anid:G!=null?"area_"+G:null,shape:{x:N,y:F,width:V,height:H},style:defaults({fill:l[v]},I),autoBatch:!0,silent:!0})),v=(v+1)%f}inner$4(r).splitAreaColors=g}}}function rectCoordAxisHandleRemove(r){inner$4(r).splitAreaColors=null}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,i,a,o){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!n.get("show")){var l=n.getCoordSysModel(),u=layout(l,n),c=new AxisBuilder$1(n,extend({handleAutoShown:function(d){for(var g=l.coordinateSystem.getCartesians(),v=0;v<g.length;v++)if(isIntervalOrLogScale(g[v].getOtherAxis(n.axis).scale))return!0;return!1}},u));each$5(axisBuilderAttrs,c.add,c),this._axisGroup.add(c.getGroup()),each$5(selfBuilderAttrs,function(d){n.get([d,"show"])&&axisElementBuilders[d](this,this._axisGroup,n,l)},this);var f=o&&o.type==="changeAxisOrder"&&o.isInitSort;f||groupTransition(s,this._axisGroup,n),r.prototype.render.call(this,n,i,a,o)}},t.prototype.remove=function(){rectCoordAxisHandleRemove(this)},t.type="cartesianAxis",t}(AxisView$1),axisElementBuilders={splitLine:function(r,t,n,i){var a=n.axis;if(!a.scale.isBlank()){var o=n.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=isArray(l)?l:[l];for(var u=i.coordinateSystem.getRect(),c=a.isHorizontal(),f=0,d=a.getTicksCoords({tickModel:o}),g=[],v=[],M=s.getLineStyle(),P=0;P<d.length;P++){var R=a.toGlobalCoord(d[P].coord);c?(g[0]=R,g[1]=u.y,v[0]=R,v[1]=u.y+u.height):(g[0]=u.x,g[1]=R,v[0]=u.x+u.width,v[1]=R);var I=f++%l.length,$=d[P].tickValue,N=new Line$1({anid:$!=null?"line_"+d[P].tickValue:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:v[0],y2:v[1]},style:defaults({stroke:l[I]},M),silent:!0});subPixelOptimizeLine(N.shape,M.lineWidth),t.add(N)}}},minorSplitLine:function(r,t,n,i){var a=n.axis,o=n.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=i.coordinateSystem.getRect(),u=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var f=[],d=[],g=s.getLineStyle(),v=0;v<c.length;v++)for(var M=0;M<c[v].length;M++){var P=a.toGlobalCoord(c[v][M].coord);u?(f[0]=P,f[1]=l.y,d[0]=P,d[1]=l.y+l.height):(f[0]=l.x,f[1]=P,d[0]=l.x+l.width,d[1]=P);var R=new Line$1({anid:"minor_line_"+c[v][M].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:g,silent:!0});subPixelOptimizeLine(R.shape,g.lineWidth),t.add(R)}},splitArea:function(r,t,n,i){rectCoordAxisBuildSplitArea(r,t,n,i)}},CartesianXAxisView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(CartesianAxisView),CartesianYAxisView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=CartesianXAxisView.type,n}return t.type="yAxis",t}(CartesianAxisView),GridView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,i){this.group.removeAll(),n.get("show")&&this.group.add(new Rect$2({shape:n.coordinateSystem.getRect(),style:defaults({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(ComponentView$1),extraOption={offset:0};function install$9(r){r.registerComponentView(GridView),r.registerComponentModel(GridModel$1),r.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator(r,"x",CartesianAxisModel,extraOption),axisModelCreator(r,"y",CartesianAxisModel,extraOption),r.registerComponentView(CartesianXAxisView),r.registerComponentView(CartesianYAxisView),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var ATTR="\0_ec_interaction_mutex";function isTaken(r,t){return!!getStore(r)[t]}function getStore(r){return r[ATTR]||(r[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(r){__extends(t,r);function t(n){var i=r.call(this)||this;i._zr=n;var a=bind$1(i._mousedownHandler,i),o=bind$1(i._mousemoveHandler,i),s=bind$1(i._mouseupHandler,i),l=bind$1(i._mousewheelHandler,i),u=bind$1(i._pinchHandler,i);return i.enable=function(c,f){this.disable(),this._opt=defaults(clone$2(f)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),c==null&&(c=!0),(c===!0||c==="move"||c==="pan")&&(n.on("mousedown",a),n.on("mousemove",o),n.on("mouseup",s)),(c===!0||c==="scale"||c==="zoom")&&(n.on("mousewheel",l),n.on("pinch",u))},i.disable=function(){n.off("mousedown",a),n.off("mousemove",o),n.off("mouseup",s),n.off("mousewheel",l),n.off("pinch",u)},i}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(n){this.pointerChecker=n},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(n){if(!isMiddleOrRightButtonOnMouseUpDown(n)){for(var i=n.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var a=n.offsetX,o=n.offsetY;this.pointerChecker&&this.pointerChecker(n,a,o)&&(this._x=a,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var i=n.offsetX,a=n.offsetY,o=this._x,s=this._y,l=i-o,u=a-s;this._x=i,this._y=a,this._opt.preventDefaultMouseMove&&stop(n.event),trigger(this,"pan","moveOnMouseMove",n,{dx:l,dy:u,oldX:o,oldY:s,newX:i,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(n){isMiddleOrRightButtonOnMouseUpDown(n)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(n){var i=isAvailableBehavior("zoomOnMouseWheel",n,this._opt),a=isAvailableBehavior("moveOnMouseWheel",n,this._opt),o=n.wheelDelta,s=Math.abs(o),l=n.offsetX,u=n.offsetY;if(!(o===0||!i&&!a)){if(i){var c=s>3?1.4:s>1?1.2:1.1,f=o>0?c:1/c;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",n,{scale:f,originX:l,originY:u,isAvailableBehavior:null})}if(a){var d=Math.abs(o),g=(o>0?1:-1)*(d>3?.4:d>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:g,originX:l,originY:u,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(n){if(!isTaken(this._zr,"globalPan")){var i=n.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,n,{scale:i,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},t}(Eventful$1);function checkPointerAndTrigger(r,t,n,i,a){r.pointerChecker&&r.pointerChecker(i,a.originX,a.originY)&&(stop(i.event),trigger(r,t,n,i,a))}function trigger(r,t,n,i,a){a.isAvailableBehavior=bind$1(isAvailableBehavior,null,n,i),r.trigger(t,a)}function isAvailableBehavior(r,t,n){var i=n[r];return!r||i&&(!isString(i)||t.event[i+"Key"])}const RoamController$1=RoamController;function sliderMove(r,t,n,i,a,o){r=r||0;var s=n[1]-n[0];if(a!=null&&(a=restrict(a,[0,s])),o!=null&&(o=Math.max(o,a??0)),i==="all"){var l=Math.abs(t[1]-t[0]);l=restrict(l,[0,s]),a=o=restrict(l,[a,o]),i=0}t[0]=restrict(t[0],n),t[1]=restrict(t[1],n);var u=getSpanSign(t,i);t[i]+=r;var c=a||0,f=n.slice();u.sign<0?f[0]+=c:f[1]-=c,t[i]=restrict(t[i],f);var d;return d=getSpanSign(t,i),a!=null&&(d.sign!==u.sign||d.span<a)&&(t[1-i]=t[i]+u.sign*a),d=getSpanSign(t,i),o!=null&&d.span>o&&(t[1-i]=t[i]+d.sign*o),t}function getSpanSign(r,t){var n=r[t]-r[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function restrict(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var inner$3=makeInner(),clone=clone$2,bind=bind$1,BaseAxisPointer=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,n,i,a){var o=n.get("value"),s=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=i,!(!a&&this._lastValue===o&&this._lastStatus===s)){this._lastValue=o,this._lastStatus=s;var l=this._group,u=this._handle;if(!s||s==="hide"){l&&l.hide(),u&&u.hide();return}l&&l.show(),u&&u.show();var c={};this.makeElOption(c,o,t,n,i);var f=c.graphicKey;f!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=f;var d=this._moveAnimation=this.determineAnimation(t,n);if(!l)l=this._group=new Group$3,this.createPointerEl(l,c,t,n),this.createLabelEl(l,c,t,n),i.getZr().add(l);else{var g=curry$1(updateProps,n,d);this.updatePointerEl(l,c,g),this.updateLabelEl(l,c,g,n)}updateMandatoryProps(l,n,!0),this._renderHandle(o)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,n){var i=n.get("animation"),a=t.axis,o=a.type==="category",s=n.get("snap");if(!s&&!o)return!1;if(i==="auto"||i==null){var l=this.animationThreshold;if(o&&a.getBandWidth()>l)return!0;if(s){var u=getAxisInfo(t).seriesDataCount,c=a.getExtent();return Math.abs(c[0]-c[1])/u>l}return!1}return i===!0},r.prototype.makeElOption=function(t,n,i,a,o){},r.prototype.createPointerEl=function(t,n,i,a){var o=n.pointer;if(o){var s=inner$3(t).pointerEl=new graphic[o.type](clone(n.pointer));t.add(s)}},r.prototype.createLabelEl=function(t,n,i,a){if(n.label){var o=inner$3(t).labelEl=new ZRText$1(clone(n.label));t.add(o),updateLabelShowHide(o,a)}},r.prototype.updatePointerEl=function(t,n,i){var a=inner$3(t).pointerEl;a&&n.pointer&&(a.setStyle(n.pointer.style),i(a,{shape:n.pointer.shape}))},r.prototype.updateLabelEl=function(t,n,i,a){var o=inner$3(t).labelEl;o&&(o.setStyle(n.label.style),i(o,{x:n.label.x,y:n.label.y}),updateLabelShowHide(o,a))},r.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,i=this._api.getZr(),a=this._handle,o=n.getModel("handle"),s=n.get("status");if(!o.get("show")||!s||s==="hide"){a&&i.remove(a),this._handle=null;return}var l;this._handle||(l=!0,a=this._handle=createIcon(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){stop(c.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),i.add(a)),updateMandatoryProps(a,n,!1),a.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=o.get("size");isArray(u)||(u=[u,u]),a.scaleX=u[0]/2,a.scaleY=u[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,l)}},r.prototype._moveHandleToValue=function(t,n){updateProps(this._axisPointerModel,!n&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,n){var i=this._handle;if(i){this._dragging=!0;var a=this.updateHandleTransform(getHandleTransProps(i),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=a,i.stopAnimation(),i.attr(getHandleTransProps(a)),inner$3(i).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),i=this._group,a=this._handle;n&&i&&(this._lastGraphicKey=null,i&&n.remove(i),a&&n.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),clear(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,n,i){return i=i||0,{x:t[i],y:t[1-i],width:n[i],height:n[1-i]}},r}();function updateProps(r,t,n,i){propsEqual(inner$3(n).lastProp,i)||(inner$3(n).lastProp=i,t?updateProps$1(n,i,r):(n.stopAnimation(),n.attr(i)))}function propsEqual(r,t){if(isObject$2(r)&&isObject$2(t)){var n=!0;return each$5(t,function(i,a){n=n&&propsEqual(r[a],i)}),!!n}else return r===t}function updateLabelShowHide(r,t){r[t.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function updateMandatoryProps(r,t,n){var i=t.get("z"),a=t.get("zlevel");r&&r.traverse(function(o){o.type!=="group"&&(i!=null&&(o.z=i),a!=null&&(o.zlevel=a),o.silent=n)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(r){var t=r.get("type"),n=r.getModel(t+"Style"),i;return t==="line"?(i=n.getLineStyle(),i.fill=null):t==="shadow"&&(i=n.getAreaStyle(),i.stroke=null),i}function buildLabelElOption(r,t,n,i,a){var o=n.get("value"),s=getValueLabel(o,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),l=n.getModel("label"),u=normalizeCssArray(l.get("padding")||0),c=l.getFont(),f=getBoundingRect(s,c),d=a.position,g=f.width+u[1]+u[3],v=f.height+u[0]+u[2],M=a.align;M==="right"&&(d[0]-=g),M==="center"&&(d[0]-=g/2);var P=a.verticalAlign;P==="bottom"&&(d[1]-=v),P==="middle"&&(d[1]-=v/2),confineInContainer(d,g,v,i);var R=l.get("backgroundColor");(!R||R==="auto")&&(R=t.get(["axisLine","lineStyle","color"])),r.label={x:d[0],y:d[1],style:createTextStyle(l,{text:s,font:c,fill:l.getTextColor(),padding:u,backgroundColor:R}),z2:10}}function confineInContainer(r,t,n,i){var a=i.getWidth(),o=i.getHeight();r[0]=Math.min(r[0]+t,a)-t,r[1]=Math.min(r[1]+n,o)-n,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function getValueLabel(r,t,n,i,a){r=t.scale.parse(r);var o=t.scale.getLabel({value:r},{precision:a.precision}),s=a.formatter;if(s){var l={value:getAxisRawValue(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};each$5(i,function(u){var c=n.getSeriesByIndex(u.seriesIndex),f=u.dataIndexInside,d=c&&c.getDataParams(f);d&&l.seriesData.push(d)}),isString(s)?o=s.replace("{value}",o):isFunction(s)&&(o=s(l))}return o}function getTransformedPosition(r,t,n){var i=create();return rotate(i,i,n.rotation),translate(i,i,n.position),applyTransform([r.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function buildCartesianSingleLabelElOption(r,t,n,i,a,o){var s=AxisBuilder$1.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=a.get(["label","margin"]),buildLabelElOption(t,i,a,o,{position:getTransformedPosition(i.axis,r,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function makeLineShape(r,t,n){return n=n||0,{x1:r[n],y1:r[1-n],x2:t[n],y2:t[1-n]}}function makeRectShape(r,t,n){return n=n||0,{x:r[n],y:r[1-n],width:t[n],height:t[1-n]}}var CartesianAxisPointer=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,i,a,o,s){var l=a.axis,u=l.grid,c=o.get("type"),f=getCartesian(u,l).getOtherAxis(l).getGlobalExtent(),d=l.toGlobalCoord(l.dataToCoord(i,!0));if(c&&c!=="none"){var g=buildElStyle(o),v=pointerShapeBuilder[c](l,d,f);v.style=g,n.graphicKey=v.type,n.pointer=v}var M=layout(u.model,a);buildCartesianSingleLabelElOption(i,n,M,a,o,s)},t.prototype.getHandleTransform=function(n,i,a){var o=layout(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=a.get(["handle","margin"]);var s=getTransformedPosition(i.axis,n,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,i,a,o){var s=a.axis,l=s.grid,u=s.getGlobalExtent(!0),c=getCartesian(l,s).getOtherAxis(s).getGlobalExtent(),f=s.dim==="x"?0:1,d=[n.x,n.y];d[f]+=i[f],d[f]=Math.min(u[1],d[f]),d[f]=Math.max(u[0],d[f]);var g=(c[1]+c[0])/2,v=[g,g];v[f]=d[f];var M=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:n.rotation,cursorPoint:v,tooltipOption:M[f]}},t}(BaseAxisPointer$1);function getCartesian(r,t){var n={};return n[t.dim+"AxisIndex"]=t.index,r.getCartesian(n)}var pointerShapeBuilder={line:function(r,t,n){var i=makeLineShape([t,n[0]],[t,n[1]],getAxisDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(r,t,n){var i=Math.max(1,r.getBandWidth()),a=n[1]-n[0];return{type:"Rect",shape:makeRectShape([t-i/2,n[0]],[i,a],getAxisDimIndex(r))}}};function getAxisDimIndex(r){return r.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$2=makeInner(),each$2=each$5;function register(r,t,n){if(!env$1.node){var i=t.getZr();inner$2(i).records||(inner$2(i).records={}),initGlobalListeners(i,t);var a=inner$2(i).records[r]||(inner$2(i).records[r]={});a.handler=n}}function initGlobalListeners(r,t){if(inner$2(r).initialized)return;inner$2(r).initialized=!0,n("click",curry$1(doEnter,"click")),n("mousemove",curry$1(doEnter,"mousemove")),n("globalout",onLeave);function n(i,a){r.on(i,function(o){var s=makeDispatchAction$1(t);each$2(inner$2(r).records,function(l){l&&a(l,o,s.dispatchAction)}),dispatchTooltipFinally(s.pendings,t)})}}function dispatchTooltipFinally(r,t){var n=r.showTip.length,i=r.hideTip.length,a;n?a=r.showTip[n-1]:i&&(a=r.hideTip[i-1]),a&&(a.dispatchAction=null,t.dispatchAction(a))}function onLeave(r,t,n){r.handler("leave",null,n)}function doEnter(r,t,n,i){t.handler(r,n,i)}function makeDispatchAction$1(r){var t={showTip:[],hideTip:[]},n=function(i){var a=t[i.type];a?a.push(i):(i.dispatchAction=n,r.dispatchAction(i))};return{dispatchAction:n,pendings:t}}function unregister(r,t){if(!env$1.node){var n=t.getZr(),i=(inner$2(n).records||{})[r];i&&(inner$2(n).records[r]=null)}}var AxisPointerView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,i,a){var o=i.getComponent("tooltip"),s=n.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";register("axisPointer",a,function(l,u,c){s!=="none"&&(l==="leave"||s.indexOf(l)>=0)&&c({type:"updateAxisPointer",currTrigger:l,x:u&&u.offsetX,y:u&&u.offsetY})})},t.prototype.remove=function(n,i){unregister("axisPointer",i)},t.prototype.dispose=function(n,i){unregister("axisPointer",i)},t.type="axisPointer",t}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(r,t){var n=[],i=r.seriesIndex,a;if(i==null||!(a=t.getSeriesByIndex(i)))return{point:[]};var o=a.getData(),s=queryDataIndex(o,r);if(s==null||s<0||isArray(s))return{point:[]};var l=o.getItemGraphicEl(s),u=a.coordinateSystem;if(a.getTooltipPosition)n=a.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)if(r.isStacked){var c=u.getBaseAxis(),f=u.getOtherAxis(c),d=f.dim,g=c.dim,v=d==="x"||d==="radius"?1:0,M=o.mapDimension(g),P=[];P[v]=o.get(M,s),P[1-v]=o.get(o.getCalculationInfo("stackResultDimension"),s),n=u.dataToPoint(P)||[]}else n=u.dataToPoint(o.getValues(map$1(u.dimensions,function(I){return o.mapDimension(I)}),s))||[];else if(l){var R=l.getBoundingRect().clone();R.applyTransform(l.transform),n=[R.x+R.width/2,R.y+R.height/2]}return{point:n,el:l}}var inner$1=makeInner();function axisTrigger(r,t,n){var i=r.currTrigger,a=[r.x,r.y],o=r,s=r.dispatchAction||bind$1(n.dispatchAction,n),l=t.getComponent("axisPointer").coordSysAxesInfo;if(l){illegalPoint(a)&&(a=findPointFromSeries({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var u=illegalPoint(a),c=o.axesInfo,f=l.axesInfo,d=i==="leave"||illegalPoint(a),g={},v={},M={list:[],map:{}},P={showPointer:curry$1(showPointer,v),showTooltip:curry$1(showTooltip,M)};each$5(l.coordSysMap,function(I,$){var N=u||I.containPoint(a);each$5(l.coordSysAxesInfo[$],function(F,V){var H=F.axis,G=findInputAxisInfo(c,F);if(!d&&N&&(!c||G)){var Y=G&&G.value;Y==null&&!u&&(Y=H.pointToData(a)),Y!=null&&processOnAxis(F,Y,P,!1,g)}})});var R={};return each$5(f,function(I,$){var N=I.linkGroup;N&&!v[$]&&each$5(N.axesInfo,function(F,V){var H=v[V];if(F!==I&&H){var G=H.value;N.mapper&&(G=I.axis.scale.parse(N.mapper(G,makeMapperParam(F),makeMapperParam(I)))),R[I.key]=G}})}),each$5(R,function(I,$){processOnAxis(f[$],I,P,!0,g)}),updateModelActually(v,f,g),dispatchTooltipActually(M,a,r,s),dispatchHighDownActually(f,s,n),g}}function processOnAxis(r,t,n,i,a){var o=r.axis;if(!(o.scale.isBlank()||!o.containData(t))){if(!r.involveSeries){n.showPointer(r,t);return}var s=buildPayloadsBySeries(t,r),l=s.payloadBatch,u=s.snapToValue;l[0]&&a.seriesIndex==null&&extend(a,l[0]),!i&&r.snap&&o.containData(u)&&u!=null&&(t=u),n.showPointer(r,t,l),n.showTooltip(r,s,u)}}function buildPayloadsBySeries(r,t){var n=t.axis,i=n.dim,a=r,o=[],s=Number.MAX_VALUE,l=-1;return each$5(t.seriesModels,function(u,c){var f=u.getData().mapDimensionsAll(i),d,g;if(u.getAxisTooltipData){var v=u.getAxisTooltipData(f,r,n);g=v.dataIndices,d=v.nestestValue}else{if(g=u.getData().indicesOfNearest(f[0],r,n.type==="category"?.5:null),!g.length)return;d=u.getData().get(f[0],g[0])}if(!(d==null||!isFinite(d))){var M=r-d,P=Math.abs(M);P<=s&&((P<s||M>=0&&l<0)&&(s=P,l=M,a=d,o.length=0),each$5(g,function(R){o.push({seriesIndex:u.seriesIndex,dataIndexInside:R,dataIndex:u.getData().getRawIndex(R)})}))}}),{payloadBatch:o,snapToValue:a}}function showPointer(r,t,n,i){r[t.key]={value:n,payloadBatch:i}}function showTooltip(r,t,n,i){var a=n.payloadBatch,o=t.axis,s=o.model,l=t.axisPointerModel;if(!(!t.triggerTooltip||!a.length)){var u=t.coordSys.model,c=makeKey(u),f=r.map[c];f||(f=r.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},r.list.push(f)),f.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function updateModelActually(r,t,n){var i=n.axesInfo=[];each$5(t,function(a,o){var s=a.axisPointerModel.option,l=r[o];l?(!a.useHandle&&(s.status="show"),s.value=l.value,s.seriesDataIndices=(l.payloadBatch||[]).slice()):!a.useHandle&&(s.status="hide"),s.status==="show"&&i.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:s.value})})}function dispatchTooltipActually(r,t,n,i){if(illegalPoint(t)||!r.list.length){i({type:"hideTip"});return}var a=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:r.list})}function dispatchHighDownActually(r,t,n){var i=n.getZr(),a="axisPointerLastHighlights",o=inner$1(i)[a]||{},s=inner$1(i)[a]={};each$5(r,function(c,f){var d=c.axisPointerModel.option;d.status==="show"&&c.triggerEmphasis&&each$5(d.seriesDataIndices,function(g){var v=g.seriesIndex+" | "+g.dataIndex;s[v]=g})});var l=[],u=[];each$5(o,function(c,f){!s[f]&&u.push(c)}),each$5(s,function(c,f){!o[f]&&l.push(c)}),u.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),l.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}function findInputAxisInfo(r,t){for(var n=0;n<(r||[]).length;n++){var i=r[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}function makeMapperParam(r){var t=r.axis.model,n={},i=n.axisDim=r.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function illegalPoint(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function install$8(r){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),r.registerComponentModel(AxisPointerModel$1),r.registerComponentView(AxisPointerView$1),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!isArray(n)&&(t.axisPointer.link=[n])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=collect(t,n)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$7(r){use(install$9),use(install$8)}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(r){var t=r.get("coordinateSystem");return indexOf(SERIES_COORDS,t)>=0}function getAxisMainType(r){return r+"Axis"}function findEffectedDataZooms(r,t){var n=createHashMap(),i=[],a=createHashMap();r.eachComponent({mainType:"dataZoom",query:t},function(f){a.get(f.uid)||l(f)});var o;do o=!1,r.eachComponent("dataZoom",s);while(o);function s(f){!a.get(f.uid)&&u(f)&&(l(f),o=!0)}function l(f){a.set(f.uid,!0),i.push(f),c(f)}function u(f){var d=!1;return f.eachTargetAxis(function(g,v){var M=n.get(g);M&&M[v]&&(d=!0)}),d}function c(f){f.eachTargetAxis(function(d,g){(n.get(d)||n.set(d,[]))[g]=!0})}return i}function collectReferCoordSysModelInfo(r){var t=r.ecModel,n={infoList:[],infoMap:createHashMap()};return r.eachTargetAxis(function(i,a){var o=t.getComponent(getAxisMainType(i),a);if(o){var s=o.getCoordSysModel();if(s){var l=s.uid,u=n.infoMap.get(l);u||(u={model:s,axisModels:[]},n.infoList.push(u),n.infoMap.set(l,u)),u.axisModels.push(o)}}}),n}var DataZoomAxisInfo=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r}(),DataZoomModel=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return t.prototype.init=function(n,i,a){var o=retrieveRawOption(n);this.settledOption=o,this.mergeDefaultAndTheme(n,a),this._doInit(o)},t.prototype.mergeOption=function(n){var i=retrieveRawOption(n);merge(this.option,n,!0),merge(this.settledOption,i,!0),this._doInit(i)},t.prototype._doInit=function(n){var i=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var a=this.settledOption;each$5([["start","startValue"],["end","endValue"]],function(o,s){this._rangePropMode[s]==="value"&&(i[o[0]]=a[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var n=this.get("orient",!0),i=this._targetAxisInfoMap=createHashMap(),a=this._fillSpecifiedTargetAxis(i);a?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(n){var i=!1;return each$5(DATA_ZOOM_AXIS_DIMENSIONS,function(a){var o=this.getReferringComponents(getAxisMainType(a),MULTIPLE_REFERRING);if(o.specified){i=!0;var s=new DataZoomAxisInfo;each$5(o.models,function(l){s.add(l.componentIndex)}),n.set(a,s)}},this),i},t.prototype._fillAutoTargetAxisByOrient=function(n,i){var a=this.ecModel,o=!0;if(o){var s=i==="vertical"?"y":"x",l=a.findComponents({mainType:s+"Axis"});u(l,s)}if(o){var l=a.findComponents({mainType:"singleAxis",filter:function(f){return f.get("orient",!0)===i}});u(l,"single")}function u(c,f){var d=c[0];if(d){var g=new DataZoomAxisInfo;if(g.add(d.componentIndex),n.set(f,g),o=!1,f==="x"||f==="y"){var v=d.getReferringComponents("grid",SINGLE_REFERRING).models[0];v&&each$5(c,function(M){d.componentIndex!==M.componentIndex&&v===M.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&g.add(M.componentIndex)})}}}o&&each$5(DATA_ZOOM_AXIS_DIMENSIONS,function(c){if(o){var f=a.findComponents({mainType:getAxisMainType(c),filter:function(g){return g.get("type",!0)==="category"}});if(f[0]){var d=new DataZoomAxisInfo;d.add(f[0].componentIndex),n.set(c,d),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(i){!n&&(n=i)},this),n==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(n){var i=this._rangePropMode,a=this.get("rangeMode");each$5([["start","startValue"],["end","endValue"]],function(o,s){var l=n[o[0]]!=null,u=n[o[1]]!=null;l&&!u?i[s]="percent":!l&&u?i[s]="value":a?i[s]=a[s]:l&&(i[s]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(i,a){n==null&&(n=this.ecModel.getComponent(getAxisMainType(i),a))},this),n},t.prototype.eachTargetAxis=function(n,i){this._targetAxisInfoMap.each(function(a,o){each$5(a.indexList,function(s){n.call(i,o,s)})})},t.prototype.getAxisProxy=function(n,i){var a=this.getAxisModel(n,i);if(a)return a.__dzAxisProxy},t.prototype.getAxisModel=function(n,i){var a=this._targetAxisInfoMap.get(n);if(a&&a.indexMap[i])return this.ecModel.getComponent(getAxisMainType(n),i)},t.prototype.setRawRange=function(n){var i=this.option,a=this.settledOption;each$5([["start","startValue"],["end","endValue"]],function(o){(n[o[0]]!=null||n[o[1]]!=null)&&(i[o[0]]=a[o[0]]=n[o[0]],i[o[1]]=a[o[1]]=n[o[1]])},this),this._updateRangeUse(n)},t.prototype.setCalculatedRange=function(n){var i=this.option;each$5(["start","startValue","end","endValue"],function(a){i[a]=n[a]})},t.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},t.prototype.getValueRange=function(n,i){if(n==null&&i==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(n,i).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var i,a=this._targetAxisInfoMap.keys(),o=0;o<a.length;o++)for(var s=a[o],l=this._targetAxisInfoMap.get(s),u=0;u<l.indexList.length;u++){var c=this.getAxisProxy(s,l.indexList[u]);if(c.hostedBy(this))return c;i||(i=c)}return i},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(ComponentModel$1);function retrieveRawOption(r){var t={};return each$5(["start","end","startValue","endValue","throttle"],function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t}const DataZoomModel$1=DataZoomModel;var DataZoomView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,i,a,o){this.dataZoomModel=n,this.ecModel=i,this.api=a},t.type="dataZoom",t}(ComponentView$1);const DataZoomView$1=DataZoomView;var each$1=each$5,asc=asc$1,AxisProxy=function(){function r(t,n,i,a){this._dimName=t,this._axisIndex=n,this.ecModel=a,this._dataZoomModel=i}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(n){if(isCoordSupported(n)){var i=getAxisMainType(this._dimName),a=n.getReferringComponents(i,SINGLE_REFERRING).models[0];a&&this._axisIndex===a.componentIndex&&t.push(n)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return clone$2(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var n=this._dataExtent,i=this.getAxisModel(),a=i.axis.scale,o=this._dataZoomModel.getRangePropMode(),s=[0,100],l=[],u=[],c;each$1(["start","end"],function(g,v){var M=t[g],P=t[g+"Value"];o[v]==="percent"?(M==null&&(M=s[v]),P=a.parse(linearMap(M,s,n))):(c=!0,P=P==null?n[v]:a.parse(P),M=linearMap(P,n,s)),u[v]=P==null||isNaN(P)?n[v]:P,l[v]=M==null||isNaN(M)?s[v]:M}),asc(u),asc(l);var f=this._minMaxSpan;c?d(u,l,n,s,!1):d(l,u,s,n,!0);function d(g,v,M,P,R){var I=R?"Span":"ValueSpan";sliderMove(0,g,M,"all",f["min"+I],f["max"+I]);for(var $=0;$<2;$++)v[$]=linearMap(g[$],M,P,!0),R&&(v[$]=a.parse(v[$]))}return{valueWindow:u,percentWindow:l}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,n),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,n){if(t!==this._dataZoomModel)return;var i=this._dimName,a=this.getTargetSeriesModels(),o=t.get("filterMode"),s=this._valueWindow;if(o==="none")return;each$1(a,function(u){var c=u.getData(),f=c.mapDimensionsAll(i);if(f.length){if(o==="weakFilter"){var d=c.getStore(),g=map$1(f,function(v){return c.getDimensionIndex(v)},c);c.filterSelf(function(v){for(var M,P,R,I=0;I<f.length;I++){var $=d.get(g[I],v),N=!isNaN($),F=$<s[0],V=$>s[1];if(N&&!F&&!V)return!0;N&&(R=!0),F&&(M=!0),V&&(P=!0)}return R&&M&&P})}else each$1(f,function(v){if(o==="empty")u.setData(c=c.map(v,function(P){return l(P)?P:NaN}));else{var M={};M[v]=s,c.selectRange(M)}});each$1(f,function(v){c.setApproximateExtent(s,v)})}});function l(u){return u>=s[0]&&u<=s[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},n=this._dataZoomModel,i=this._dataExtent;each$1(["min","max"],function(a){var o=n.get(a+"Span"),s=n.get(a+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?o=linearMap(i[0]+s,i,[0,100],!0):o!=null&&(s=linearMap(o,[0,100],i,!0)-i[0]),t[a+"Span"]=o,t[a+"ValueSpan"]=s},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),n=this._percentWindow,i=this._valueWindow;if(n){var a=getPixelPrecision(i,[0,500]);a=Math.min(a,20);var o=t.axis.scale.rawExtentInfo;n[0]!==0&&o.setDeterminedMinMax("min",+i[0].toFixed(a)),n[1]!==100&&o.setDeterminedMinMax("max",+i[1].toFixed(a)),o.freeze()}},r}();function calculateDataExtent(r,t,n){var i=[1/0,-1/0];each$1(n,function(s){unionAxisExtentFromData(i,s.getData(),t)});var a=r.getAxisModel(),o=ensureScaleRawExtentInfo(a.axis.scale,a,i).calculate();return[o.min,o.max]}const AxisProxy$1=AxisProxy;var dataZoomProcessor={getTargetSeries:function(r){function t(a){r.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(s,l){var u=r.getComponent(getAxisMainType(s),l);a(s,l,u,o)})})}t(function(a,o,s,l){s.__dzAxisProxy=null});var n=[];t(function(a,o,s,l){s.__dzAxisProxy||(s.__dzAxisProxy=new AxisProxy$1(a,o,l,r),n.push(s.__dzAxisProxy))});var i=createHashMap();return each$5(n,function(a){each$5(a.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(r,t){r.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,a){n.getAxisProxy(i,a).reset(n)}),n.eachTargetAxis(function(i,a){n.getAxisProxy(i,a).filterData(n,t)})}),r.eachComponent("dataZoom",function(n){var i=n.findRepresentativeAxisProxy();if(i){var a=i.getDataPercentWindow(),o=i.getDataValueWindow();n.setCalculatedRange({start:a[0],end:a[1],startValue:o[0],endValue:o[1]})}})}};const dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction(r){r.registerAction("dataZoom",function(t,n){var i=findEffectedDataZooms(n,t);each$5(i,function(a){a.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var installed=!1;function installCommon(r){installed||(installed=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function makeBackground(r,t){var n=normalizeCssArray(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),r=new Rect$2({shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[1]+n[3],height:r.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1}),r}var TooltipModel=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function testStyle(r){if(env$1.domSupported){for(var t=document.documentElement.style,n=0,i=r.length;n<i;n++)if(r[n]in t)return r[n]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(r,t){if(!r)return t;t=toCamelCase(t,!0);var n=r.indexOf(t);return r=n===-1?t:"-"+r.slice(0,n)+"-"+t,r.toLowerCase()}function getComputedStyle$1(r,t){var n=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return n?t?n[t]:n:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function assembleArrow(r,t,n){if(!isString(n)||n==="inside")return"";var i=r.get("backgroundColor"),a=r.get("borderWidth");t=convertToColorString(t);var o=mirrorPos(n),s=Math.max(Math.round(a)*1.5,6),l="",u=CSS_TRANSFORM_VENDOR+":",c;indexOf(["left","right"],o)>-1?(l+="top:50%",u+="translateY(-50%) rotate("+(c=o==="left"?-225:-45)+"deg)"):(l+="left:50%",u+="translateX(-50%) rotate("+(c=o==="top"?225:45)+"deg)");var f=c*Math.PI/180,d=s+a,g=d*Math.abs(Math.cos(f))+d*Math.abs(Math.sin(f)),v=Math.round(((g-Math.SQRT2*a)/2+Math.SQRT2*a-(g-d)/2)*100)/100;l+=";"+o+":-"+v+"px";var M=t+" solid "+a+"px;",P=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",l+";"+u+";","border-bottom:"+M,"border-right:"+M,"background-color:"+i+";"];return'<div style="'+P.join("")+'"></div>'}function assembleTransition(r,t){var n="cubic-bezier(0.23,1,0.32,1)",i=" "+r/2+"s "+n,a="opacity"+i+",visibility"+i;return t||(i=" "+r+"s "+n,a+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+i:",left"+i+",top"+i),CSS_TRANSITION_VENDOR+":"+a}function assembleTransform(r,t,n){var i=r.toFixed(0)+"px",a=t.toFixed(0)+"px";if(!env$1.transformSupported)return n?"top:"+a+";left:"+i+";":[["top",a],["left",i]];var o=env$1.transform3dSupported,s="translate"+(o?"3d":"")+"("+i+","+a+(o?",0":"")+")";return n?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+s+";":[["top",0],["left",0],[TRANSFORM_VENDOR,s]]}function assembleFont(r){var t=[],n=r.get("fontSize"),i=r.getTextColor();i&&t.push("color:"+i),t.push("font:"+r.getFont()),n&&t.push("line-height:"+Math.round(n*3/2)+"px");var a=r.get("textShadowColor"),o=r.get("textShadowBlur")||0,s=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return a&&o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),each$5(["decoration","align"],function(u){var c=r.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function assembleCssText(r,t,n){var i=[],a=r.get("transitionDuration"),o=r.get("backgroundColor"),s=r.get("shadowBlur"),l=r.get("shadowColor"),u=r.get("shadowOffsetX"),c=r.get("shadowOffsetY"),f=r.getModel("textStyle"),d=getPaddingFromTooltipModel(r,"html"),g=u+"px "+c+"px "+s+"px "+l;return i.push("box-shadow:"+g),t&&a&&i.push(assembleTransition(a,n)),o&&i.push("background-color:"+o),each$5(["width","color","radius"],function(v){var M="border-"+v,P=toCamelCase(M),R=r.get(P);R!=null&&i.push(M+":"+R+(v==="color"?"":"px"))}),i.push(assembleFont(f)),d!=null&&i.push("padding:"+normalizeCssArray(d).join("px ")+"px"),i.join(";")+";"}function makeStyleCoord$1(r,t,n,i,a){var o=t&&t.painter;if(n){var s=o&&o.getViewportRoot();s&&transformLocalCoord(r,s,document.body,i,a)}else{r[0]=i,r[1]=a;var l=o&&o.getViewportRootOffset();l&&(r[0]+=l.offsetLeft,r[1]+=l.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var TooltipHTMLContent=function(){function r(t,n,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var o=this._zr=n.getZr(),s=this._appendToBody=i&&i.appendToBody;makeStyleCoord$1(this._styleCoord,o,s,n.getWidth()/2,n.getHeight()/2),s?document.body.appendChild(a):t.appendChild(a),this._container=t;var l=this;a.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},a.onmousemove=function(u){if(u=u||window.event,!l._enterable){var c=o.handler,f=o.painter.getViewportRoot();normalizeEvent(f,u,!0),c.dispatch("mousemove",u)}},a.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return r.prototype.update=function(t){var n=this._container,i=getComputedStyle$1(n,"position"),a=n.style;a.position!=="absolute"&&i!=="absolute"&&(a.position="relative");var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get("className")||""},r.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,a=i.style,o=this._styleCoord;i.innerHTML?a.cssText=gCssText+assembleCssText(t,!this._firstShow,this._longHide)+assembleTransform(o[0],o[1],!0)+("border-color:"+convertToColorString(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,n,i,a,o){var s=this.el;if(t==null){s.innerHTML="";return}var l="";if(isString(o)&&i.get("trigger")==="item"&&!shouldTooltipConfine(i)&&(l=assembleArrow(i,a,o)),isString(t))s.innerHTML=t+l;else if(t){s.innerHTML="",isArray(t)||(t=[t]);for(var u=0;u<t.length;u++)isDom(t[u])&&t[u].parentNode!==s&&s.appendChild(t[u]);if(l&&s.childNodes.length){var c=document.createElement("div");c.innerHTML=l,s.appendChild(c)}}},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},r.prototype.moveTo=function(t,n){var i=this._styleCoord;if(makeStyleCoord$1(i,this._zr,this._appendToBody,t,n),i[0]!=null&&i[1]!=null){var a=this.el.style,o=assembleTransform(i[0],i[1]);each$5(o,function(s){a[s[0]]=s[1]})}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},r.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",env$1.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},r}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),makeStyleCoord(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,n,i,a,o){var s=this;isObject$2(t)&&throwError(""),this.el&&this._zr.remove(this.el);var l=i.getModel("textStyle");this.el=new ZRText$1({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:l.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),each$5(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){s.el.style[c]=i.get(c)}),each$5(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){s.el.style[c]=l.get(c)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),i=calcShadowOuterSize(t.style);return[n.width+i.left+i.right,n.height+i.top+i.bottom]},r.prototype.moveTo=function(t,n){var i=this.el;if(i){var a=this._styleCoord;makeStyleCoord(a,this._zr,t,n),t=a[0],n=a[1];var o=i.style,s=mathMaxWith0(o.borderWidth||0),l=calcShadowOuterSize(o);i.x=t+s+l.left,i.y=n+s+l.top,i.markRedraw()}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function mathMaxWith0(r){return Math.max(0,r)}function calcShadowOuterSize(r){var t=mathMaxWith0(r.shadowBlur||0),n=mathMaxWith0(r.shadowOffsetX||0),i=mathMaxWith0(r.shadowOffsetY||0);return{left:mathMaxWith0(t-n),right:mathMaxWith0(t+n),top:mathMaxWith0(t-i),bottom:mathMaxWith0(t+i)}}function makeStyleCoord(r,t,n,i){r[0]=n,r[1]=i,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$2({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,i){if(!(env$1.node||!i.getDom())){var a=n.getComponent("tooltip"),o=this._renderMode=getTooltipRenderMode(a.get("renderMode"));this._tooltipContent=o==="richText"?new TooltipRichContent$1(i):new TooltipHTMLContent$1(i.getDom(),i,{appendToBody:a.get("appendToBody",!0)})}},t.prototype.render=function(n,i,a){if(!(env$1.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=i,this._api=a;var o=this._tooltipContent;o.update(n),o.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,i=n.get("triggerOn");register("itemTooltip",this._api,bind$1(function(a,o,s){i!=="none"&&(i.indexOf(a)>=0?this._tryShow(o,s):a==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,i=this._ecModel,a=this._api,o=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&s.manuallyShowTip(n,i,a,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,i,a,o){if(!(o.from===this.uid||env$1.node||!a.getDom())){var s=makeDispatchAction(o,a);this._ticket="";var l=o.dataByCoordSys,u=findComponentReference(o,i,a);if(u){var c=u.el.getBoundingRect().clone();c.applyTransform(u.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:u.el,position:o.position,positionDefault:"bottom"},s)}else if(o.tooltip&&o.x!=null&&o.y!=null){var f=proxyRect;f.x=o.x,f.y=o.y,f.update(),getECData(f).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:f},s)}else if(l)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:l,tooltipOption:o.tooltipOption},s);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(n,i,a,o))return;var d=findPointFromSeries(o,i),g=d.point[0],v=d.point[1];g!=null&&v!=null&&this._tryShow({offsetX:g,offsetY:v,target:d.el,position:o.position,positionDefault:"bottom"},s)}else o.x!=null&&o.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:a.getZr().findHover(o.x,o.y).target},s))}},t.prototype.manuallyHideTip=function(n,i,a,o){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(makeDispatchAction(o,a))},t.prototype._manuallyAxisShowTip=function(n,i,a,o){var s=o.seriesIndex,l=o.dataIndex,u=i.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||l==null||u==null)){var c=i.getSeriesByIndex(s);if(c){var f=c.getData(),d=buildTooltipModel([f.getItemModel(l),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:l,position:o.position}),!0}}},t.prototype._tryShow=function(n,i){var a=n.target,o=this._tooltipModel;if(o){this._lastX=n.offsetX,this._lastY=n.offsetY;var s=n.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,n);else if(a){this._lastDataByCoordSys=null;var l,u;findEventDispatcher(a,function(c){if(getECData(c).dataIndex!=null)return l=c,!0;if(getECData(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(n,l,i):u?this._showComponentItemTooltip(n,u,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},t.prototype._showOrMove=function(n,i){var a=n.get("showDelay");i=bind$1(i,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(i,a):i()},t.prototype._showAxisTooltip=function(n,i){var a=this._ecModel,o=this._tooltipModel,s=[i.offsetX,i.offsetY],l=buildTooltipModel([i.tooltipOption],o),u=this._renderMode,c=[],f=createTooltipMarkup("section",{blocks:[],noHeader:!0}),d=[],g=new TooltipMarkupStyleCreator;each$5(n,function($){each$5($.dataByAxis,function(N){var F=a.getComponent(N.axisDim+"Axis",N.axisIndex),V=N.value;if(!(!F||V==null)){var H=getValueLabel(V,F.axis,a,N.seriesDataIndices,N.valueLabelOpt),G=createTooltipMarkup("section",{header:H,noHeader:!trim(H),sortBlocks:!0,blocks:[]});f.blocks.push(G),each$5(N.seriesDataIndices,function(Y){var W=a.getSeriesByIndex(Y.seriesIndex),q=Y.dataIndexInside,X=W.getDataParams(q);if(!(X.dataIndex<0)){X.axisDim=N.axisDim,X.axisIndex=N.axisIndex,X.axisType=N.axisType,X.axisId=N.axisId,X.axisValue=getAxisRawValue(F.axis,{value:V}),X.axisValueLabel=H,X.marker=g.makeTooltipMarker("item",convertToColorString(X.color),u);var K=normalizeTooltipFormatResult(W.formatTooltip(q,!0,null)),Q=K.frag;if(Q){var te=buildTooltipModel([W],o).get("valueFormatter");G.blocks.push(te?extend({valueFormatter:te},Q):Q)}K.text&&d.push(K.text),c.push(X)}})}})}),f.blocks.reverse(),d.reverse();var v=i.position,M=l.get("order"),P=buildTooltipMarkup(f,g,u,M,a.get("useUTC"),l.get("textStyle"));P&&d.unshift(P);var R=u==="richText"?`

`:"<br/>",I=d.join(R);this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(n,c)?this._updatePosition(l,v,s[0],s[1],this._tooltipContent,c):this._showTooltipContent(l,I,c,Math.random()+"",s[0],s[1],v,null,g)})},t.prototype._showSeriesItemTooltip=function(n,i,a){var o=this._ecModel,s=getECData(i),l=s.seriesIndex,u=o.getSeriesByIndex(l),c=s.dataModel||u,f=s.dataIndex,d=s.dataType,g=c.getData(d),v=this._renderMode,M=n.positionDefault,P=buildTooltipModel([g.getItemModel(f),c,u&&(u.coordinateSystem||{}).model],this._tooltipModel,M?{position:M}:null),R=P.get("trigger");if(!(R!=null&&R!=="item")){var I=c.getDataParams(f,d),$=new TooltipMarkupStyleCreator;I.marker=$.makeTooltipMarker("item",convertToColorString(I.color),v);var N=normalizeTooltipFormatResult(c.formatTooltip(f,!1,d)),F=P.get("order"),V=P.get("valueFormatter"),H=N.frag,G=H?buildTooltipMarkup(V?extend({valueFormatter:V},H):H,$,v,F,o.get("useUTC"),P.get("textStyle")):N.text,Y="item_"+c.name+"_"+f;this._showOrMove(P,function(){this._showTooltipContent(P,G,I,Y,n.offsetX,n.offsetY,n.position,n.target,$)}),a({type:"showTip",dataIndexInside:f,dataIndex:g.getRawIndex(f),seriesIndex:l,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,i,a){var o=getECData(i),s=o.tooltipConfig,l=s.option||{};if(isString(l)){var u=l;l={content:u,formatter:u}}var c=[l],f=this._ecModel.getComponent(o.componentMainType,o.componentIndex);f&&c.push(f),c.push({formatter:l.content});var d=n.positionDefault,g=buildTooltipModel(c,this._tooltipModel,d?{position:d}:null),v=g.get("content"),M=Math.random()+"",P=new TooltipMarkupStyleCreator;this._showOrMove(g,function(){var R=clone$2(g.get("formatterParams")||{});this._showTooltipContent(g,v,R,M,n.offsetX,n.offsetY,n.position,i,P)}),a({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,i,a,o,s,l,u,c,f){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var d=this._tooltipContent;d.setEnterable(n.get("enterable"));var g=n.get("formatter");u=u||n.get("position");var v=i,M=this._getNearestPoint([s,l],a,n.get("trigger"),n.get("borderColor")),P=M.color;if(g)if(isString(g)){var R=n.ecModel.get("useUTC"),I=isArray(a)?a[0]:a,$=I&&I.axisType&&I.axisType.indexOf("time")>=0;v=g,$&&(v=format(I.axisValue,v,R)),v=formatTpl(v,a,!0)}else if(isFunction(g)){var N=bind$1(function(F,V){F===this._ticket&&(d.setContent(V,f,n,P,u),this._updatePosition(n,u,s,l,d,a,c))},this);this._ticket=o,v=g(a,o,N)}else v=g;d.setContent(v,f,n,P,u),d.show(n,P),this._updatePosition(n,u,s,l,d,a,c)}},t.prototype._getNearestPoint=function(n,i,a,o){if(a==="axis"||isArray(i))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!isArray(i))return{color:o||i.color||i.borderColor}},t.prototype._updatePosition=function(n,i,a,o,s,l,u){var c=this._api.getWidth(),f=this._api.getHeight();i=i||n.get("position");var d=s.getSize(),g=n.get("align"),v=n.get("verticalAlign"),M=u&&u.getBoundingRect().clone();if(u&&M.applyTransform(u.transform),isFunction(i)&&(i=i([a,o],l,s.el,M,{viewSize:[c,f],contentSize:d.slice()})),isArray(i))a=parsePercent(i[0],c),o=parsePercent(i[1],f);else if(isObject$2(i)){var P=i;P.width=d[0],P.height=d[1];var R=getLayoutRect(P,{width:c,height:f});a=R.x,o=R.y,g=null,v=null}else if(isString(i)&&u){var I=calcTooltipPosition(i,M,d,n.get("borderWidth"));a=I[0],o=I[1]}else{var I=refixTooltipPosition(a,o,s,c,f,g?null:20,v?null:20);a=I[0],o=I[1]}if(g&&(a-=isCenterAlign(g)?d[0]/2:g==="right"?d[0]:0),v&&(o-=isCenterAlign(v)?d[1]/2:v==="bottom"?d[1]:0),shouldTooltipConfine(n)){var I=confineTooltipPosition(a,o,s,c,f);a=I[0],o=I[1]}s.moveTo(a,o)},t.prototype._updateContentNotChangedOnAxis=function(n,i){var a=this._lastDataByCoordSys,o=this._cbParamsList,s=!!a&&a.length===n.length;return s&&each$5(a,function(l,u){var c=l.dataByAxis||[],f=n[u]||{},d=f.dataByAxis||[];s=s&&c.length===d.length,s&&each$5(c,function(g,v){var M=d[v]||{},P=g.seriesDataIndices||[],R=M.seriesDataIndices||[];s=s&&g.value===M.value&&g.axisType===M.axisType&&g.axisId===M.axisId&&P.length===R.length,s&&each$5(P,function(I,$){var N=R[$];s=s&&I.seriesIndex===N.seriesIndex&&I.dataIndex===N.dataIndex}),o&&each$5(g.seriesDataIndices,function(I){var $=I.seriesIndex,N=i[$],F=o[$];N&&F&&F.data!==N.data&&(s=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=i,!!s},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,i){env$1.node||!i.getDom()||(clear(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",i))},t.type="tooltip",t}(ComponentView$1);function buildTooltipModel(r,t,n){var i=t.ecModel,a;n?(a=new Model$1(n,i,i),a=new Model$1(t.option,a,i)):a=t;for(var o=r.length-1;o>=0;o--){var s=r[o];s&&(s instanceof Model$1&&(s=s.get("tooltip",!0)),isString(s)&&(s={formatter:s}),s&&(a=new Model$1(s,a,i)))}return a}function makeDispatchAction(r,t){return r.dispatchAction||bind$1(t.dispatchAction,t)}function refixTooltipPosition(r,t,n,i,a,o,s){var l=n.getSize(),u=l[0],c=l[1];return o!=null&&(r+u+o+2>i?r-=u+o:r+=o),s!=null&&(t+c+s>a?t-=c+s:t+=s),[r,t]}function confineTooltipPosition(r,t,n,i,a){var o=n.getSize(),s=o[0],l=o[1];return r=Math.min(r+s,i)-s,t=Math.min(t+l,a)-l,r=Math.max(r,0),t=Math.max(t,0),[r,t]}function calcTooltipPosition(r,t,n,i){var a=n[0],o=n[1],s=Math.ceil(Math.SQRT2*i)+8,l=0,u=0,c=t.width,f=t.height;switch(r){case"inside":l=t.x+c/2-a/2,u=t.y+f/2-o/2;break;case"top":l=t.x+c/2-a/2,u=t.y-o-s;break;case"bottom":l=t.x+c/2-a/2,u=t.y+f+s;break;case"left":l=t.x-a-s,u=t.y+f/2-o/2;break;case"right":l=t.x+c+s,u=t.y+f/2-o/2}return[l,u]}function isCenterAlign(r){return r==="center"||r==="middle"}function findComponentReference(r,t,n){var i=preParseFinder(r).queryOptionMap,a=i.keys()[0];if(!(!a||a==="series")){var o=queryReferringComponents(t,a,i.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),s=o.models[0];if(s){var l=n.getViewOfComponentModel(s),u;if(l.group.traverse(function(c){var f=getECData(c).tooltipConfig;if(f&&f.name===r.name)return u=c,!0}),u)return{componentMainType:a,componentIndex:s.componentIndex,el:u}}}}const TooltipView$1=TooltipView;function install$6(r){use(install$8),r.registerComponentModel(TooltipModel$1),r.registerComponentView(TooltipView$1),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var getDefaultSelectorOptions=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,i,a){this.mergeDefaultAndTheme(n,a),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,i){r.prototype.mergeOption.call(this,n,i),this._updateSelector(n)},t.prototype._updateSelector=function(n){var i=n.selector,a=this.ecModel;i===!0&&(i=n.selector=["all","inverse"]),isArray(i)&&each$5(i,function(o,s){isString(o)&&(o={type:o}),i[s]=merge(o,getDefaultSelectorOptions(a,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var i=!1,a=0;a<n.length;a++){var o=n[a].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var i=[],a=[];n.eachRawSeries(function(u){var c=u.name;a.push(c);var f;if(u.legendVisualProvider){var d=u.legendVisualProvider,g=d.getAllNames();n.isSeriesFiltered(u)||(a=a.concat(g)),g.length?i=i.concat(g):f=!0}else f=!0;f&&isNameSpecified(u)&&i.push(u.name)}),this._availableNames=a;var o=this.get("data")||i,s=createHashMap(),l=map$1(o,function(u){return(isString(u)||isNumber(u))&&(u={name:u}),s.get(u.name)?null:(s.set(u.name,!0),new Model$1(u,this,this.ecModel))},this);this._data=filter(l,function(u){return!!u})},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var i=this.option.selected,a=this.get("selectedMode");if(a==="single"){var o=this._data;each$5(o,function(s){i[s.get("name")]=!1})}i[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var i=this.option.selected;i.hasOwnProperty(n)||(i[n]=!0),this[i[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,i=this.option.selected;each$5(n,function(a){i[a.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,i=this.option.selected;each$5(n,function(a){var o=a.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},t.prototype.isSelected=function(n){var i=this.option.selected;return!(i.hasOwnProperty(n)&&!i[n])&&indexOf(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each=each$5,Group$1=Group$3,LegendView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,i,a){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var s=n.get("align"),l=n.get("orient");(!s||s==="auto")&&(s=n.get("left")==="right"&&l==="vertical"?"right":"left");var u=n.get("selector",!0),c=n.get("selectorPosition",!0);u&&(!c||c==="auto")&&(c=l==="horizontal"?"end":"start"),this.renderInner(s,n,i,a,u,l,c);var f=n.getBoxLayoutParams(),d={width:a.getWidth(),height:a.getHeight()},g=n.get("padding"),v=getLayoutRect(f,d,g),M=this.layoutInner(n,s,v,o,u,c),P=getLayoutRect(defaults({width:M.width,height:M.height},f),d,g);this.group.x=P.x-M.x,this.group.y=P.y-M.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(M,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,i,a,o,s,l,u){var c=this.getContentGroup(),f=createHashMap(),d=i.get("selectedMode"),g=[];a.eachRawSeries(function(v){!v.get("legendHoverLink")&&g.push(v.id)}),each(i.getData(),function(v,M){var P=v.get("name");if(!this.newlineDisabled&&(P===""||P===`
`)){var R=new Group$1;R.newline=!0,c.add(R);return}var I=a.getSeriesByName(P)[0];if(!f.get(P))if(I){var $=I.getData(),N=$.getVisual("legendLineStyle")||{},F=$.getVisual("legendIcon"),V=$.getVisual("style"),H=this._createItem(I,P,M,v,i,n,N,V,F,d,o);H.on("click",curry(dispatchSelectAction,P,null,o,g)).on("mouseover",curry(dispatchHighlightAction,I.name,null,o,g)).on("mouseout",curry(dispatchDownplayAction,I.name,null,o,g)),f.set(P,!0)}else a.eachRawSeries(function(G){if(!f.get(P)&&G.legendVisualProvider){var Y=G.legendVisualProvider;if(!Y.containName(P))return;var W=Y.indexOfName(P),q=Y.getItemVisual(W,"style"),X=Y.getItemVisual(W,"legendIcon"),K=parse(q.fill);K&&K[3]===0&&(K[3]=.2,q=extend(extend({},q),{fill:stringify(K,"rgba")}));var Q=this._createItem(G,P,M,v,i,n,{},q,X,d,o);Q.on("click",curry(dispatchSelectAction,null,P,o,g)).on("mouseover",curry(dispatchHighlightAction,null,P,o,g)).on("mouseout",curry(dispatchDownplayAction,null,P,o,g)),f.set(P,!0)}},this)},this),s&&this._createSelector(s,i,o,l,u)},t.prototype._createSelector=function(n,i,a,o,s){var l=this.getSelectorGroup();each(n,function(c){var f=c.type,d=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:f==="all"?"legendAllSelect":"legendInverseSelect"})}});l.add(d);var g=i.getModel("selectorLabel"),v=i.getModel(["emphasis","selectorLabel"]);setLabelStyle(d,{normal:g,emphasis:v},{defaultText:c.title}),enableHoverEmphasis(d)})},t.prototype._createItem=function(n,i,a,o,s,l,u,c,f,d,g){var v=n.visualDrawType,M=s.get("itemWidth"),P=s.get("itemHeight"),R=s.isSelected(i),I=o.get("symbolRotate"),$=o.get("symbolKeepAspect"),N=o.get("icon");f=N||f||"roundRect";var F=getLegendStyle(f,o,u,c,v,R,g),V=new Group$1,H=o.getModel("textStyle");if(isFunction(n.getLegendIcon)&&(!N||N==="inherit"))V.add(n.getLegendIcon({itemWidth:M,itemHeight:P,icon:f,iconRotate:I,itemStyle:F.itemStyle,lineStyle:F.lineStyle,symbolKeepAspect:$}));else{var G=N==="inherit"&&n.getData().getVisual("symbol")?I==="inherit"?n.getData().getVisual("symbolRotate"):I:0;V.add(getDefaultLegendIcon({itemWidth:M,itemHeight:P,icon:f,iconRotate:G,itemStyle:F.itemStyle,lineStyle:F.lineStyle,symbolKeepAspect:$}))}var Y=l==="left"?M+5:-5,W=l,q=s.get("formatter"),X=i;isString(q)&&q?X=q.replace("{name}",i??""):isFunction(q)&&(X=q(i));var K=R?H.getTextColor():o.get("inactiveColor");V.add(new ZRText$1({style:createTextStyle(H,{text:X,x:Y,y:P/2,fill:K,align:W,verticalAlign:"middle"},{inheritColor:K})}));var Q=new Rect$2({shape:V.getBoundingRect(),invisible:!0}),te=o.getModel("tooltip");return te.get("show")&&setTooltipConfig({el:Q,componentModel:s,itemName:i,itemTooltipOption:te.option}),V.add(Q),V.eachChild(function(ae){ae.silent=!0}),Q.silent=!d,this.getContentGroup().add(V),enableHoverEmphasis(V),V.__legendDataIndex=a,V},t.prototype.layoutInner=function(n,i,a,o,s,l){var u=this.getContentGroup(),c=this.getSelectorGroup();box(n.get("orient"),u,n.get("itemGap"),a.width,a.height);var f=u.getBoundingRect(),d=[-f.x,-f.y];if(c.markRedraw(),u.markRedraw(),s){box("horizontal",c,n.get("selectorItemGap",!0));var g=c.getBoundingRect(),v=[-g.x,-g.y],M=n.get("selectorButtonGap",!0),P=n.getOrient().index,R=P===0?"width":"height",I=P===0?"height":"width",$=P===0?"y":"x";l==="end"?v[P]+=f[R]+M:d[P]+=g[R]+M,v[1-P]+=f[I]/2-g[I]/2,c.x=v[0],c.y=v[1],u.x=d[0],u.y=d[1];var N={x:0,y:0};return N[R]=f[R]+M+g[R],N[I]=Math.max(f[I],g[I]),N[$]=Math.min(0,g[$]+v[1-P]),N}else return u.x=d[0],u.y=d[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(ComponentView$1);function getLegendStyle(r,t,n,i,a,o,s){function l(R,I){R.lineWidth==="auto"&&(R.lineWidth=I.lineWidth>0?2:0),each(R,function($,N){R[N]==="inherit"&&(R[N]=I[N])})}var u=t.getModel("itemStyle"),c=u.getItemStyle(),f=r.lastIndexOf("empty",0)===0?"fill":"stroke",d=u.getShallow("decal");c.decal=!d||d==="inherit"?i.decal:createOrUpdatePatternFromDecal(d,s),c.fill==="inherit"&&(c.fill=i[a]),c.stroke==="inherit"&&(c.stroke=i[f]),c.opacity==="inherit"&&(c.opacity=(a==="fill"?i:n).opacity),l(c,i);var g=t.getModel("lineStyle"),v=g.getLineStyle();if(l(v,n),c.fill==="auto"&&(c.fill=i.fill),c.stroke==="auto"&&(c.stroke=i.fill),v.stroke==="auto"&&(v.stroke=i.fill),!o){var M=t.get("inactiveBorderWidth"),P=c[f];c.lineWidth=M==="auto"?i.lineWidth>0&&P?2:0:c.lineWidth,c.fill=t.get("inactiveColor"),c.stroke=t.get("inactiveBorderColor"),v.stroke=g.get("inactiveColor"),v.lineWidth=g.get("inactiveWidth")}return{itemStyle:c,lineStyle:v}}function getDefaultLegendIcon(r){var t=r.icon||"roundRect",n=createSymbol(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return n.setStyle(r.itemStyle),n.rotation=(r.iconRotate||0)*Math.PI/180,n.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function dispatchSelectAction(r,t,n,i){dispatchDownplayAction(r,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:r??t}),dispatchHighlightAction(r,t,n,i)}function isUseHoverLayer(r){for(var t=r.getZr().storage.getDisplayList(),n,i=0,a=t.length;i<a&&!(n=t[i].states.emphasis);)i++;return n&&n.hoverLayer}function dispatchHighlightAction(r,t,n,i){isUseHoverLayer(n)||n.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:i})}function dispatchDownplayAction(r,t,n,i){isUseHoverLayer(n)||n.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:i})}const LegendView$1=LegendView;function legendFilter(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}function legendSelectActionHandler(r,t,n){var i={},a=r==="toggleSelected",o;return n.eachComponent("legend",function(s){a&&o!=null?s[o?"select":"unSelect"](t.name):r==="allSelect"||r==="inverseSelect"?s[r]():(s[r](t.name),o=s.isSelected(t.name));var l=s.getData();each$5(l,function(u){var c=u.get("name");if(!(c===`
`||c==="")){var f=s.isSelected(c);i.hasOwnProperty(c)?i[c]=i[c]&&f:i[c]=f}})}),r==="allSelect"||r==="inverseSelect"?{selected:i}:{name:t.name,selected:i}}function installLegendAction(r){r.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),r.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),r.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$5(r){r.registerComponentModel(LegendModel$1),r.registerComponentView(LegendView$1),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),r.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(r)}var ScrollableLegendModel=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,i,a){var o=getLayoutParams(n);r.prototype.init.call(this,n,i,a),mergeAndNormalizeLayoutParams(this,n,o)},t.prototype.mergeOption=function(n,i){r.prototype.mergeOption.call(this,n,i),mergeAndNormalizeLayoutParams(this,this.option,n)},t.type="legend.scroll",t.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(LegendModel$1);function mergeAndNormalizeLayoutParams(r,t,n){var i=r.getOrient(),a=[1,1];a[i.index]=0,mergeLayoutParam(t,n,{type:"box",ignoreSize:!!a})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,i,a,o,s,l,u){var c=this;r.prototype.renderInner.call(this,n,i,a,o,s,l,u);var f=this._controllerGroup,d=i.get("pageIconSize",!0),g=isArray(d)?d:[d,d];M("pagePrev",0);var v=i.getModel("pageTextStyle");f.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),M("pageNext",1);function M(P,R){var I=P+"DataIndex",$=createIcon(i.get("pageIcons",!0)[i.getOrient().name][R],{onclick:bind$1(c._pageGo,c,I,i,o)},{x:-g[0]/2,y:-g[1]/2,width:g[0],height:g[1]});$.name=P,f.add($)}},t.prototype.layoutInner=function(n,i,a,o,s,l){var u=this.getSelectorGroup(),c=n.getOrient().index,f=WH[c],d=XY[c],g=WH[1-c],v=XY[1-c];s&&box("horizontal",u,n.get("selectorItemGap",!0));var M=n.get("selectorButtonGap",!0),P=u.getBoundingRect(),R=[-P.x,-P.y],I=clone$2(a);s&&(I[f]=a[f]-P[f]-M);var $=this._layoutContentAndController(n,o,I,c,f,g,v,d);if(s){if(l==="end")R[c]+=$[f]+M;else{var N=P[f]+M;R[c]-=N,$[d]-=N}$[f]+=P[f]+M,R[1-c]+=$[v]+$[g]/2-P[g]/2,$[g]=Math.max($[g],P[g]),$[v]=Math.min($[v],P[v]+R[1-c]),u.x=R[0],u.y=R[1],u.markRedraw()}return $},t.prototype._layoutContentAndController=function(n,i,a,o,s,l,u,c){var f=this.getContentGroup(),d=this._containerGroup,g=this._controllerGroup;box(n.get("orient"),f,n.get("itemGap"),o?a.width:null,o?null:a.height),box("horizontal",g,n.get("pageButtonItemGap",!0));var v=f.getBoundingRect(),M=g.getBoundingRect(),P=this._showController=v[s]>a[s],R=[-v.x,-v.y];i||(R[o]=f[c]);var I=[0,0],$=[-M.x,-M.y],N=retrieve2(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(P){var F=n.get("pageButtonPosition",!0);F==="end"?$[o]+=a[s]-M[s]:I[o]+=M[s]+N}$[1-o]+=v[l]/2-M[l]/2,f.setPosition(R),d.setPosition(I),g.setPosition($);var V={x:0,y:0};if(V[s]=P?a[s]:v[s],V[l]=Math.max(v[l],M[l]),V[u]=Math.min(0,M[u]+$[1-o]),d.__rectSize=a[s],P){var H={x:0,y:0};H[s]=Math.max(a[s]-M[s]-N,0),H[l]=V[l],d.setClipPath(new Rect$2({shape:H})),d.__rectSize=H[s]}else g.eachChild(function(Y){Y.attr({invisible:!0,silent:!0})});var G=this._getPageInfo(n);return G.pageIndex!=null&&updateProps$1(f,{x:G.contentPosition[0],y:G.contentPosition[1]},P?n:null),this._updatePageInfoView(n,G),V},t.prototype._pageGo=function(n,i,a){var o=this._getPageInfo(i)[n];o!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},t.prototype._updatePageInfoView=function(n,i){var a=this._controllerGroup;each$5(["pagePrev","pageNext"],function(f){var d=f+"DataIndex",g=i[d]!=null,v=a.childOfName(f);v&&(v.setStyle("fill",g?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),v.cursor=g?"pointer":"default")});var o=a.childOfName("pageText"),s=n.get("pageFormatter"),l=i.pageIndex,u=l!=null?l+1:0,c=i.pageCount;o&&s&&o.setStyle("text",isString(s)?s.replace("{current}",u==null?"":u+"").replace("{total}",c==null?"":c+""):s({current:u,total:c}))},t.prototype._getPageInfo=function(n){var i=n.get("scrollDataIndex",!0),a=this.getContentGroup(),o=this._containerGroup.__rectSize,s=n.getOrient().index,l=WH[s],u=XY[s],c=this._findTargetItemIndex(i),f=a.children(),d=f[c],g=f.length,v=g?1:0,M={contentPosition:[a.x,a.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return M;var P=F(d);M.contentPosition[s]=-P.s;for(var R=c+1,I=P,$=P,N=null;R<=g;++R)N=F(f[R]),(!N&&$.e>I.s+o||N&&!V(N,I.s))&&($.i>I.i?I=$:I=N,I&&(M.pageNextDataIndex==null&&(M.pageNextDataIndex=I.i),++M.pageCount)),$=N;for(var R=c-1,I=P,$=P,N=null;R>=-1;--R)N=F(f[R]),(!N||!V($,N.s))&&I.i<$.i&&($=I,M.pagePrevDataIndex==null&&(M.pagePrevDataIndex=I.i),++M.pageCount,++M.pageIndex),I=N;return M;function F(H){if(H){var G=H.getBoundingRect(),Y=G[u]+H[u];return{s:Y,e:Y+G[l],i:H.__legendDataIndex}}}function V(H,G){return H.e>=G&&H.s<=G+o}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var i,a=this.getContentGroup(),o;return a.eachChild(function(s,l){var u=s.__legendDataIndex;o==null&&u!=null&&(o=l),u===n&&(i=l)}),i??o},t.type="legend.scroll",t}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(r){r.registerAction("legendScroll","legendscroll",function(t,n){var i=t.scrollDataIndex;i!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(a){a.setScrollDataIndex(i)})})}function install$4(r){use(install$5),r.registerComponentModel(ScrollableLegendModel$1),r.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(r)}function install$3(r){use(install$5),use(install$4)}var InsideZoomModel=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.inside",t.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(DataZoomModel$1);const InsideZoomModel$1=InsideZoomModel;var inner=makeInner();function setViewInfoToCoordSysRecord(r,t,n){inner(r).coordSysRecordMap.each(function(i){var a=i.dataZoomInfoMap.get(t.uid);a&&(a.getRange=n)})}function disposeCoordSysRecordIfNeeded(r,t){for(var n=inner(r).coordSysRecordMap,i=n.keys(),a=0;a<i.length;a++){var o=i[a],s=n.get(o),l=s.dataZoomInfoMap;if(l){var u=t.uid,c=l.get(u);c&&(l.removeKey(u),l.keys().length||disposeCoordSysRecord(n,s))}}}function disposeCoordSysRecord(r,t){if(t){r.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function createCoordSysRecord(r,t){var n={model:t,containsPoint:curry$1(containsPoint,t),dispatchAction:curry$1(dispatchAction,r),dataZoomInfoMap:null,controller:null},i=n.controller=new RoamController$1(r.getZr());return each$5(["pan","zoom","scrollMove"],function(a){i.on(a,function(o){var s=[];n.dataZoomInfoMap.each(function(l){if(o.isAvailableBehavior(l.model.option)){var u=(l.getRange||{})[a],c=u&&u(l.dzReferCoordSysInfo,n.model.mainType,n.controller,o);!l.model.get("disabled",!0)&&c&&s.push({dataZoomId:l.model.id,start:c[0],end:c[1]})}}),s.length&&n.dispatchAction(s)})}),n}function dispatchAction(r,t){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function containsPoint(r,t,n,i){return r.coordinateSystem.containPoint([n,i])}function mergeControllerParams(r){var t,n="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return r.each(function(o){var s=o.model,l=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;i[n+l]>i[n+t]&&(t=l),a=a&&s.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function installDataZoomRoamProcessor(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(t,n){var i=inner(n),a=i.coordSysRecordMap||(i.coordSysRecordMap=createHashMap());a.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var s=collectReferCoordSysModelInfo(o);each$5(s.infoList,function(l){var u=l.model.uid,c=a.get(u)||a.set(u,createCoordSysRecord(n,l.model)),f=c.dataZoomInfoMap||(c.dataZoomInfoMap=createHashMap());f.set(o.uid,{dzReferCoordSysInfo:l,model:o,getRange:null})})}),a.each(function(o){var s=o.controller,l,u=o.dataZoomInfoMap;if(u){var c=u.keys()[0];c!=null&&(l=u.get(c))}if(!l){disposeCoordSysRecord(a,o);return}var f=mergeControllerParams(u);s.enable(f.controlType,f.opt),s.setPointerChecker(o.containsPoint),createOrUpdate(o,"dispatchAction",l.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return t.prototype.render=function(n,i,a){if(r.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),setViewInfoToCoordSysRecord(a,n,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(DataZoomView$1),getRangeHandlers={zoom:function(r,t,n,i){var a=this.range,o=a.slice(),s=r.axisModels[0];if(s){var l=getDirectionInfo[t](null,[i.originX,i.originY],s,n,r),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(o[1]-o[0])+o[0],c=Math.max(1/i.scale,0);o[0]=(o[0]-u)*c+u,o[1]=(o[1]-u)*c+u;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,o,[0,100],0,f.minSpan,f.maxSpan),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}},pan:makeMover(function(r,t,n,i,a,o){var s=getDirectionInfo[i]([o.oldX,o.oldY],[o.newX,o.newY],t,a,n);return s.signal*(r[1]-r[0])*s.pixel/s.pixelLength}),scrollMove:makeMover(function(r,t,n,i,a,o){var s=getDirectionInfo[i]([0,0],[o.scrollDelta,o.scrollDelta],t,a,n);return s.signal*(r[1]-r[0])*o.scrollDelta})};function makeMover(r){return function(t,n,i,a){var o=this.range,s=o.slice(),l=t.axisModels[0];if(l){var u=r(s,l,t,n,i,a);if(sliderMove(u,s,[0,100],"all"),this.range=s,o[0]!==s[0]||o[1]!==s[1])return s}}}var getDirectionInfo={grid:function(r,t,n,i,a){var o=n.axis,s={},l=a.model.coordinateSystem.getRect();return r=r||[0,0],o.dim==="x"?(s.pixel=t[0]-r[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-r[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=o.inverse?-1:1),s},polar:function(r,t,n,i,a){var o=n.axis,s={},l=a.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),c=l.getAngleAxis().getExtent();return r=r?l.pointToCoord(r):[0,0],t=l.pointToCoord(t),n.mainType==="radiusAxis"?(s.pixel=t[0]-r[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=o.inverse?1:-1):(s.pixel=t[1]-r[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=o.inverse?-1:1),s},singleAxis:function(r,t,n,i,a){var o=n.axis,s=a.model.coordinateSystem.getRect(),l={};return r=r||[0,0],o.orient==="horizontal"?(l.pixel=t[0]-r[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=o.inverse?1:-1):(l.pixel=t[1]-r[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=o.inverse?-1:1),l}};const InsideZoomView$1=InsideZoomView;function install$2(r){installCommon(r),r.registerComponentModel(InsideZoomModel$1),r.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor(r)}var SliderZoomModel=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(DataZoomModel$1);const SliderZoomModel$1=SliderZoomModel;var Rect=Rect$2,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return t.prototype.init=function(n,i){this.api=i,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},t.prototype.render=function(n,i,a,o){if(r.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){clear(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new Group$3;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(i),this._positionGroup()},t.prototype._resetLocation=function(){var n=this.dataZoomModel,i=this.api,a=n.get("brushSelect"),o=a?DEFAULT_MOVE_HANDLE_SIZE:0,s=this._findCoordRect(),l={width:i.getWidth(),height:i.getHeight()},u=this._orient===HORIZONTAL?{right:l.width-s.x-s.width,top:l.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-o,width:s.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:s.y,width:DEFAULT_FILLER_SIZE,height:s.height},c=getLayoutParams(n.option);each$5(["right","top","width","height"],function(d){c[d]==="ph"&&(c[d]=u[d])});var f=getLayoutRect(c,l);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===VERTICAL&&this._size.reverse()},t.prototype._positionGroup=function(){var n=this.group,i=this._location,a=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),s=o&&o.get("inverse"),l=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(a===HORIZONTAL&&!s?{scaleY:u?1:-1,scaleX:1}:a===HORIZONTAL&&s?{scaleY:u?1:-1,scaleX:-1}:a===VERTICAL&&!s?{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2});var c=n.getBoundingRect([l]);n.x=i.x-c.x,n.y=i.y-c.y,n.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var n=this.dataZoomModel,i=this._size,a=this._displayables.sliderGroup,o=n.get("brushSelect");a.add(new Rect({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var s=new Rect({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),l=this.api.getZr();o?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",l.on("mousemove",this._onBrush),l.on("mouseup",this._onBrushEnd)):(l.off("mousemove",this._onBrush),l.off("mouseup",this._onBrushEnd)),a.add(s)},t.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var i=this._size,a=this._shadowSize||[],o=n.series,s=o.getRawData(),l=o.getShadowDim&&o.getShadowDim(),u=l&&s.getDimensionInfo(l)?o.getShadowDim():n.otherDim;if(u==null)return;var c=this._shadowPolygonPts,f=this._shadowPolylinePts;if(s!==this._shadowData||u!==this._shadowDim||i[0]!==a[0]||i[1]!==a[1]){var d=s.getDataExtent(u),g=(d[1]-d[0])*.3;d=[d[0]-g,d[1]+g];var v=[0,i[1]],M=[0,i[0]],P=[[i[0],0],[0,0]],R=[],I=M[1]/(s.count()-1),$=0,N=Math.round(s.count()/i[0]),F;s.each([u],function(W,q){if(N>0&&q%N){$+=I;return}var X=W==null||isNaN(W)||W==="",K=X?0:linearMap(W,d,v,!0);X&&!F&&q?(P.push([P[P.length-1][0],0]),R.push([R[R.length-1][0],0])):!X&&F&&(P.push([$,0]),R.push([$,0])),P.push([$,K]),R.push([$,K]),$+=I,F=X}),c=this._shadowPolygonPts=P,f=this._shadowPolylinePts=R}this._shadowData=s,this._shadowDim=u,this._shadowSize=[i[0],i[1]];var V=this.dataZoomModel;function H(W){var q=V.getModel(W?"selectedDataBackground":"dataBackground"),X=new Group$3,K=new Polygon$1({shape:{points:c},segmentIgnoreThreshold:1,style:q.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Q=new Polyline$1({shape:{points:f},segmentIgnoreThreshold:1,style:q.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return X.add(K),X.add(Q),X}for(var G=0;G<3;G++){var Y=H(G===1);this._displayables.sliderGroup.add(Y),this._displayables.dataShadowSegs.push(Y)}},t.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,i=n.get("showDataShadow");if(i!==!1){var a,o=this.ecModel;return n.eachTargetAxis(function(s,l){var u=n.getAxisProxy(s,l).getTargetSeriesModels();each$5(u,function(c){if(!a&&!(i!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,c.get("type"))<0)){var f=o.getComponent(getAxisMainType(s),l).axis,d=getOtherDim(s),g,v=c.coordinateSystem;d!=null&&v.getOtherAxis&&(g=v.getOtherAxis(f).inverse),d=c.getData().mapDimension(d),a={thisAxis:f,series:c,thisDim:s,otherDim:d,otherAxisInverse:g}}},this)},this),a}},t.prototype._renderHandle=function(){var n=this.group,i=this._displayables,a=i.handles=[null,null],o=i.handleLabels=[null,null],s=this._displayables.sliderGroup,l=this._size,u=this.dataZoomModel,c=this.api,f=u.get("borderRadius")||0,d=u.get("brushSelect"),g=i.filler=new Rect({silent:d,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});s.add(g),s.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:f},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$5([0,1],function(N){var F=u.get("handleIcon");!symbolBuildProxies[F]&&F.indexOf("path://")<0&&F.indexOf("image://")<0&&(F="path://"+F);var V=createSymbol(F,-1,0,2,2,null,!0);V.attr({cursor:getCursor(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,N),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var H=V.getBoundingRect(),G=u.get("handleSize");this._handleHeight=parsePercent(G,this._size[1]),this._handleWidth=H.width/H.height*this._handleHeight,V.setStyle(u.getModel("handleStyle").getItemStyle()),V.style.strokeNoScale=!0,V.rectHover=!0,V.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(V);var Y=u.get("handleColor");Y!=null&&(V.style.fill=Y),s.add(a[N]=V);var W=u.getModel("textStyle");n.add(o[N]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(W,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:W.getTextColor(),font:W.getFont()}),z2:10}))},this);var v=g;if(d){var M=parsePercent(u.get("moveHandleSize"),l[1]),P=i.moveHandle=new Rect$2({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:M}}),R=M*.8,I=i.moveHandleIcon=createSymbol(u.get("moveHandleIcon"),-R/2,-R/2,R,R,"#fff",!0);I.silent=!0,I.y=l[1]+M/2-.5,P.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var $=Math.min(l[1]/2,Math.max(M,10));v=i.moveZone=new Rect$2({invisible:!0,shape:{y:l[1]-$,height:M+$}}),v.on("mouseover",function(){c.enterEmphasis(P)}).on("mouseout",function(){c.leaveEmphasis(P)}),s.add(P),s.add(I),s.add(v)}v.attr({draggable:!0,cursor:getCursor(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[linearMap(n[0],[0,100],i,!0),linearMap(n[1],[0,100],i,!0)]},t.prototype._updateInterval=function(n,i){var a=this.dataZoomModel,o=this._handleEnds,s=this._getViewExtent(),l=a.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];sliderMove(i,o,s,a.get("zoomLock")?"all":n,l.minSpan!=null?linearMap(l.minSpan,u,s,!0):null,l.maxSpan!=null?linearMap(l.maxSpan,u,s,!0):null);var c=this._range,f=this._range=asc$1([linearMap(o[0],s,u,!0),linearMap(o[1],s,u,!0)]);return!c||c[0]!==f[0]||c[1]!==f[1]},t.prototype._updateView=function(n){var i=this._displayables,a=this._handleEnds,o=asc$1(a.slice()),s=this._size;each$5([0,1],function(v){var M=i.handles[v],P=this._handleHeight;M.attr({scaleX:P/2,scaleY:P/2,x:a[v]+(v?-1:1),y:s[1]/2-P/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:s[1]});var l={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(l),i.moveZone.setShape(l),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",l.x+l.width/2));for(var u=i.dataShadowSegs,c=[0,o[0],o[1],s[0]],f=0;f<u.length;f++){var d=u[f],g=d.getClipPath();g||(g=new Rect$2,d.setClipPath(g)),g.setShape({x:c[f],y:0,width:c[f+1]-c[f],height:s[1]})}this._updateDataInfo(n)},t.prototype._updateDataInfo=function(n){var i=this.dataZoomModel,a=this._displayables,o=a.handleLabels,s=this._orient,l=["",""];if(i.get("showDetail")){var u=i.findRepresentativeAxisProxy();if(u){var c=u.getAxisModel().axis,f=this._range,d=n?u.calculateDataWindow({start:f[0],end:f[1]}).valueWindow:u.getDataValueWindow();l=[this._formatLabel(d[0],c),this._formatLabel(d[1],c)]}}var g=asc$1(this._handleEnds.slice());v.call(this,0),v.call(this,1);function v(M){var P=getTransform(a.handles[M].parent,this.group),R=transformDirection(M===0?"right":"left",P),I=this._handleWidth/2+LABEL_GAP,$=applyTransform([g[M]+(M===0?-I:I),this._size[1]/2],P);o[M].setStyle({x:$[0],y:$[1],verticalAlign:s===HORIZONTAL?"middle":R,align:s===HORIZONTAL?R:"center",text:l[M]})}},t.prototype._formatLabel=function(n,i){var a=this.dataZoomModel,o=a.get("labelFormatter"),s=a.get("labelPrecision");(s==null||s==="auto")&&(s=i.getPixelPrecision());var l=n==null||isNaN(n)?"":i.type==="category"||i.type==="time"?i.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(s,20));return isFunction(o)?o(n,l):isString(o)?o.replace("{value}",l):l},t.prototype._showDataInfo=function(n){n=this._dragging||n;var i=this._displayables,a=i.handleLabels;a[0].attr("invisible",!n),a[1].attr("invisible",!n),i.moveHandle&&this.api[n?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},t.prototype._onDragMove=function(n,i,a,o){this._dragging=!0,stop(o.event);var s=this._displayables.sliderGroup.getLocalTransform(),l=applyTransform([i,a],s,!0),u=this._updateInterval(n,l[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),u&&c&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(n){var i=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(a[0]<0||a[0]>i[0]||a[1]<0||a[1]>i[1])){var o=this._handleEnds,s=(o[0]+o[1])/2,l=this._updateInterval("all",a[0]-s);this._updateView(),l&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(n){var i=n.offsetX,a=n.offsetY;this._brushStart=new Point$1(i,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(n){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,!!i){i.attr("ignore",!0);var a=i.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(a.width)<5)){var s=this._getViewExtent(),l=[0,100];this._range=asc$1([linearMap(a.x,s,l,!0),linearMap(a.x+a.width,s,l,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(n){this._brushing&&(stop(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},t.prototype._updateBrushRect=function(n,i){var a=this._displayables,o=this.dataZoomModel,s=a.brushRect;s||(s=a.brushRect=new Rect({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(s)),s.attr("ignore",!1);var l=this._brushStart,u=this._displayables.sliderGroup,c=u.transformCoordToLocal(n,i),f=u.transformCoordToLocal(l.x,l.y),d=this._size;c[0]=Math.max(Math.min(d[0],c[0]),0),s.setShape({x:f[0],y:0,width:c[0]-f[0],height:d[1]})},t.prototype._dispatchZoomAction=function(n){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?REALTIME_ANIMATION_CONFIG:null,start:i[0],end:i[1]})},t.prototype._findCoordRect=function(){var n,i=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!n&&i.length){var a=i[0].model.coordinateSystem;n=a.getRect&&a.getRect()}if(!n){var o=this.api.getWidth(),s=this.api.getHeight();n={x:o*.2,y:s*.2,width:o*.6,height:s*.6}}return n},t.type="dataZoom.slider",t}(DataZoomView$1);function getOtherDim(r){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[r]}function getCursor(r){return r==="vertical"?"ns-resize":"ew-resize"}const SliderZoomView$1=SliderZoomView;function install$1(r){r.registerComponentModel(SliderZoomModel$1),r.registerComponentView(SliderZoomView$1),installCommon(r)}function install(r){use(install$2),use(install$1)}var raf=null;function requestAnimationFrame(r){return raf||(raf=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),raf(r)}var caf=null;function cancelAnimationFrame(r){caf||(caf=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),caf(r)}function createStyles(r){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r)),(document.querySelector("head")||document.body).appendChild(t),t}function createElement(r,t){t===void 0&&(t={});var n=document.createElement(r);return Object.keys(t).forEach(function(i){n[i]=t[i]}),n}function getComputedStyle(r,t,n){var i=window.getComputedStyle(r,n||null)||{display:"none"};return i[t]}function getRenderInfo(r){if(!document.documentElement.contains(r))return{detached:!0,rendered:!1};for(var t=r;t!==document;){if(getComputedStyle(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var css_248z='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',total=0,style=null;function addListener(r,t){r.__resize_mutation_handler__||(r.__resize_mutation_handler__=handleMutation.bind(r));var n=r.__resize_listeners__;if(!n){if(r.__resize_listeners__=[],window.ResizeObserver){var i=r.offsetWidth,a=r.offsetHeight,o=new ResizeObserver(function(){!r.__resize_observer_triggered__&&(r.__resize_observer_triggered__=!0,r.offsetWidth===i&&r.offsetHeight===a)||runCallbacks(r)}),s=getRenderInfo(r),l=s.detached,u=s.rendered;r.__resize_observer_triggered__=l===!1&&u===!1,r.__resize_observer__=o,o.observe(r)}else if(r.attachEvent&&r.addEventListener)r.__resize_legacy_resize_handler__=function(){runCallbacks(r)},r.attachEvent("onresize",r.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",r.__resize_mutation_handler__);else if(total||(style=createStyles(css_248z)),initTriggers(r),r.__resize_rendered__=getRenderInfo(r).rendered,window.MutationObserver){var c=new MutationObserver(r.__resize_mutation_handler__);c.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),r.__resize_mutation_observer__=c}}r.__resize_listeners__.push(t),total++}function removeListener(r,t){var n=r.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(r.detachEvent&&r.removeEventListener){r.detachEvent("onresize",r.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",r.__resize_mutation_handler__);return}r.__resize_observer__?(r.__resize_observer__.unobserve(r),r.__resize_observer__.disconnect(),r.__resize_observer__=null):(r.__resize_mutation_observer__&&(r.__resize_mutation_observer__.disconnect(),r.__resize_mutation_observer__=null),r.removeEventListener("scroll",handleScroll),r.removeChild(r.__resize_triggers__.triggers),r.__resize_triggers__=null),r.__resize_listeners__=null}!--total&&style&&style.parentNode.removeChild(style)}}function getUpdatedSize(r){var t=r.__resize_last__,n=t.width,i=t.height,a=r.offsetWidth,o=r.offsetHeight;return a!==n||o!==i?{width:a,height:o}:null}function handleMutation(){var r=getRenderInfo(this),t=r.rendered,n=r.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(resetTriggers(this),this.addEventListener("scroll",handleScroll,!0)),this.__resize_rendered__=t,runCallbacks(this))}function handleScroll(){var r=this;resetTriggers(this),this.__resize_raf__&&cancelAnimationFrame(this.__resize_raf__),this.__resize_raf__=requestAnimationFrame(function(){var t=getUpdatedSize(r);t&&(r.__resize_last__=t,runCallbacks(r))})}function runCallbacks(r){!r||!r.__resize_listeners__||r.__resize_listeners__.forEach(function(t){t.call(r,r)})}function initTriggers(r){var t=getComputedStyle(r,"position");(!t||t==="static")&&(r.style.position="relative"),r.__resize_old_position__=t,r.__resize_last__={};var n=createElement("div",{className:"resize-triggers"}),i=createElement("div",{className:"resize-expand-trigger"}),a=createElement("div"),o=createElement("div",{className:"resize-contract-trigger"});i.appendChild(a),n.appendChild(i),n.appendChild(o),r.appendChild(n),r.__resize_triggers__={triggers:n,expand:i,expandChild:a,contract:o},resetTriggers(r),r.addEventListener("scroll",handleScroll,!0),r.__resize_last__={width:r.offsetWidth,height:r.offsetHeight}}function resetTriggers(r){var t=r.__resize_triggers__,n=t.expand,i=t.expandChild,a=t.contract,o=a.scrollWidth,s=a.scrollHeight,l=n.offsetWidth,u=n.offsetHeight,c=n.scrollWidth,f=n.scrollHeight;a.scrollLeft=o,a.scrollTop=s,i.style.width=l+1+"px",i.style.height=u+1+"px",n.scrollLeft=c,n.scrollTop=f}var O=function(){return O=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r},O.apply(this,arguments)};var b=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function y(r){return t=Object.create(null),b.forEach(function(n){t[n]=function(i){return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(!r.value)throw new Error("ECharts is not initialized yet.");return r.value[i].apply(r.value,a)}}(n)}),t;var t}var E={autoresize:[Boolean,Object]},_=/^on[^a-z]/,x=function(r){return _.test(r)};function j(r,t){var n=unref(r);return n&&typeof n=="object"&&"value"in n?n.value||t:n||t}var A="ecLoadingOptions",w={loading:Boolean,loadingOptions:Object},z=null,C="x-vue-echarts",L=[],T=[];(function(r,t){if(r&&typeof document<"u"){var n,i=t.prepend===!0?"prepend":"append",a=t.singleTag===!0,o=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(a){var s=L.indexOf(o);s===-1&&(s=L.push(o)-1,T[s]={}),n=T[s]&&T[s][i]?T[s][i]:T[s][i]=l()}else n=l();r.charCodeAt(0)===65279&&(r=r.substring(1)),n.styleSheet?n.styleSheet.cssText+=r:n.appendChild(document.createTextNode(r))}function l(){var u=document.createElement("style");if(u.setAttribute("type","text/css"),t.attributes)for(var c=Object.keys(t.attributes),f=0;f<c.length;f++)u.setAttribute(c[f],t.attributes[c[f]]);var d=i==="prepend"?"afterbegin":"beforeend";return o.insertAdjacentElement(d,u),u}})(`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}x-vue-echarts>div{width:100%;height:100%}
`,{});var S=function(){if(z!=null)return z;if(typeof HTMLElement>"u"||typeof customElements>"u")return z=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(C)}catch{return z=!1}return z=!0}(),D="ecTheme",U="ecInitOptions",k="ecUpdateOptions",B=defineComponent({name:"echarts",props:O(O({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},E),w),emits:{},inheritAttrs:!1,setup:function(r,t){var n=t.attrs,i=shallowRef(),a=shallowRef(),o=shallowRef(),s=shallowRef(),l=inject(D,null),u=inject(U,null),c=inject(k,null),f=toRefs(r),d=f.autoresize,g=f.manualUpdate,v=f.loading,M=f.loadingOptions,P=computed(function(){return s.value||r.option||null}),R=computed(function(){return r.theme||j(l,{})}),I=computed(function(){return r.initOptions||j(u,{})}),$=computed(function(){return r.updateOptions||j(c,{})}),N=computed(function(){return function(W){var q={};for(var X in W)x(X)||(q[X]=W[X]);return q}(n)}),F=getCurrentInstance().proxy.$listeners;function V(W){if(a.value){var q=o.value=init(a.value,R.value,I.value);r.group&&(q.group=r.group);var X=F;X||(X={},Object.keys(n).filter(function(Q){return Q.indexOf("on")===0&&Q.length>2}).forEach(function(Q){var te=Q.charAt(2).toLowerCase()+Q.slice(3);te.substring(te.length-4)==="Once"&&(te="~".concat(te.substring(0,te.length-4))),X[te]=n[Q]})),Object.keys(X).forEach(function(Q){var te=X[Q];if(te){var ae=Q.toLowerCase();ae.charAt(0)==="~"&&(ae=ae.substring(1),te.__once__=!0);var re=q;if(ae.indexOf("zr:")===0&&(re=q.getZr(),ae=ae.substring(3)),te.__once__){delete te.__once__;var de=te;te=function(){for(var se=[],ce=0;ce<arguments.length;ce++)se[ce]=arguments[ce];de.apply(void 0,se),re.off(ae,te)}}re.on(ae,te)}}),d.value?nextTick(function(){q&&!q.isDisposed()&&q.resize(),K()}):K()}function K(){var Q=W||P.value;Q&&q.setOption(Q,$.value)}}function H(){o.value&&(o.value.dispose(),o.value=void 0)}var G=null;watch(g,function(W){typeof G=="function"&&(G(),G=null),W||(G=watch(function(){return r.option},function(q,X){q&&(o.value?o.value.setOption(q,O({notMerge:q!==X},$.value)):V())},{deep:!0}))},{immediate:!0}),watch([R,I],function(){H(),V()},{deep:!0}),watchEffect(function(){r.group&&o.value&&(o.value.group=r.group)});var Y=y(o);return function(W,q,X){var K=inject(A,{}),Q=computed(function(){return O(O({},j(K,{})),X==null?void 0:X.value)});watchEffect(function(){var te=W.value;te&&(q.value?te.showLoading(Q.value):te.hideLoading())})}(o,v,M),function(W,q,X){var K=null;watch([X,W,q],function(Q,te,ae){var re=Q[0],de=Q[1],se=Q[2];if(re&&de&&se){var ce=se===!0?{}:se,ye=ce.throttle,Te=ye===void 0?100:ye,me=ce.onResize,xe=function(){de.resize(),me==null||me()};K=Te?throttle(xe,Te):xe,addListener(re,K)}ae(function(){re&&K&&removeListener(re,K)})})}(o,d,a),onMounted(function(){V()}),onBeforeUnmount(function(){S&&i.value?i.value.__dispose=H:H()}),O({chart:o,root:i,inner:a,setOption:function(W,q){r.manualUpdate&&(s.value=W),o.value?o.value.setOption(W,q||{}):V(W)},nonEventAttrs:N},Y)},render:function(){var r=O({},this.nonEventAttrs);return r.ref="root",r.class=r.class?["echarts"].concat(r.class):"echarts",h(C,r,[h("div",{ref:"inner"})])}});const _withScopeId=r=>(pushScopeId("data-v-1f7c7771"),r=r(),popScopeId(),r),_hoisted_1$1={class:"container"},_hoisted_2$1={class:"control-container"},_hoisted_3=_withScopeId(()=>createBaseVNode("option",{value:"info"},"info",-1)),_hoisted_4=_withScopeId(()=>createBaseVNode("option",{value:"warn"},"warn",-1)),_hoisted_5=_withScopeId(()=>createBaseVNode("option",{value:"error"},"error",-1)),_hoisted_6=[_hoisted_3,_hoisted_4,_hoisted_5],_hoisted_7=_withScopeId(()=>createBaseVNode("span",null,"Scrollable",-1)),_hoisted_8={class:"message"},_sfc_main$1=defineComponent({__name:"Logger",props:{running:{type:Boolean}},emits:["update:running"],setup(r,{expose:t,emit:n}){const i=r,a=ref([]),o=ref("info"),s=ref(!0),l=ref(),u=R=>{const I=R.getHours().toString(),$=R.getMinutes().toString(),N=R.getSeconds().toString();return`[${I.padStart(2,"0")}:${$.padStart(2,"0")}:${N.padStart(2,"0")}]`},c=R=>R=="warn"?"#ffc409":R=="error"?"#eb445a":"#000000",f=R=>["error","warn","info"].findIndex($=>$==R),d=(R,I)=>{const $=f(I),N=f(o.value);$>N||(a.value.length>200&&a.value.shift(),a.value.push({level:I||"info",timestanp:new Date,message:R}),nextTick(()=>{s.value&&(l.value.scrollTop=l.value.scrollHeight-l.value.offsetHeight+5)}))},g=R=>{d(R,"info")},v=R=>{d(R,"warn")},M=R=>{d(R,"error")},P=async()=>{const R=!i.running;n("update:running",R)};return t({info:g,warn:v,error:M}),(R,I)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("button",{onClick:P},toDisplayString(i.running?"Stop":"Start"),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":I[0]||(I[0]=$=>o.value=$)},_hoisted_6,512),[[vModelSelect,o.value]]),createBaseVNode("span",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":I[1]||(I[1]=$=>s.value=$)},null,512),[[vModelCheckbox,s.value]]),_hoisted_7])]),createBaseVNode("div",{class:"message-container",ref_key:"containerRef",ref:l},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value,$=>(openBlock(),createElementBlock("div",{style:normalizeStyle$1(`color:${c($.level)}`)},[createBaseVNode("span",null,toDisplayString(u($.timestanp)),1),createBaseVNode("span",_hoisted_8,toDisplayString($.message),1)],4))),256))],512)]))}}),Logger_vue_vue_type_style_index_0_scoped_1f7c7771_lang="",_export_sfc=(r,t)=>{const n=r.__vccOpts||r;for(const[i,a]of t)n[i]=a;return n},Logger=_export_sfc(_sfc_main$1,[["__scopeId","data-v-1f7c7771"]]),_hoisted_1={class:"ion-flex ion-flex-column"},_hoisted_2={class:"logger-container"},chartMax=2,chartDataMax=6e3,_sfc_main=defineComponent({__name:"App",setup(__props){use([install$c,install$b,install$a,install$3,install$6,install$7,install]);const win=window,ins=getCurrentInstance(),chartContainerRef=ref(),loggerRef=ref(null),chartsRef=ref(0),chartHeight=ref(100),chartSeries=ref([]),chartReady=ref(!1),option={tooltip:{trigger:"axis",axisPointer:{animation:!1}},legend:{show:!0},grid:[{left:"0%",right:"48px"}],dataZoom:[{show:!0,realtime:!0,orient:"vertical"},{type:"inside",realtime:!0,orient:"vertical"}],xAxis:{type:"category",axisLabel:{show:!1}},yAxis:{type:"value",axisLabel:{inside:!0}}},findChart=async r=>(ins==null?void 0:ins.refs[`chartRef_${r}`])[0],resizeChart=async()=>{chartHeight.value=chartContainerRef.value.clientHeight/chartsRef.value},initMultipleChart=async r=>{chartSeries.value=[];const t=Math.min(r.length,chartsRef.value);for(let n=0;n<t;n++){const i=await findChart(n+1),a=r[n];chartSeries.value.push([]),i.setOption({series:a.map(o=>(chartSeries.value[n].push({data:[]}),{name:o,type:"line",showSymbol:!1,data:[]}))})}},updateMultipleChart=async r=>{var n,i,a;const t=Math.min(r.length,chartsRef.value);for(let o=0;o<t;o++){const s=await findChart(o+1),l=r[o];if(!l)continue;const u=chartSeries.value[o];for(let c=0;c<l.length;c++){const f=u[c];((n=f.data)==null?void 0:n.length)>chartDataMax&&((i=f.data)==null||i.shift()),(a=f.data)==null||a.push(l[c])}s.setOption({series:u})}};return onMounted(()=>{var r,t,n;win.$runtime={info:(r=loggerRef.value)==null?void 0:r.info,warn:(t=loggerRef.value)==null?void 0:t.warn,error:(n=loggerRef.value)==null?void 0:n.error,series:[],ondata:i=>{var a;(a=loggerRef.value)==null||a.info(i)},onstart:()=>{var i;(i=loggerRef.value)==null||i.info("--start runtime--")},onstop:()=>{var i;(i=loggerRef.value)==null||i.info("--stop runtime--")}},window.addEventListener("message",async e=>{var i;const{action,data}=e.data;try{if(action=="eval"){eval(data);const runtime=win.$runtime,series=Array.isArray(runtime.series[0])?runtime.series:[runtime.series];chartsRef.value=series.length,chartsRef.value>chartMax&&(chartsRef.value=chartMax),await resizeChart(),nextTick(async()=>{await initMultipleChart(series),runtime.onstart&&await runtime.onstart(),chartReady.value=!0})}else if(action=="recv"){const a=win.$runtime;if(a.ondata&&chartReady.value){const o=await a.ondata(data);if(!o)return;const s=chartsRef.value==1?[o]:o;updateMultipleChart(s)}}}catch(a){console.log(a),(i=loggerRef.value)==null||i.error(a)}}),window.addEventListener("resize",resizeChart)}),onUnmounted(async()=>{chartReady.value=!1;const r=win.$runtime;r.onstop&&await r.onstop()}),(r,t)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",{class:"charts-container",ref_key:"chartContainerRef",ref:chartContainerRef},[(openBlock(!0),createElementBlock(Fragment,null,renderList(chartsRef.value,n=>(openBlock(),createElementBlock("div",{class:"chart-container",style:normalizeStyle$1(`height:${chartHeight.value}px`)},[createVNode(unref(B),{ref_for:!0,ref:`chartRef_${n}`,option,autoresize:""},null,512)],4))),256))],512),createBaseVNode("div",_hoisted_2,[createVNode(Logger,{running:chartReady.value,"onUpdate:running":t[0]||(t[0]=n=>chartReady.value=n),ref_key:"loggerRef",ref:loggerRef},null,8,["running"])])]))}}),App_vue_vue_type_style_index_0_lang="";createApp(_sfc_main).mount("#app");
